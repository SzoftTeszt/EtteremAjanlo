"use strict";(self.webpackChunkEtteremAjanlo=self.webpackChunkEtteremAjanlo||[]).push([[179],{6304:(lt,De,x)=>{x.d(De,{Dh:()=>Se,GT:()=>de,cc:()=>Oe,hO:()=>Ue,on:()=>H,pX:()=>ae,xv:()=>pe});var l=x(5879),$=x(120),R=x(2793);lt=x.hmd(lt);const ee=["ngOnDestroy"],ae=(Me,ht,ot,re={})=>new Proxy(Me,{get:(be,ce)=>ot.runOutsideAngular(()=>{var we;if(Me[ce])return!(null===(we=re?.spy)||void 0===we)&&we.get&&re.spy.get(ce,Me[ce]),Me[ce];if(ee.indexOf(ce)>-1)return()=>{};const Be=ht.toPromise().then(G=>{const Ne=G&&G[ce];return"function"==typeof Ne?Ne.bind(G):Ne&&Ne.then?Ne.then(Ge=>ot.run(()=>Ge)):ot.run(()=>Ne)});return new Proxy(()=>{},{get:(G,Ne)=>Be[Ne],apply:(G,Ne,Ge)=>Be.then(mt=>{var $t;const gn=mt&&mt(...Ge);return!(null===($t=re?.spy)||void 0===$t)&&$t.apply&&re.spy.apply(ce,Ge,gn),gn})})})}),de=(Me,ht)=>{ht.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(re=>{Object.defineProperty(Me.prototype,re,Object.getOwnPropertyDescriptor(ot.prototype||ot,re))})})};class ye{constructor(ht){return ht}}const Se=new l.OlP("angularfire2.app.options"),pe=new l.OlP("angularfire2.app.name");function H(Me,ht,ot){const be="object"==typeof ot&&ot||{};be.name=be.name||"string"==typeof ot&&ot||"[DEFAULT]";const we=$.Z.apps.filter(Be=>Be&&Be.name===be.name)[0]||ht.runOutsideAngular(()=>$.Z.initializeApp(Me,be));try{JSON.stringify(Me)!==JSON.stringify(we.options)&&Z("error",`${we.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ye(we)}const Z=(Me,...ht)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Me](...ht)},oe={provide:ye,useFactory:H,deps:[Se,l.R0b,[new l.FiY,pe]]};let Ue=(()=>{class Me{constructor(ot){$.Z.registerVersion("angularfire",R.q4.full,"core"),$.Z.registerVersion("angularfire",R.q4.full,"app-compat"),$.Z.registerVersion("angular",l.q4F.full,ot.toString())}static initializeApp(ot,re){return{ngModule:Me,providers:[{provide:Se,useValue:ot},{provide:pe,useValue:re}]}}}return Me.\u0275fac=function(ot){return new(ot||Me)(l.LFG(l.Lbi))},Me.\u0275mod=l.oAB({type:Me}),Me.\u0275inj=l.cJS({providers:[oe]}),Me})();function Oe(Me,ht,ot,re,be){const[,ce,we]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Me)||[];if(ce)return function ze(Me,ht){try{return Me.toString()===ht.toString()}catch{return Me===ht}}(be,we)||(qe("error",`${ht} was already initialized on the ${ot} Firebase App with different settings.${Pe?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:be,was:we})),ce;{const Be=re();return globalThis.\u0275AngularfireInstanceCache.push([Me,Be,be]),Be}}const Pe=!!lt.hot,qe=(Me,...ht)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Me](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(lt,De,x)=>{x.d(De,{q4:()=>Oo,iC:()=>dd,HU:()=>zc,vb:()=>cd,JM:()=>gs});var l=x(5879),$=x(4097),R=x(5861),ee=x(4303),ae=x(9058),de=x(4537),ye=x(7879);const Se=(E,C)=>C.some(S=>E instanceof S);let pe,H;const Ue=new WeakMap,Oe=new WeakMap,ze=new WeakMap,Pe=new WeakMap,qe=new WeakMap;let ot={get(E,C,S){if(E instanceof IDBTransaction){if("done"===C)return Oe.get(E);if("objectStoreNames"===C)return E.objectStoreNames||ze.get(E);if("store"===C)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return we(E[C])},set:(E,C,S)=>(E[C]=S,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function ce(E){return"function"==typeof E?function be(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function oe(){return H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(Be(this),C),we(Ue.get(this))}:function(...C){return we(E.apply(Be(this),C))}:function(C,...S){const V=E.call(Be(this),C,...S);return ze.set(V,C.sort?C.sort():[C]),we(V)}}(E):(E instanceof IDBTransaction&&function ht(E){if(Oe.has(E))return;const C=new Promise((S,V)=>{const q=()=>{E.removeEventListener("complete",ie),E.removeEventListener("error",ve),E.removeEventListener("abort",ve)},ie=()=>{S(),q()},ve=()=>{V(E.error||new DOMException("AbortError","AbortError")),q()};E.addEventListener("complete",ie),E.addEventListener("error",ve),E.addEventListener("abort",ve)});Oe.set(E,C)}(E),Se(E,function Z(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ot):E)}function we(E){if(E instanceof IDBRequest)return function Me(E){const C=new Promise((S,V)=>{const q=()=>{E.removeEventListener("success",ie),E.removeEventListener("error",ve)},ie=()=>{S(we(E.result)),q()},ve=()=>{V(E.error),q()};E.addEventListener("success",ie),E.addEventListener("error",ve)});return C.then(S=>{S instanceof IDBCursor&&Ue.set(S,E)}).catch(()=>{}),qe.set(C,E),C}(E);if(Pe.has(E))return Pe.get(E);const C=ce(E);return C!==E&&(Pe.set(E,C),qe.set(C,E)),C}const Be=E=>qe.get(E),Ge=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],$t=new Map;function gn(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if($t.get(C))return $t.get(C);const S=C.replace(/FromIndex$/,""),V=C!==S,q=mt.includes(S);if(!(S in(V?IDBIndex:IDBObjectStore).prototype)||!q&&!Ge.includes(S))return;const ie=function(){var ve=(0,R.Z)(function*(tt,...Je){const dt=this.transaction(tt,q?"readwrite":"readonly");let It=dt.store;return V&&(It=It.index(Je.shift())),(yield Promise.all([It[S](...Je),q&&dt.done]))[0]});return function(Je){return ve.apply(this,arguments)}}();return $t.set(C,ie),ie}!function re(E){ot=E(ot)}(E=>({...E,get:(C,S,V)=>gn(C,S)||E.get(C,S,V),has:(C,S)=>!!gn(C,S)||E.has(C,S)}));const fn="@firebase/installations",un="0.6.4",ln=1e4,Gn=`w:${un}`,le="FIS_v2",he="https://firebaseinstallations.googleapis.com/v1",me=36e5,Qe=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function We(E){return E instanceof ae.ZR&&E.code.includes("request-failed")}function Qt({projectId:E}){return`${he}/projects/${E}/installations`}function yt(E){return{token:E.token,requestStatus:2,expiresIn:J(E.expiresIn),creationTime:Date.now()}}function Gt(E,C){return ft.apply(this,arguments)}function ft(){return(ft=(0,R.Z)(function*(E,C){const V=(yield C.json()).error;return Qe.create("request-failed",{requestName:E,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function qt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function pn(E){return X.apply(this,arguments)}function X(){return(X=(0,R.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function J(E){return Number(E.replace("s","000"))}function je(){return(je=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:C},{fid:S}){const V=Qt(E),q=qt(E),ie=C.getImmediate({optional:!0});if(ie){const dt=yield ie.getHeartbeatsHeader();dt&&q.append("x-firebase-client",dt)}const tt={method:"POST",headers:q,body:JSON.stringify({fid:S,authVersion:le,appId:E.appId,sdkVersion:Gn})},Je=yield pn(()=>fetch(V,tt));if(Je.ok){const dt=yield Je.json();return{fid:dt.fid||S,registrationStatus:2,refreshToken:dt.refreshToken,authToken:yt(dt.authToken)}}throw yield Gt("Create Installation",Je)})).apply(this,arguments)}function Ze(E){return new Promise(C=>{setTimeout(C,E)})}const jt=/^[cdef][\w-]{21}$/,Xe="";function st(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const S=function wt(E){return function rn(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return jt.test(S)?S:Xe}catch{return Xe}}function Ot(E){return`${E.appName}!${E.appId}`}const wn=new Map;function An(E,C){const S=Ot(E);sn(S,C),function Ft(E,C){const S=function Lt(){return!ii&&"BroadcastChannel"in self&&(ii=new BroadcastChannel("[Firebase] FID Change"),ii.onmessage=E=>{sn(E.data.key,E.data.fid)}),ii}();S&&S.postMessage({key:E,fid:C}),function mn(){0===wn.size&&ii&&(ii.close(),ii=null)}()}(S,C)}function sn(E,C){const S=wn.get(E);if(S)for(const V of S)V(C)}let ii=null;const ki="firebase-installations-database",Hi=1,Wn="firebase-installations-store";let kn=null;function _e(){return kn||(kn=function G(E,C,{blocked:S,upgrade:V,blocking:q,terminated:ie}={}){const ve=indexedDB.open(E,C),tt=we(ve);return V&&ve.addEventListener("upgradeneeded",Je=>{V(we(ve.result),Je.oldVersion,Je.newVersion,we(ve.transaction))}),S&&ve.addEventListener("blocked",()=>S()),tt.then(Je=>{ie&&Je.addEventListener("close",()=>ie()),q&&Je.addEventListener("versionchange",()=>q())}).catch(()=>{}),tt}(ki,Hi,{upgrade:(E,C)=>{0===C&&E.createObjectStore(Wn)}})),kn}function Y(E,C){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,R.Z)(function*(E,C){const S=Ot(E),q=(yield _e()).transaction(Wn,"readwrite"),ie=q.objectStore(Wn),ve=yield ie.get(S);return yield ie.put(C,S),yield q.done,(!ve||ve.fid!==C.fid)&&An(E,C.fid),C})).apply(this,arguments)}function $e(E){return at.apply(this,arguments)}function at(){return(at=(0,R.Z)(function*(E){const C=Ot(E),V=(yield _e()).transaction(Wn,"readwrite");yield V.objectStore(Wn).delete(C),yield V.done})).apply(this,arguments)}function pt(E,C){return an.apply(this,arguments)}function an(){return(an=(0,R.Z)(function*(E,C){const S=Ot(E),q=(yield _e()).transaction(Wn,"readwrite"),ie=q.objectStore(Wn),ve=yield ie.get(S),tt=C(ve);return void 0===tt?yield ie.delete(S):yield ie.put(tt,S),yield q.done,tt&&(!ve||ve.fid!==tt.fid)&&An(E,tt.fid),tt})).apply(this,arguments)}function z(E){return W.apply(this,arguments)}function W(){return W=(0,R.Z)(function*(E){let C;const S=yield pt(E.appConfig,V=>{const q=function k(E){return it(E||{fid:st(),registrationStatus:0})}(V),ie=function F(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Qe.create("app-offline"))};const S={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},V=function O(E,C){return ne.apply(this,arguments)}(E,S);return{installationEntry:S,registrationPromise:V}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Re(E)}:{installationEntry:C}}(E,q);return C=ie.registrationPromise,ie.installationEntry});return S.fid===Xe?{installationEntry:yield C}:{installationEntry:S,registrationPromise:C}}),W.apply(this,arguments)}function ne(){return ne=(0,R.Z)(function*(E,C){try{const S=yield function Ce(E,C){return je.apply(this,arguments)}(E,C);return Y(E.appConfig,S)}catch(S){throw We(S)&&409===S.customData.serverCode?yield $e(E.appConfig):yield Y(E.appConfig,{fid:C.fid,registrationStatus:0}),S}}),ne.apply(this,arguments)}function Re(E){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,R.Z)(function*(E){let C=yield At(E.appConfig);for(;1===C.registrationStatus;)yield Ze(100),C=yield At(E.appConfig);if(0===C.registrationStatus){const{installationEntry:S,registrationPromise:V}=yield z(E);return V||S}return C})).apply(this,arguments)}function At(E){return pt(E,C=>{if(!C)throw Qe.create("installation-not-found");return it(C)})}function it(E){return function cn(E){return 1===E.registrationStatus&&E.registrationTime+ln<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function _n(){return(_n=(0,R.Z)(function*({appConfig:E,heartbeatServiceProvider:C},S){const V=function Bt(E,{fid:C}){return`${Qt(E)}/${C}/authTokens:generate`}(E,S),q=function bn(E,{refreshToken:C}){const S=qt(E);return S.append("Authorization",function ge(E){return`${le} ${E}`}(C)),S}(E,S),ie=C.getImmediate({optional:!0});if(ie){const dt=yield ie.getHeartbeatsHeader();dt&&q.append("x-firebase-client",dt)}const tt={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Gn,appId:E.appId}})},Je=yield pn(()=>fetch(V,tt));if(Je.ok)return yt(yield Je.json());throw yield Gt("Generate Auth Token",Je)})).apply(this,arguments)}function Fi(E){return xs.apply(this,arguments)}function xs(){return xs=(0,R.Z)(function*(E,C=!1){let S;const V=yield pt(E.appConfig,ie=>{if(!is(ie))throw Qe.create("not-registered");const ve=ie.authToken;if(!C&&function mo(E){return 2===E.requestStatus&&!function ja(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+me}(E)}(ve))return ie;if(1===ve.requestStatus)return S=function Hr(E,C){return Cr.apply(this,arguments)}(E,C),ie;{if(!navigator.onLine)throw Qe.create("app-offline");const tt=function Ha(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}(ie);return S=function rr(E,C){return Xt.apply(this,arguments)}(E,tt),tt}});return S?yield S:V.authToken}),xs.apply(this,arguments)}function Cr(){return(Cr=(0,R.Z)(function*(E,C){let S=yield Tr(E.appConfig);for(;1===S.authToken.requestStatus;)yield Ze(100),S=yield Tr(E.appConfig);const V=S.authToken;return 0===V.requestStatus?Fi(E,C):V})).apply(this,arguments)}function Tr(E){return pt(E,C=>{if(!is(C))throw Qe.create("not-registered");return function $r(E){return 1===E.requestStatus&&E.requestTime+ln<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Xt(){return Xt=(0,R.Z)(function*(E,C){try{const S=yield function Rt(E,C){return _n.apply(this,arguments)}(E,C),V=Object.assign(Object.assign({},C),{authToken:S});return yield Y(E.appConfig,V),S}catch(S){if(!We(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const V=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Y(E.appConfig,V)}else yield $e(E.appConfig);throw S}}),Xt.apply(this,arguments)}function is(E){return void 0!==E&&2===E.registrationStatus}function vo(){return(vo=(0,R.Z)(function*(E){const C=E,{installationEntry:S,registrationPromise:V}=yield z(C);return V?V.catch(console.error):Fi(C).catch(console.error),S.fid})).apply(this,arguments)}function yo(){return yo=(0,R.Z)(function*(E,C=!1){const S=E;return yield function Gr(E){return ks.apply(this,arguments)}(S),(yield Fi(S,C)).token}),yo.apply(this,arguments)}function ks(){return(ks=(0,R.Z)(function*(E){const{registrationPromise:C}=yield z(E);C&&(yield C)})).apply(this,arguments)}function Xo(E){return Qe.create("missing-app-config-values",{valueName:E})}const $a="installations",ea=E=>{const C=E.getProvider("app").getImmediate(),S=function Li(E){if(!E||!E.options)throw Xo("App Configuration");if(!E.name)throw Xo("App Name");const C=["projectId","apiKey","appId"];for(const S of C)if(!E.options[S])throw Xo(S);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:S,heartbeatServiceProvider:(0,ee.qX)(C,"heartbeat"),_delete:()=>Promise.resolve()}},hc=E=>{const C=E.getProvider("app").getImmediate(),S=(0,ee.qX)(C,$a).getImmediate();return{getId:()=>function _o(E){return vo.apply(this,arguments)}(S),getToken:q=>function dc(E){return yo.apply(this,arguments)}(S,q)}};(function fc(){(0,ee.Xd)(new de.wA($a,ea,"PUBLIC")),(0,ee.Xd)(new de.wA("installations-internal",hc,"PRIVATE"))})(),(0,ee.KN)(fn,un),(0,ee.KN)(fn,un,"esm2017");const ta="@firebase/remote-config",yi=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pt{constructor(C,S,V,q){this.client=C,this.storage=S,this.storageCache=V,this.logger=q}isCachedDataFresh(C,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-S,q=V<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${q}.`),q}fetch(C){var S=this;return(0,R.Z)(function*(){const[V,q]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(q&&S.isCachedDataFresh(C.cacheMaxAgeMillis,V))return q;C.eTag=q&&q.eTag;const ie=yield S.client.fetch(C),ve=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&ve.push(S.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(ve),ie})()}}function Dn(E=navigator){return E.languages&&E.languages[0]||E.language}class $i{constructor(C,S,V,q,ie,ve){this.firebaseInstallations=C,this.sdkVersion=S,this.namespace=V,this.projectId=q,this.apiKey=ie,this.appId=ve}fetch(C){var S=this;return(0,R.Z)(function*(){const[V,q]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Je={sdk_version:S.sdkVersion,app_instance_id:V,app_instance_id_token:q,app_id:S.appId,language_code:Dn()},dt={method:"POST",headers:tt,body:JSON.stringify(Je)},It=fetch(ve,dt),Mt=new Promise((gi,Kr)=>{C.signal.addEventListener(()=>{const mi=new Error("The operation was aborted.");mi.name="AbortError",Kr(mi)})});let ni;try{yield Promise.race([It,Mt]),ni=yield It}catch(gi){let Kr="fetch-client-network";throw"AbortError"===gi?.name&&(Kr="fetch-timeout"),yi.create(Kr,{originalErrorMessage:gi?.message})}let Un=ni.status;const Cl=ni.headers.get("ETag")||void 0;let Cn,Lo;if(200===ni.status){let gi;try{gi=yield ni.json()}catch(Kr){throw yi.create("fetch-client-parse",{originalErrorMessage:Kr?.message})}Cn=gi.entries,Lo=gi.state}if("INSTANCE_STATE_UNSPECIFIED"===Lo?Un=500:"NO_CHANGE"===Lo?Un=304:("NO_TEMPLATE"===Lo||"EMPTY_CONFIG"===Lo)&&(Cn={}),304!==Un&&200!==Un)throw yi.create("fetch-status",{httpStatus:Un});return{status:Un,eTag:Cl,config:Cn}})()}}class Ls{constructor(C,S){this.client=C,this.storage=S}fetch(C){var S=this;return(0,R.Z)(function*(){const V=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(C,V)})()}attemptFetch(C,{throttleEndTimeMillis:S,backoffCount:V}){var q=this;return(0,R.Z)(function*(){yield function zr(E,C){return new Promise((S,V)=>{const q=Math.max(C-Date.now(),0),ie=setTimeout(S,q);E.addEventListener(()=>{clearTimeout(ie),V(yi.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,S);try{const ie=yield q.client.fetch(C);return yield q.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Mi(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ie))throw ie;const ve={throttleEndTimeMillis:Date.now()+(0,ae.$s)(V),backoffCount:V+1};return yield q.storage.setThrottleMetadata(ve),q.attemptFetch(C,ve)}})()}}class ss{constructor(C,S,V,q,ie){this.app=C,this._client=S,this._storageCache=V,this._storage=q,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bt(E,C){const S=E.target.error||void 0;return yi.create(C,{originalErrorMessage:S&&S?.message})}const mr="app_namespace_store";class Do{constructor(C,S,V,q=function Qn(){return new Promise((E,C)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=V=>{C(bt(V,"storage-open"))},S.onsuccess=V=>{E(V.target.result)},S.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(mr,{keyPath:"compositeKey"})}}catch(S){C(yi.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=C,this.appName=S,this.namespace=V,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var S=this;return(0,R.Z)(function*(){const V=yield S.openDbPromise;return new Promise((q,ie)=>{const tt=V.transaction([mr],"readonly").objectStore(mr),Je=S.createCompositeKey(C);try{const dt=tt.get(Je);dt.onerror=It=>{ie(bt(It,"storage-get"))},dt.onsuccess=It=>{const Mt=It.target.result;q(Mt?Mt.value:void 0)}}catch(dt){ie(yi.create("storage-get",{originalErrorMessage:dt?.message}))}})})()}set(C,S){var V=this;return(0,R.Z)(function*(){const q=yield V.openDbPromise;return new Promise((ie,ve)=>{const Je=q.transaction([mr],"readwrite").objectStore(mr),dt=V.createCompositeKey(C);try{const It=Je.put({compositeKey:dt,value:S});It.onerror=Mt=>{ve(bt(Mt,"storage-set"))},It.onsuccess=()=>{ie()}}catch(It){ve(yi.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(C){var S=this;return(0,R.Z)(function*(){const V=yield S.openDbPromise;return new Promise((q,ie)=>{const tt=V.transaction([mr],"readwrite").objectStore(mr),Je=S.createCompositeKey(C);try{const dt=tt.delete(Je);dt.onerror=It=>{ie(bt(It,"storage-delete"))},dt.onsuccess=()=>{q()}}catch(dt){ie(yi.create("storage-delete",{originalErrorMessage:dt?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Gi{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,R.Z)(function*(){const S=C.storage.getLastFetchStatus(),V=C.storage.getLastSuccessfulFetchTimestampMillis(),q=C.storage.getActiveConfig(),ie=yield S;ie&&(C.lastFetchStatus=ie);const ve=yield V;ve&&(C.lastSuccessfulFetchTimestampMillis=ve);const tt=yield q;tt&&(C.activeConfig=tt)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Bs(){return ar.apply(this,arguments)}function ar(){return(ar=(0,R.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}!function Ri(){(0,ee.Xd)(new de.wA("remote-config",function E(C,{instanceIdentifier:S}){const V=C.getProvider("app").getImmediate(),q=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yi.create("registration-window");if(!(0,ae.hl)())throw yi.create("indexed-db-unavailable");const{projectId:ie,apiKey:ve,appId:tt}=V.options;if(!ie)throw yi.create("registration-project-id");if(!ve)throw yi.create("registration-api-key");if(!tt)throw yi.create("registration-app-id");const Je=new Do(tt,V.name,S=S||"firebase"),dt=new Gi(Je),It=new ye.Yd(ta);It.logLevel=ye.in.ERROR;const Mt=new $i(q,ee.Jn,S,ie,ve,tt),ni=new Ls(Mt,Je),Un=new Pt(ni,Je,dt,It),Cl=new ss(V,Un,dt,Je,It);return function ci(E){const C=(0,ae.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Cl),Cl},"PUBLIC").setMultipleInstances(!0)),(0,ee.KN)(ta,"0.4.4"),(0,ee.KN)(ta,"0.4.4","esm2017")}();const qa=(E,C)=>C.some(S=>E instanceof S);let Wi,Wt;const Co=new WeakMap,di=new WeakMap,bi=new WeakMap,as=new WeakMap,Vs=new WeakMap;let Ei={get(E,C,S){if(E instanceof IDBTransaction){if("done"===C)return di.get(E);if("objectStoreNames"===C)return E.objectStoreNames||bi.get(E);if("store"===C)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return zi(E[C])},set:(E,C,S)=>(E[C]=S,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function Yr(E){return"function"==typeof E?function bc(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yc(){return Wt||(Wt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(Vi(this),C),zi(Co.get(this))}:function(...C){return zi(E.apply(Vi(this),C))}:function(C,...S){const V=E.call(Vi(this),C,...S);return bi.set(V,C.sort?C.sort():[C]),zi(V)}}(E):(E instanceof IDBTransaction&&function Fu(E){if(di.has(E))return;const C=new Promise((S,V)=>{const q=()=>{E.removeEventListener("complete",ie),E.removeEventListener("error",ve),E.removeEventListener("abort",ve)},ie=()=>{S(),q()},ve=()=>{V(E.error||new DOMException("AbortError","AbortError")),q()};E.addEventListener("complete",ie),E.addEventListener("error",ve),E.addEventListener("abort",ve)});di.set(E,C)}(E),qa(E,function vc(){return Wi||(Wi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Ei):E)}function zi(E){if(E instanceof IDBRequest)return function Xn(E){const C=new Promise((S,V)=>{const q=()=>{E.removeEventListener("success",ie),E.removeEventListener("error",ve)},ie=()=>{S(zi(E.result)),q()},ve=()=>{V(E.error),q()};E.addEventListener("success",ie),E.addEventListener("error",ve)});return C.then(S=>{S instanceof IDBCursor&&Co.set(S,E)}).catch(()=>{}),Vs.set(C,E),C}(E);if(as.has(E))return as.get(E);const C=Yr(E);return C!==E&&(as.set(E,C),Vs.set(C,E)),C}const Vi=E=>Vs.get(E);function Us(E,C,{blocked:S,upgrade:V,blocking:q,terminated:ie}={}){const ve=indexedDB.open(E,C),tt=zi(ve);return V&&ve.addEventListener("upgradeneeded",Je=>{V(zi(ve.result),Je.oldVersion,Je.newVersion,zi(ve.transaction))}),S&&ve.addEventListener("blocked",()=>S()),tt.then(Je=>{ie&&Je.addEventListener("close",()=>ie()),q&&Je.addEventListener("versionchange",()=>q())}).catch(()=>{}),tt}function na(E,{blocked:C}={}){const S=indexedDB.deleteDatabase(E);return C&&S.addEventListener("blocked",()=>C()),zi(S).then(()=>{})}const Lu=["get","getKey","getAll","getAllKeys","count"],Ph=["put","add","delete","clear"],Ec=new Map;function Ka(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Ec.get(C))return Ec.get(C);const S=C.replace(/FromIndex$/,""),V=C!==S,q=Ph.includes(S);if(!(S in(V?IDBIndex:IDBObjectStore).prototype)||!q&&!Lu.includes(S))return;const ie=function(){var ve=(0,R.Z)(function*(tt,...Je){const dt=this.transaction(tt,q?"readwrite":"readonly");let It=dt.store;return V&&(It=It.index(Je.shift())),(yield Promise.all([It[S](...Je),q&&dt.done]))[0]});return function(Je){return ve.apply(this,arguments)}}();return Ec.set(C,ie),ie}!function wi(E){Ei=E(Ei)}(E=>({...E,get:(C,S,V)=>Ka(C,S)||E.get(C,S,V),has:(C,S)=>!!Ka(C,S)||E.has(C,S)}));const wc="/firebase-messaging-sw.js",Bu="/firebase-cloud-messaging-push-scope",xh="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kh="https://fcmregistrations.googleapis.com/v1",On="google.c.a.c_id",Fh="google.c.a.c_l",g_="google.c.a.ts";var Ja=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(Ja||{});function _r(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bh(E){const S=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(S),q=new Uint8Array(V.length);for(let ie=0;ie<V.length;++ie)q[ie]=V.charCodeAt(ie);return q}const To="fcm_token_details_db",Io=5,Gp="fcm_token_object_Store";function Dc(){return Dc=(0,R.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(To))return null;let C=null;return(yield Us(To,Io,{upgrade:(V=(0,R.Z)(function*(q,ie,ve,tt){var Je;if(ie<2||!q.objectStoreNames.contains(Gp))return;const dt=tt.objectStore(Gp),It=yield dt.index("fcmSenderId").get(E);if(yield dt.clear(),It)if(2===ie){const Mt=It;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;C={token:Mt.fcmToken,createTime:null!==(Je=Mt.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:_r(Mt.vapidKey)}}}else if(3===ie){const Mt=It;C={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:_r(Mt.auth),p256dh:_r(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:_r(Mt.vapidKey)}}}else if(4===ie){const Mt=It;C={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:_r(Mt.auth),p256dh:_r(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:_r(Mt.vapidKey)}}}}),function(ie,ve,tt,Je){return V.apply(this,arguments)})})).close(),yield na(To),yield na("fcm_vapid_details_db"),yield na("undefined"),function qr(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var V}),Dc.apply(this,arguments)}const ls="firebase-messaging-database",Qa=1,vr="firebase-messaging-store";let zn=null;function ia(){return zn||(zn=Us(ls,Qa,{upgrade:(E,C)=>{0===C&&E.createObjectStore(vr)}})),zn}function Di(E){return ra.apply(this,arguments)}function ra(){return ra=(0,R.Z)(function*(E){const C=Tc(E),V=yield(yield ia()).transaction(vr).objectStore(vr).get(C);if(V)return V;{const q=yield function Vh(E){return Dc.apply(this,arguments)}(E.appConfig.senderId);if(q)return yield sa(E,q),q}}),ra.apply(this,arguments)}function sa(E,C){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,R.Z)(function*(E,C){const S=Tc(E),q=(yield ia()).transaction(vr,"readwrite");return yield q.objectStore(vr).put(C,S),yield q.done,C})).apply(this,arguments)}function cs(){return(cs=(0,R.Z)(function*(E){const C=Tc(E),V=(yield ia()).transaction(vr,"readwrite");yield V.objectStore(vr).delete(C),yield V.done})).apply(this,arguments)}function Tc({appConfig:E}){return E.appId}const Zn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Uh(E,C){return oa.apply(this,arguments)}function oa(){return(oa=(0,R.Z)(function*(E,C){const S=yield Xa(E),V=Hu(C),q={method:"POST",headers:S,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(Ic(E.appConfig),q)).json()}catch(ve){throw Zn.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(ie.error)throw Zn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw Zn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function js(){return(js=(0,R.Z)(function*(E,C){const S=yield Xa(E),V=Hu(C.subscriptionOptions),q={method:"PATCH",headers:S,body:JSON.stringify(V)};let ie;try{ie=yield(yield fetch(`${Ic(E.appConfig)}/${C.token}`,q)).json()}catch(ve){throw Zn.create("token-update-failed",{errorInfo:ve?.toString()})}if(ie.error)throw Zn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw Zn.create("token-update-no-token");return ie.token})).apply(this,arguments)}function aa(E,C){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,R.Z)(function*(E,C){const V={method:"DELETE",headers:yield Xa(E)};try{const ie=yield(yield fetch(`${Ic(E.appConfig)}/${C}`,V)).json();if(ie.error)throw Zn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(q){throw Zn.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function Ic({projectId:E}){return`${kh}/projects/${E}/registrations`}function Xa(E){return ju.apply(this,arguments)}function ju(){return(ju=(0,R.Z)(function*({appConfig:E,installations:C}){const S=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Hu({p256dh:E,auth:C,endpoint:S,vapidKey:V}){const q={web:{endpoint:S,auth:C,p256dh:E}};return V!==xh&&(q.web.applicationPubKey=V),q}const Wp=6048e5;function Hh(){return Hh=(0,R.Z)(function*(E){const C=yield function tl(E,C){return Sc.apply(this,arguments)}(E.swRegistration,E.vapidKey),S={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:_r(C.getKey("auth")),p256dh:_r(C.getKey("p256dh"))},V=yield Di(E.firebaseDependencies);if(V){if(function Zu(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}(V.subscriptionOptions,S))return Date.now()>=V.createTime+Wp?function Wu(E,C){return el.apply(this,arguments)}(E,{token:V.token,createTime:Date.now(),subscriptionOptions:S}):V.token;try{yield aa(E.firebaseDependencies,V.token)}catch(q){console.warn(q)}return ca(E.firebaseDependencies,S)}return ca(E.firebaseDependencies,S)}),Hh.apply(this,arguments)}function la(){return la=(0,R.Z)(function*(E){const C=yield Di(E.firebaseDependencies);C&&(yield aa(E.firebaseDependencies,C.token),yield function Vu(E){return cs.apply(this,arguments)}(E.firebaseDependencies));const S=yield E.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),la.apply(this,arguments)}function el(){return el=(0,R.Z)(function*(E,C){try{const S=yield function jh(E,C){return js.apply(this,arguments)}(E.firebaseDependencies,C),V=Object.assign(Object.assign({},C),{token:S,createTime:Date.now()});return yield sa(E.firebaseDependencies,V),S}catch(S){throw yield function Gu(E){return la.apply(this,arguments)}(E),S}}),el.apply(this,arguments)}function ca(E,C){return zu.apply(this,arguments)}function zu(){return(zu=(0,R.Z)(function*(E,C){const V={token:yield Uh(E,C),createTime:Date.now(),subscriptionOptions:C};return yield sa(E,V),V.token})).apply(this,arguments)}function Sc(){return(Sc=(0,R.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bh(C)})})).apply(this,arguments)}function nl(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function ua(E,C){if(!C.notification)return;E.notification={};const S=C.notification.title;S&&(E.notification.title=S);const V=C.notification.body;V&&(E.notification.body=V);const q=C.notification.image;q&&(E.notification.image=q);const ie=C.notification.icon;ie&&(E.notification.icon=ie)}(C,E),function zp(E,C){C.data&&(E.data=C.data)}(C,E),function Ac(E,C){var S,V,q,ie,ve;if(!(C.fcmOptions||null!==(S=C.notification)&&void 0!==S&&S.click_action))return;E.fcmOptions={};const tt=null!==(q=null===(V=C.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==q?q:null===(ie=C.notification)||void 0===ie?void 0:ie.click_action;tt&&(E.fcmOptions.link=tt);const Je=null===(ve=C.fcmOptions)||void 0===ve?void 0:ve.analytics_label;Je&&(E.fcmOptions.analyticsLabel=Je)}(C,E),C}function Nc(E,C){const S=[];for(let V=0;V<E.length;V++)S.push(E.charAt(V)),V<C.length&&S.push(C.charAt(V));return S.join("")}function Mc(E){return Zn.create("missing-app-config-values",{valueName:E})}Nc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Nc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gh{constructor(C,S,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function Zp(E){if(!E||!E.options)throw Mc("App Configuration Object");if(!E.name)throw Mc("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:S}=E;for(const V of C)if(!S[V])throw Mc(V);return{appName:E.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:q,installations:S,analyticsProvider:V}}_delete(){return Promise.resolve()}}function da(){return(da=(0,R.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(wc,{scope:Bu}),E.swRegistration.update().catch(()=>{})}catch(C){throw Zn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function yr(){return(yr=(0,R.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield function il(E){return da.apply(this,arguments)}(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function ha(){return(ha=(0,R.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=xh)})).apply(this,arguments)}function fa(){return fa=(0,R.Z)(function*(E,C){if(!navigator)throw Zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zn.create("permission-blocked");return yield function So(E,C){return ha.apply(this,arguments)}(E,C?.vapidKey),yield function rl(E,C){return yr.apply(this,arguments)}(E,C?.serviceWorkerRegistration),function $u(E){return Hh.apply(this,arguments)}(E)}),fa.apply(this,arguments)}function lr(){return(lr=(0,R.Z)(function*(E,C,S){const V=function qu(E){switch(E){case Ja.NOTIFICATION_CLICKED:return"notification_open";case Ja.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:S[On],message_name:S[Fh],message_time:S[g_],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hn(){return hn=(0,R.Z)(function*(E,C){const S=C.data;if(!S.isFirebaseMessaging)return;E.onMessageHandler&&S.messageType===Ja.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(nl(S)):E.onMessageHandler.next(nl(S)));const V=S.data;(function $h(E){return"object"==typeof E&&!!E&&On in E})(V)&&"1"===V["google.c.a.e"]&&(yield function Yp(E,C,S){return lr.apply(this,arguments)}(E,S.messageType,V))}),hn.apply(this,arguments)}const pa="@firebase/messaging",Oi=E=>{const C=new Gh(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function sl(E,C){return hn.apply(this,arguments)}(C,S)),C},qp=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:V=>function Yu(E,C){return fa.apply(this,arguments)}(C,V)}};function Hs(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,R.Z)(function*(){try{yield(0,ae.eu)()}catch{return!1}return typeof window<"u"&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rc(){(0,ee.Xd)(new de.wA("messaging",Oi,"PUBLIC")),(0,ee.Xd)(new de.wA("messaging-internal",qp,"PRIVATE")),(0,ee.KN)(pa,"0.12.4"),(0,ee.KN)(pa,"0.12.4","esm2017")}();const Ao="analytics",Ju="firebase_id",St="origin",al=6e4,Jp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ll="https://www.googletagmanager.com/gtag/js",ti=new ye.Yd("@firebase/analytics"),Yn=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function us(E){if(!E.startsWith(ll)){const C=Yn.create("invalid-gtag-resource",{gtagURL:E});return ti.warn(C.message),""}return E}function No(E){return Promise.all(E.map(C=>C.catch(S=>S)))}function xe(){return(xe=(0,R.Z)(function*(E,C,S,V,q,ie){const ve=V[q];try{if(ve)yield C[ve];else{const Je=(yield No(S)).find(dt=>dt.measurementId===q);Je&&(yield C[Je.appId])}}catch(tt){ti.error(tt)}E("config",q,ie)})).apply(this,arguments)}function Zi(){return(Zi=(0,R.Z)(function*(E,C,S,V,q){try{let ie=[];if(q&&q.send_to){let ve=q.send_to;Array.isArray(ve)||(ve=[ve]);const tt=yield No(S);for(const Je of ve){const dt=tt.find(Mt=>Mt.measurementId===Je),It=dt&&C[dt.appId];if(!It){ie=[];break}ie.push(It)}}0===ie.length&&(ie=Object.values(C)),yield Promise.all(ie),E("event",V,q||{})}catch(ie){ti.error(ie)}})).apply(this,arguments)}const ga=30,kc=new class ed{constructor(C={},S=1e3){this.throttleMetadata=C,this.intervalMillis=S}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,S){this.throttleMetadata[C]=S}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Yh(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Fc(){return(Fc=(0,R.Z)(function*(E){var C;const{appId:S,apiKey:V}=E,q={method:"GET",headers:Yh(V)},ie=Jp.replace("{app-id}",S),ve=yield fetch(ie,q);if(200!==ve.status&&304!==ve.status){let tt="";try{const Je=yield ve.json();null!==(C=Je.error)&&void 0!==C&&C.message&&(tt=Je.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:tt})}return ve.json()})).apply(this,arguments)}function Nr(){return(Nr=(0,R.Z)(function*(E,C=kc,S){const{appId:V,apiKey:q,measurementId:ie}=E.options;if(!V)throw Yn.create("no-app-id");if(!q){if(ie)return{measurementId:ie,appId:V};throw Yn.create("no-api-key")}const ve=C.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new nd;return setTimeout((0,R.Z)(function*(){tt.abort()}),void 0!==S?S:al),td({appId:V,apiKey:q,measurementId:ie},ve,tt,C)})).apply(this,arguments)}function td(E,C,S){return Ws.apply(this,arguments)}function Ws(){return Ws=(0,R.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:S},V,q=kc){var ie;const{appId:ve,measurementId:tt}=E;try{yield function Mr(E,C){return new Promise((S,V)=>{const q=Math.max(C-Date.now(),0),ie=setTimeout(S,q);E.addEventListener(()=>{clearTimeout(ie),V(Yn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(V,C)}catch(Je){if(tt)return ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:ve,measurementId:tt};throw Je}try{const Je=yield function __(E){return Fc.apply(this,arguments)}(E);return q.deleteThrottleMetadata(ve),Je}catch(Je){const dt=Je;if(!function Qp(E){if(!(E instanceof ae.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(dt)){if(q.deleteThrottleMetadata(ve),tt)return ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${dt?.message}]`),{appId:ve,measurementId:tt};throw Je}const It=503===Number(null===(ie=dt?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,ae.$s)(S,q.intervalMillis,ga):(0,ae.$s)(S,q.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+It,backoffCount:S+1};return q.setThrottleMetadata(ve,Mt),ti.debug(`Calling attemptFetch again in ${It} millis`),td(E,Mt,V,q)}}),Ws.apply(this,arguments)}class nd{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let ul,zs;function dl(){return(dl=(0,R.Z)(function*(E,C,S,V,q){if(q&&q.global)E("event",S,V);else{const ie=yield C;E("event",S,Object.assign(Object.assign({},V),{send_to:ie}))}})).apply(this,arguments)}function pi(){return(pi=(0,R.Z)(function*(){if(!(0,ae.hl)())return ti.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(E){return ti.warn(Yn.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Dt(){return Dt=(0,R.Z)(function*(E,C,S,V,q,ie,ve){var tt;const Je=function fi(E){return Nr.apply(this,arguments)}(E);Je.then(Un=>{S[Un.measurementId]=Un.appId,E.options.measurementId&&Un.measurementId!==E.options.measurementId&&ti.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Un.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Un=>ti.error(Un)),C.push(Je);const dt=function Nn(){return pi.apply(this,arguments)}().then(Un=>{if(Un)return V.getId()}),[It,Mt]=yield Promise.all([Je,dt]);(function cl(E){const C=window.document.getElementsByTagName("script");for(const S of Object.values(C))if(S.src&&S.src.includes(ll)&&S.src.includes(E))return S;return null})(ie)||function Zh(E,C){const S=function Pc(E,C){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(E,C)),S}("firebase-js-sdk-policy",{createScriptURL:us}),V=document.createElement("script"),q=`${ll}?l=${E}&id=${C}`;V.src=S?S?.createScriptURL(q):q,V.async=!0,document.head.appendChild(V)}(ie,It.measurementId),zs&&(q("consent","default",zs),function Mo(E){zs=E}(void 0)),q("js",new Date);const ni=null!==(tt=ve?.config)&&void 0!==tt?tt:{};return ni[St]="firebase",ni.update=!0,null!=Mt&&(ni[Ju]=Mt),q("config",It.measurementId,ni),ul&&(q("set",ul),function gl(E){ul=E}(void 0)),It.measurementId}),Dt.apply(this,arguments)}class Uc{constructor(C){this.app=C}_delete(){return delete Rr[this.app.options.appId],Promise.resolve()}}let Rr={},ml=[];const _l={};let Pi,Vn,Zs="dataLayer",ds=!1;function jc(E,C,S){!function Ro(){const E=[];if((0,ae.ru)()&&E.push("This is a browser extension environment."),(0,ae.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((V,q)=>`(${q+1}) ${V}`).join(" "),S=Yn.create("invalid-analytics-context",{errorInfo:C});ti.warn(S.message)}}();const V=E.options.appId;if(!V)throw Yn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Yn.create("no-api-key");ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rr[V])throw Yn.create("already-exists",{id:V});if(!ds){!function Qu(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(Zs);const{wrappedGtag:ie,gtagCore:ve}=function hi(E,C,S,V,q){let ie=function(...ve){window[V].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ie=window[q]),window[q]=function xc(E,C,S,V){function ie(){return ie=(0,R.Z)(function*(ve,...tt){try{if("event"===ve){const[Je,dt]=tt;yield function en(E,C,S,V,q){return Zi.apply(this,arguments)}(E,C,S,Je,dt)}else if("config"===ve){const[Je,dt]=tt;yield function Xu(E,C,S,V,q,ie){return xe.apply(this,arguments)}(E,C,S,V,Je,dt)}else if("consent"===ve){const[Je]=tt;E("consent","update",Je)}else if("get"===ve){const[Je,dt,It]=tt;E("get",Je,dt,It)}else if("set"===ve){const[Je]=tt;E("set",Je)}else E(ve,...tt)}catch(Je){ti.error(Je)}}),ie.apply(this,arguments)}return function q(ve){return ie.apply(this,arguments)}}(ie,E,C,S),{gtagCore:ie,wrappedGtag:window[q]}}(Rr,ml,_l,Zs,"gtag");Vn=ie,Pi=ve,ds=!0}return Rr[V]=function Vt(E,C,S,V,q,ie,ve){return Dt.apply(this,arguments)}(E,ml,_l,C,Pi,Zs,S),new Uc(E)}function hs(){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,R.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}const ma="@firebase/analytics";!function bl(){(0,ee.Xd)(new de.wA(Ao,(C,{options:S})=>jc(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,ee.Xd)(new de.wA("analytics-internal",function E(C){try{const S=C.getProvider(Ao).getImmediate();return{logEvent:(V,q,ie)=>function ad(E,C,S,V){E=(0,ae.m9)(E),function Xp(E,C,S,V,q){return dl.apply(this,arguments)}(Vn,Rr[E.app.options.appId],C,S,V).catch(q=>ti.error(q))}(S,V,q,ie)}}catch(S){throw Yn.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,ee.KN)(ma,"0.10.0"),(0,ee.KN)(ma,"0.10.0","esm2017")}();var fs=x(1954),Js=x(2631);const Gc=new class Jh extends Js.v{}(class El extends fs.o{constructor(C,S){super(C,S),this.scheduler=C,this.work=S}schedule(C,S=0){return S>0?super.schedule(C,S):(this.delay=S,this.state=C,this.scheduler.flush(this),this)}execute(C,S){return S>0||this.closed?super.execute(C,S):this._execute(C,S)}requestAsyncId(C,S,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(C,S,V):(C.flush(this),0)}});var ld=x(6321),qi=x(9397),_a=x(5137),Qs=x(3093);const Oo=new l.GfV("7.6.1"),Xs="__angularfire_symbol__analyticsIsSupportedValue",eo="__angularfire_symbol__analyticsIsSupported",to="__angularfire_symbol__remoteConfigIsSupportedValue",Po="__angularfire_symbol__remoteConfigIsSupported",ps="__angularfire_symbol__messagingIsSupportedValue",va="__angularfire_symbol__messagingIsSupported";function gs(E,C,S){if(C){if(1===C.length)return C[0];const ie=C.filter(ve=>ve.app===S);if(1===ie.length)return ie[0]}return S.container.getProvider(E).getImmediate({optional:!0})}globalThis[eo]||(globalThis[eo]=hs().then(E=>globalThis[Xs]=E).catch(()=>globalThis[Xs]=!1)),globalThis[va]||(globalThis[va]=Hs().then(E=>globalThis[ps]=E).catch(()=>globalThis[ps]=!1)),globalThis[Po]||(globalThis[Po]=Bs().then(E=>globalThis[to]=E).catch(()=>globalThis[to]=!1));const cd=(E,C)=>{const S=C?[C]:(0,$.C6)(),V=[];return S.forEach(q=>{q.container.getProvider(E).instances.forEach(ve=>{V.includes(ve)||V.push(ve)})}),V};function ko(){}class no{constructor(C,S=Gc){this.zone=C,this.delegate=S}now(){return this.delegate.now()}schedule(C,S,V){const q=this.zone;return this.delegate.schedule(function(ve){q.runGuarded(()=>{C.apply(this,[ve])})},S,V)}}class Fo{constructor(C){this.zone=C,this.task=null}call(C,S){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ko,{},ko,ko)),S.pipe((0,qi.b)({next:V,complete:V,error:V})).subscribe(C).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zc=(()=>{class E{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new no(Zone.current)),this.insideAngular=S.run(()=>new no(Zone.current,ld.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(S){return new(S||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function En(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function dd(E){return En(),function hd(E){return function(S){return(S=S.lift(new Fo(E.ngZone))).pipe((0,_a.R)(E.outsideAngular),(0,Qs.Q)(E.insideAngular))}}(En())(E)}},6710:(lt,De,x)=>{x.d(De,{$:()=>wc,A:()=>Z,D:()=>Oe,I:()=>ku,J:()=>ea,L:()=>et,N:()=>pt,P:()=>Vt,Q:()=>Do,R:()=>id,U:()=>Ya,V:()=>Bs,W:()=>ar,X:()=>os,Y:()=>vc,Z:()=>yc,_:()=>Vs,a:()=>ol,a0:()=>xh,a1:()=>On,a2:()=>m_,a3:()=>Gp,a4:()=>Dc,a5:()=>ls,a6:()=>vr,a7:()=>ia,a8:()=>ra,a9:()=>Cc,aA:()=>G,aB:()=>to,aC:()=>$e,aD:()=>an,aE:()=>_a,aF:()=>od,aG:()=>qh,aH:()=>Fn,aL:()=>Gs,aO:()=>Wi,aa:()=>Vu,ab:()=>Tc,ac:()=>Uu,ad:()=>jh,ae:()=>aa,af:()=>Ic,ai:()=>Wp,aj:()=>Hh,ak:()=>Gu,an:()=>bc,ao:()=>ua,aq:()=>ha,ar:()=>pa,as:()=>Ge,at:()=>it,au:()=>Re,av:()=>re,aw:()=>ni,ax:()=>xo,ay:()=>cn,az:()=>be,b:()=>Oc,c:()=>Vn,d:()=>jc,e:()=>vl,f:()=>ma,g:()=>Jh,h:()=>fs,i:()=>Ar,j:()=>ld,k:()=>gi,l:()=>hl,m:()=>Zc,p:()=>Se,r:()=>pl,s:()=>Pn,u:()=>Nn});var l=x(5861),$=x(9058),R=x(7592),ee=x(7582),ae=x(7879),de=x(4537);const Se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Oe=function oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ze=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Pe=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new ae.Yd("@firebase/auth");function ot(y,...p){Me.logLevel<=ae.in.ERROR&&Me.error(`Auth (${R.SDK_VERSION}): ${y}`,...p)}function re(y,...p){throw Be(y,...p)}function be(y,...p){return Be(y,...p)}function ce(y,p,g){const w=Object.assign(Object.assign({},ze()),{[p]:g});return new $.LL("auth","Firebase",w).create(p,{appName:y.name})}function we(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&re(y,"argument-error"),ce(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return Pe.create(y,...p)}function G(y,p,...g){if(!y)throw Be(p,...g)}function Ne(y){const p="INTERNAL ASSERTION FAILED: "+y;throw ot(p),new Error(p)}function Ge(y,p){y||Ne(p)}function mt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function $t(){return"http:"===gn()||"https:"===gn()}function gn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ln{constructor(p,g){this.shortDelay=p,this.longDelay=g,Ge(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function fn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($t()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gn(y,p){Ge(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class le{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},me=new ln(3e4,6e4);function ue(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Te(y,p,g,w){return He.apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(y,p,g,w,A={}){return Qe(y,A,(0,l.Z)(function*(){let P={},Q={};w&&("GET"===p?Q=w:P={body:JSON.stringify(w)});const fe=(0,$.xO)(Object.assign({key:y.config.apiKey},Q)).slice(1),Ye=yield y._getAdditionalHeaders();return Ye["Content-Type"]="application/json",y.languageCode&&(Ye["X-Firebase-Locale"]=y.languageCode),le.fetch()(Gt(y,y.config.apiHost,g,fe),Object.assign({method:p,headers:Ye,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Qe(y,p,g){return We.apply(this,arguments)}function We(){return(We=(0,l.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},he),p);try{const A=new ft(y),P=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const Q=yield P.json();if("needConfirmation"in Q)throw qt(y,"account-exists-with-different-credential",Q);if(P.ok&&!("errorMessage"in Q))return Q;{const fe=P.ok?Q.errorMessage:Q.error.message,[Ye,nt]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw qt(y,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Ye)throw qt(y,"email-already-in-use",Q);if("USER_DISABLED"===Ye)throw qt(y,"user-disabled",Q);const _t=w[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw ce(y,_t,nt);re(y,_t)}}catch(A){if(A instanceof $.ZR)throw A;re(y,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function Qt(y,p,g,w){return yt.apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(y,p,g,w,A={}){const P=yield Te(y,p,g,w,A);return"mfaPendingCredential"in P&&re(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Gt(y,p,g,w){const A=`${p}${g}?${w}`;return y.config.emulator?Gn(y.config,A):`${y.config.apiScheme}://${A}`}class ft{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qt(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const A=be(y,p,w);return A.customData._tokenResponse=g,A}function pn(){return(pn=(0,l.Z)(function*(y,p){return Te(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function J(){return(J=(0,l.Z)(function*(y,p){return Te(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(y,p){return Te(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function je(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function jt(){return(jt=(0,l.Z)(function*(y,p=!1){const g=(0,$.m9)(y),w=yield g.getIdToken(p),A=st(w);G(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,Q=P?.sign_in_provider;return{claims:A,token:w,authTime:je(Xe(A.auth_time)),issuedAtTime:je(Xe(A.iat)),expirationTime:je(Xe(A.exp)),signInProvider:Q||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Xe(y){return 1e3*Number(y)}function st(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,$.tV)(g);return A?JSON.parse(A):(ot("Failed to decode base64 JWT payload"),null)}catch(A){return ot("Caught error parsing JWT payload as JSON",A?.toString()),null}}function Ot(y,p){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof $.ZR&&function An({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class Ct{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class dn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=je(this.lastLoginAt),this.creationTime=je(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sn(y){return Ft.apply(this,arguments)}function Ft(){return Ft=(0,l.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),A=yield Ot(y,function ge(y,p){return Ce.apply(this,arguments)}(g,{idToken:w}));G(A?.users.length,g,"internal-error");const P=A.users[0];y._notifyReloadListener(P);const Q=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?function ki(y){return y.map(p=>{var{providerId:g}=p,w=(0,ee._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(P.providerUserInfo):[],fe=function mn(y,p){return[...y.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}(y.providerData,Q),_t=!!y.isAnonymous&&!(y.email&&P.passwordHash||fe?.length),zt={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:fe,metadata:new dn(P.createdAt,P.lastLoginAt),isAnonymous:_t};Object.assign(y,zt)}),Ft.apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(y){const p=(0,$.m9)(y);yield sn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(y,p){const g=yield Qe(y,{},(0,l.Z)(function*(){const w=(0,$.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:P}=y.config,Q=Gt(y,A,"/v1/token",`key=${P}`),fe=yield y._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(Q,{method:"POST",headers:fe,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class kn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){G(p.idToken,"internal-error"),G(typeof p.idToken<"u","internal-error"),G(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function wt(y){const p=st(y);return G(p,"internal-error"),G(typeof p.exp<"u","internal-error"),G(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,l.Z)(function*(){return G(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:Q}=yield function Hi(y,p){return Wn.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(A,P,Number(Q))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:A,expirationTime:P}=g,Q=new kn;return w&&(G("string"==typeof w,"internal-error",{appName:p}),Q.refreshToken=w),A&&(G("string"==typeof A,"internal-error",{appName:p}),Q.accessToken=A),P&&(G("number"==typeof P,"internal-error",{appName:p}),Q.expirationTime=P),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new kn,this.toJSON())}_performRefresh(){return Ne("not implemented")}}function _e(y,p){G("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Y{constructor(p){var{uid:g,auth:w,stsTokenManager:A}=p,P=(0,ee._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ct(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new dn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,l.Z)(function*(){const w=yield Ot(g,g.stsTokenManager.getToken(g.auth,p));return G(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function rn(y){return jt.apply(this,arguments)}(this,p)}reload(){return function ii(y){return Lt.apply(this,arguments)}(this)}_assign(p){this!==p&&(G(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Y(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,l.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),g&&(yield sn(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const g=yield p.getIdToken();return yield Ot(p,function bn(y,p){return pn.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,A,P,Q,fe,Ye,nt,_t;const zt=null!==(w=g.displayName)&&void 0!==w?w:void 0,Ti=null!==(A=g.email)&&void 0!==A?A:void 0,Jr=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,gd=null!==(Q=g.photoURL)&&void 0!==Q?Q:void 0,tg=null!==(fe=g.tenantId)&&void 0!==fe?fe:void 0,ba=null!==(Ye=g._redirectEventId)&&void 0!==Ye?Ye:void 0,ro=null!==(nt=g.createdAt)&&void 0!==nt?nt:void 0,Ea=null!==(_t=g.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:md,emailVerified:ng,isAnonymous:ig,providerData:Xh,stsTokenManager:rg}=g;G(md&&rg,p,"internal-error");const $0=kn.fromJSON(this.name,rg);G("string"==typeof md,p,"internal-error"),_e(zt,p.name),_e(Ti,p.name),G("boolean"==typeof ng,p,"internal-error"),G("boolean"==typeof ig,p,"internal-error"),_e(Jr,p.name),_e(gd,p.name),_e(tg,p.name),_e(ba,p.name),_e(ro,p.name),_e(Ea,p.name);const sg=new Y({uid:md,auth:p,email:Ti,emailVerified:ng,displayName:zt,isAnonymous:ig,photoURL:gd,phoneNumber:Jr,tenantId:tg,stsTokenManager:$0,createdAt:ro,lastLoginAt:Ea});return Xh&&Array.isArray(Xh)&&(sg.providerData=Xh.map(G0=>Object.assign({},G0))),ba&&(sg._redirectEventId=ba),sg}static _fromIdTokenResponse(p,g,w=!1){return(0,l.Z)(function*(){const A=new kn;A.updateFromServerResponse(g);const P=new Y({uid:g.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield sn(P),P})()}}const Ee=new Map;function $e(y){Ge(y instanceof Function,"Expected a class definition");let p=Ee.get(y);return p?(Ge(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ee.set(y,p),p)}const pt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,w){var A=this;return(0,l.Z)(function*(){A.storage[g]=w})()}_get(g){var w=this;return(0,l.Z)(function*(){const A=w.storage[g];return void 0===A?null:A})()}_remove(g){var w=this;return(0,l.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function an(y,p,g){return`firebase:${y}:${p}:${g}`}class z{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:A,name:P}=this.auth;this.fullUserKey=an(this.userKey,A.apiKey,P),this.fullPersistenceKey=an("persistence",A.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Y._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,l.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,l.Z)(function*(){if(!g.length)return new z($e(pt),p,w);const A=(yield Promise.all(g.map(function(){var nt=(0,l.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let P=A[0]||$e(pt);const Q=an(w,p.config.apiKey,p.name);let fe=null;for(const nt of g)try{const _t=yield nt._get(Q);if(_t){const zt=Y._fromJSON(p,_t);nt!==P&&(fe=zt),P=nt;break}}catch{}const Ye=A.filter(nt=>nt._shouldAllowMigration);return P._shouldAllowMigration&&Ye.length?(P=Ye[0],fe&&(yield P._set(Q,fe.toJSON())),yield Promise.all(g.map(function(){var nt=(0,l.Z)(function*(_t){if(_t!==P)try{yield _t._remove(Q)}catch{}});return function(_t){return nt.apply(this,arguments)}}())),new z(P,p,w)):new z(P,p,w)})()}}function W(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ne(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(k(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ke(p))return"Blackberry";if(At(p))return"Webos";if(F(p))return"Safari";if((p.includes("chrome/")||O(p))&&!p.includes("edge/"))return"Chrome";if(Re(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function k(y=(0,$.z$)()){return/firefox\//i.test(y)}function F(y=(0,$.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function O(y=(0,$.z$)()){return/crios\//i.test(y)}function ne(y=(0,$.z$)()){return/iemobile/i.test(y)}function Re(y=(0,$.z$)()){return/android/i.test(y)}function Ke(y=(0,$.z$)()){return/blackberry/i.test(y)}function At(y=(0,$.z$)()){return/webos/i.test(y)}function it(y=(0,$.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function cn(y=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function Bt(y=(0,$.z$)()){return it(y)||Re(y)||At(y)||Ke(y)||/windows phone/i.test(y)||ne(y)}function xs(y,p=[]){let g;switch(y){case"Browser":g=W((0,$.z$)());break;case"Worker":g=`${W((0,$.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${R.SDK_VERSION}/${w}`}function Cr(){return(Cr=(0,l.Z)(function*(y){return(yield Te(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tr(y,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(y,p){return Te(y,"GET","/v2/recaptchaConfig",ue(y,p))})).apply(this,arguments)}function Xt(y){return void 0!==y&&void 0!==y.getResponse}function is(y){return void 0!==y&&void 0!==y.enterprise}class mo{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Ha(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=A=>{const P=be("internal-error");P.customData=A,g(P)},w.type="text/javascript",w.charset="UTF-8",function ja(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function $r(y){return`__${y}${Math.floor(1e6*Math.random())}`}class yo{constructor(p){this.type="recaptcha-enterprise",this.auth=Fn(p)}verify(p="verify",g=!1){var w=this;return(0,l.Z)(function*(){function P(){return P=(0,l.Z)(function*(fe){if(!g){if(null==fe.tenantId&&null!=fe._agentRecaptchaConfig)return fe._agentRecaptchaConfig.siteKey;if(null!=fe.tenantId&&void 0!==fe._tenantRecaptchaConfigs[fe.tenantId])return fe._tenantRecaptchaConfigs[fe.tenantId].siteKey}return new Promise(function(){var Ye=(0,l.Z)(function*(nt,_t){Tr(fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(zt=>{if(void 0!==zt.recaptchaKey){const Ti=new mo(zt);return null==fe.tenantId?fe._agentRecaptchaConfig=Ti:fe._tenantRecaptchaConfigs[fe.tenantId]=Ti,nt(Ti.siteKey)}_t(new Error("recaptcha Enterprise site key undefined"))}).catch(zt=>{_t(zt)})});return function(nt,_t){return Ye.apply(this,arguments)}}())}),P.apply(this,arguments)}function Q(fe,Ye,nt){const _t=window.grecaptcha;is(_t)?_t.enterprise.ready(()=>{_t.enterprise.execute(fe,{action:p}).then(zt=>{Ye(zt)}).catch(()=>{Ye("NO_RECAPTCHA")})}):nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((fe,Ye)=>{(function A(fe){return P.apply(this,arguments)})(w.auth).then(nt=>{if(!g&&is(window.grecaptcha))Q(nt,fe,Ye);else{if(typeof window>"u")return void Ye(new Error("RecaptchaVerifier is only supported in browser"));Ha("https://www.google.com/recaptcha/enterprise.js?render="+nt).then(()=>{Q(nt,fe,Ye)}).catch(_t=>{Ye(_t)})}}).catch(nt=>{Ye(nt)})})})()}}function Gr(y,p,g){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(y,p,g,w=!1){const A=new yo(y);let P;try{P=yield A.verify(g)}catch{P=yield A.verify(g,!0)}const Q=Object.assign({},p);return Object.assign(Q,w?{captchaResp:P}:{captchaResponse:P}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class Qo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=P=>new Promise((Q,fe)=>{try{Q(p(P))}catch(Ye){fe(Ye)}});w.onAbort=g,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,l.Z)(function*(){if(g.auth.currentUser===p)return;const w=[];try{for(const A of g.queue)yield A(p),A.onAbort&&w.push(A.onAbort)}catch(A){w.reverse();for(const P of w)try{P()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class sr{constructor(p,g,w,A){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jp(this),this.idTokenSubscription=new jp(this),this.beforeStateQueue=new Qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=$e(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A,P;if(!w._deleted&&(w.persistenceManager=yield z.create(w,p),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,l.Z)(function*(){var w;const A=yield g.assertedPersistence.getCurrentUser();let P=A,Q=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const fe=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ye=P?._redirectEventId,nt=yield g.tryRedirectSignIn(p);(!fe||fe===Ye)&&nt?.user&&(P=nt.user,Q=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(Q)try{yield g.beforeStateQueue.runMiddleware(P)}catch(fe){P=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(fe))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return G(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var g=this;return(0,l.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,l.Z)(function*(){try{yield sn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function un(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){const w=p?(0,$.m9)(p):null;return w&&G(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&G(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence($e(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const g=yield Tr(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new mo(g);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new yo(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new $.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,l.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(g);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&$e(p)||g._popupRedirectResolver;G(w,g,"argument-error"),g.redirectPersistenceManager=yield z.create(g,[$e(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,l.Z)(function*(){var w,A;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,l.Z)(function*(){if(p===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,A){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return G(Q,this,"internal-error"),Q.then(()=>P(this.currentUser)),"function"==typeof g?p.addObserver(g,w,A):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=xs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();A&&(w["X-Firebase-Client"]=A);const P=yield p._getAppCheckToken();return P&&(w["X-Firebase-AppCheck"]=P),w})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var g;const w=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function ht(y,...p){Me.logLevel<=ae.in.WARN&&Me.warn(`Auth (${R.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Fn(y){return(0,$.m9)(y)}class jp{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,$.ne)(g=>this.observer=g)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ku(y,p,g){const w=Fn(y);G(w._canInitEmulator,w,"emulator-config-failed"),G(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!g?.disableWarnings,P=Li(p),{host:Q,port:fe}=function Xo(y){const p=Li(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const P=A[1];return{host:P,port:$a(w.substr(P.length+1))}}{const[P,Q]=w.split(":");return{host:P,port:$a(Q)}}}(p);w.config.emulator={url:`${P}//${Q}${null===fe?"":`:${fe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Q,port:fe,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Mh(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function Li(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function $a(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ea{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Ne("not implemented")}_getIdTokenResponse(p){return Ne("not implemented")}_linkToIdToken(p,g){return Ne("not implemented")}_getReauthenticationResolver(p){return Ne("not implemented")}}function hc(y,p){return fc.apply(this,arguments)}function fc(){return(fc=(0,l.Z)(function*(y,p){return Te(y,"POST","/v1/accounts:resetPassword",ue(y,p))})).apply(this,arguments)}function ta(y,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(y,p){return Te(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(y,p){return Te(y,"POST","/v1/accounts:update",ue(y,p))})).apply(this,arguments)}function Ga(y,p){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:signInWithPassword",ue(y,p))})).apply(this,arguments)}function Wa(y,p){return pc.apply(this,arguments)}function pc(){return(pc=(0,l.Z)(function*(y,p){return Te(y,"POST","/v1/accounts:sendOobCode",ue(y,p))})).apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(y,p){return Wa(y,p)})).apply(this,arguments)}function Za(y,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(y,p){return Wa(y,p)})).apply(this,arguments)}function mc(y,p){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(y,p){return Wa(y,p)})).apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(y,p){return Wa(y,p)})).apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:signInWithEmailLink",ue(y,p))})).apply(this,arguments)}function _c(){return(_c=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:signInWithEmailLink",ue(y,p))})).apply(this,arguments)}class Fs extends ea{constructor(p,g,w,A=null){super("password",w),this._email=p,this._password=g,this._tenantId=A}static _fromEmailAndPassword(p,g){return new Fs(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Fs(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,l.Z)(function*(){var w;switch(g.signInMethod){case"password":const A={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const P=yield Gr(p,A,"signInWithPassword");return Ga(p,P)}return Ga(p,A).catch(function(){var P=(0,l.Z)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const fe=yield Gr(p,A,"signInWithPassword");return Ga(p,fe)}return Promise.reject(Q)});return function(Q){return P.apply(this,arguments)}}());case"emailLink":return function Eo(y,p){return ui.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:re(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return ta(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Rh(y,p){return _c.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:re(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function rs(y,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:signInWithIdp",ue(y,p))})).apply(this,arguments)}class et extends ea{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new et(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):re("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=g,P=(0,ee._T)(g,["providerId","signInMethod"]);if(!w||!A)return null;const Q=new et(w,A);return Q.idToken=P.idToken||void 0,Q.accessToken=P.accessToken||void 0,Q.secret=P.secret,Q.nonce=P.nonce,Q.pendingToken=P.pendingToken||null,Q}_getIdTokenResponse(p){return rs(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,rs(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,rs(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,$.xO)(g)}return p}}function Dn(){return(Dn=(0,l.Z)(function*(y,p){return Te(y,"POST","/v1/accounts:sendVerificationCode",ue(y,p))})).apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:signInWithPhoneNumber",ue(y,p))})).apply(this,arguments)}function Ls(){return(Ls=(0,l.Z)(function*(y,p){const g=yield Qt(y,"POST","/v1/accounts:signInWithPhoneNumber",ue(y,p));if(g.temporaryProof)throw qt(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Bn={USER_NOT_FOUND:"user-not-found"};function ss(){return(ss=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:signInWithPhoneNumber",ue(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Bn)})).apply(this,arguments)}class bt extends ea{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new bt({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new bt({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function $i(y,p){return zr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Mi(y,p){return Ls.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Zr(y,p){return ss.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:A}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:P}=p;return w||g||A||P?new bt({verificationId:g,verificationCode:w,phoneNumber:A,temporaryProof:P}):null}}class or{constructor(p){var g,w,A,P,Q,fe;const Ye=(0,$.zd)((0,$.pd)(p)),nt=null!==(g=Ye.apiKey)&&void 0!==g?g:null,_t=null!==(w=Ye.oobCode)&&void 0!==w?w:null,zt=function mr(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ye.mode)&&void 0!==A?A:null);G(nt&&_t&&zt,"argument-error"),this.apiKey=nt,this.operation=zt,this.code=_t,this.continueUrl=null!==(P=Ye.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(Q=Ye.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(fe=Ye.tenantId)&&void 0!==fe?fe:null}static parseLink(p){const g=function Oh(y){const p=(0,$.zd)((0,$.pd)(y)).link,g=p?(0,$.zd)((0,$.pd)(p)).deep_link_id:null,w=(0,$.zd)((0,$.pd)(y)).deep_link_id;return(w?(0,$.zd)((0,$.pd)(w)).link:null)||w||g||p||y}(p);try{return new or(g)}catch{return null}}}let Do=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Fs._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const A=or.parseLink(w);return G(A,"argument-error"),Fs._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Gi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ri extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class os extends Ri{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return G("providerId"in g&&"signInMethod"in g,"argument-error"),et._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return G(p.idToken||p.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return os.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return os.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:P,nonce:Q,providerId:fe}=p;if(!w&&!A&&!g&&!P||!fe)return null;try{return new os(fe)._credential({idToken:g,accessToken:w,nonce:Q,pendingToken:P})}catch{return null}}}let Ya=(()=>{class y extends Ri{constructor(){super("facebook.com")}static credential(g){return et._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Bs=(()=>{class y extends Ri{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return et._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:A}=g;if(!w&&!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ar=(()=>{class y extends Ri{constructor(){super("github.com")}static credential(g){return et._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Wi extends ea{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return rs(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,rs(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,rs(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:P}=g;return w&&A&&P&&w===A?new Wi(w,P):null}static _create(p,g){return new Wi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vc extends Gi{constructor(p){G(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return vc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return vc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Wi.fromJSON(p);return G(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return Wi._create(w,g)}catch{return null}}}let yc=(()=>{class y extends Ri{constructor(){super("twitter.com")}static credential(g,w){return et._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=g;if(!w||!A)return null;try{return y.credential(w,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Co(y,p){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:signUp",ue(y,p))})).apply(this,arguments)}class bi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,A=!1){return(0,l.Z)(function*(){const P=yield Y._fromIdTokenResponse(p,w,A),Q=as(w);return new bi({user:P,providerId:Q,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=as(w);return new bi({user:p,providerId:A,_tokenResponse:w,operationType:g})})()}}function as(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Vs(y){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(y){var p;const g=Fn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new bi({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Co(g,{returnSecureToken:!0}),A=yield bi._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Fu extends $.ZR{constructor(p,g,w,A){var P;super(g.code,g.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,Fu.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,A){return new Fu(p,g,w,A)}}function Ei(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Fu._fromErrorAndOperation(y,P,p,w):P})}function wi(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function bc(y,p){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,l.Z)(function*(y,p){const g=(0,$.m9)(y);yield Us(!0,g,p);const{providerUserInfo:w}=yield function X(y,p){return J.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),A=wi(w||[]);return g.providerData=g.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Yr.apply(this,arguments)}function zi(y,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(y,p,g=!1){const w=yield Ot(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return bi._forOperation(y,"link",w)})).apply(this,arguments)}function Us(y,p,g){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(y,p,g){yield sn(p);const A=!1===y?"provider-already-linked":"no-such-provider";G(wi(p.providerData).has(g)===y,p.auth,A)})).apply(this,arguments)}function Lu(y,p){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,l.Z)(function*(y,p,g=!1){const{auth:w}=y,A="reauthenticate";try{const P=yield Ot(y,Ei(w,A,p,y),g);G(P.idToken,w,"internal-error");const Q=st(P.idToken);G(Q,w,"internal-error");const{sub:fe}=Q;return G(y.uid===fe,w,"user-mismatch"),bi._forOperation(y,A,P)}catch(P){throw"auth/user-not-found"===P?.code&&re(w,"user-mismatch"),P}})).apply(this,arguments)}function Ec(y,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(y,p,g=!1){const w="signIn",A=yield Ei(y,w,p),P=yield bi._fromIdTokenResponse(y,w,A);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function wc(y,p){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,l.Z)(function*(y,p){return Ec(Fn(y),p)})).apply(this,arguments)}function xh(y,p){return kh.apply(this,arguments)}function kh(){return(kh=(0,l.Z)(function*(y,p){const g=(0,$.m9)(y);return yield Us(!1,g,p.providerId),zi(g,p)})).apply(this,arguments)}function On(y,p){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,l.Z)(function*(y,p){return Lu((0,$.m9)(y),p)})).apply(this,arguments)}function Lh(){return(Lh=(0,l.Z)(function*(y,p){return Qt(y,"POST","/v1/accounts:signInWithCustomToken",ue(y,p))})).apply(this,arguments)}function m_(y,p){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,l.Z)(function*(y,p){const g=Fn(y),w=yield function g_(y,p){return Lh.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),A=yield bi._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(A.user),A}),Ja.apply(this,arguments)}class _r{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Bh._fromServerResponse(p,g):"totpInfo"in g?To._fromServerResponse(p,g):re(p,"internal-error")}}class Bh extends _r{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Bh(g)}}class To extends _r{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new To(g)}}function Io(y,p,g){var w;G((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),G(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(G(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(G(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Gp(y,p,g){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,l.Z)(function*(y,p,g){var w;const A=Fn(y),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=A._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Q=yield Gr(A,P,"getOobCode",!0);g&&Io(A,Q,g),yield Za(A,Q)}else g&&Io(A,P,g),yield Za(A,P).catch(function(){var Q=(0,l.Z)(function*(fe){if("auth/missing-recaptcha-token"!==fe.code)return Promise.reject(fe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ye=yield Gr(A,P,"getOobCode",!0);g&&Io(A,Ye,g),yield Za(A,Ye)}});return function(fe){return Q.apply(this,arguments)}}())}),Vh.apply(this,arguments)}function Dc(y,p,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(y,p,g){yield hc((0,$.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function ls(y,p){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,l.Z)(function*(y,p){yield function $p(y,p){return Bi.apply(this,arguments)}((0,$.m9)(y),{oobCode:p})}),Qa.apply(this,arguments)}function vr(y,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(y,p){const g=(0,$.m9)(y),w=yield hc(g,{oobCode:p}),A=w.requestType;switch(G(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(w.mfaInfo,g,"internal-error");default:G(w.email,g,"internal-error")}let P=null;return w.mfaInfo&&(P=_r._fromServerResponse(Fn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function ia(y,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(y,p){const{data:g}=yield vr((0,$.m9)(y),p);return g.email})).apply(this,arguments)}function ra(y,p,g){return sa.apply(this,arguments)}function sa(){return sa=(0,l.Z)(function*(y,p,g){var w;const A=Fn(y),P={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(w=A._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const nt=yield Gr(A,P,"signUpPassword");Q=Co(A,nt)}else Q=Co(A,P).catch(function(){var nt=(0,l.Z)(function*(_t){if("auth/missing-recaptcha-token"===_t.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const zt=yield Gr(A,P,"signUpPassword");return Co(A,zt)}return Promise.reject(_t)});return function(_t){return nt.apply(this,arguments)}}());const fe=yield Q.catch(nt=>Promise.reject(nt)),Ye=yield bi._fromIdTokenResponse(A,"signIn",fe);return yield A._updateCurrentUser(Ye.user),Ye}),sa.apply(this,arguments)}function Cc(y,p,g){return wc((0,$.m9)(y),Do.credential(p,g))}function Vu(y,p,g){return cs.apply(this,arguments)}function cs(){return cs=(0,l.Z)(function*(y,p,g){var w;const A=Fn(y),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function Q(fe,Ye){G(Ye.handleCodeInApp,A,"argument-error"),Ye&&Io(A,fe,Ye)}if(null!==(w=A._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const fe=yield Gr(A,P,"getOobCode",!0);Q(fe,g),yield mc(A,fe)}else Q(P,g),yield mc(A,P).catch(function(){var fe=(0,l.Z)(function*(Ye){if("auth/missing-recaptcha-token"!==Ye.code)return Promise.reject(Ye);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nt=yield Gr(A,P,"getOobCode",!0);Q(nt,g),yield mc(A,nt)}});return function(Ye){return fe.apply(this,arguments)}}())}),cs.apply(this,arguments)}function Tc(y,p){const g=or.parseLink(p);return"EMAIL_SIGNIN"===g?.operation}function Uu(y,p,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(y,p,g){const w=(0,$.m9)(y),A=Do.credentialWithLink(p,g||mt());return G(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),wc(w,A)})).apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(y,p){return Te(y,"POST","/v1/accounts:createAuthUri",ue(y,p))})).apply(this,arguments)}function jh(y,p){return js.apply(this,arguments)}function js(){return js=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:$t()?mt():"http://localhost"},{signinMethods:A}=yield function Uh(y,p){return oa.apply(this,arguments)}((0,$.m9)(y),w);return A||[]}),js.apply(this,arguments)}function aa(y,p){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,l.Z)(function*(y,p){const g=(0,$.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Io(g.auth,A,p);const{email:P}=yield function gc(y,p){return za.apply(this,arguments)}(g.auth,A);P!==y.email&&(yield y.reload())}),Ir.apply(this,arguments)}function Ic(y,p,g){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,l.Z)(function*(y,p,g){const w=(0,$.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Io(w.auth,P,g);const{email:Q}=yield function Jn(y,p){return ci.apply(this,arguments)}(w.auth,P);Q!==y.email&&(yield y.reload())}),Xa.apply(this,arguments)}function Hu(){return(Hu=(0,l.Z)(function*(y,p){return Te(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wp(y,p){return $u.apply(this,arguments)}function $u(){return $u=(0,l.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,$.m9)(y),P={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Q=yield Ot(w,function ju(y,p){return Hu.apply(this,arguments)}(w.auth,P));w.displayName=Q.displayName||null,w.photoURL=Q.photoUrl||null;const fe=w.providerData.find(({providerId:Ye})=>"password"===Ye);fe&&(fe.displayName=w.displayName,fe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Q)}),$u.apply(this,arguments)}function Hh(y,p){return la((0,$.m9)(y),p,null)}function Gu(y,p){return la((0,$.m9)(y),null,p)}function la(y,p,g){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,l.Z)(function*(y,p,g){const{auth:w}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(P.email=p),g&&(P.password=g);const Q=yield Ot(y,ta(w,P));yield y._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class ca{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class zu extends ca{constructor(p,g,w,A){super(p,g,w),this.username=A}}class tl extends ca{constructor(p,g){super(p,"facebook.com",g)}}class Sc extends zu{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Zu extends ca{constructor(p,g){super(p,"google.com",g)}}class nl extends zu{constructor(p,g,w){super(p,"twitter.com",g,w)}}function ua(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function el(y){var p,g;if(!y)return null;const{providerId:w}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const Q=null===(g=null===(p=st(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Q)return new ca(P,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!w)return null;switch(w){case"facebook.com":return new tl(P,A);case"github.com":return new Sc(P,A);case"google.com":return new Zu(P,A);case"twitter.com":return new nl(P,A,y.screenName||null);case"custom":case"anonymous":return new ca(P,null);default:return new ca(P,w,A)}}(g)}class yr{constructor(p,g,w){this.type=p,this.credential=g,this.auth=w}static _fromIdtoken(p,g){return new yr("enroll",p,g)}static _fromMfaPendingCredential(p){return new yr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return yr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return yr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class So{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=Fn(p),A=g.customData._serverResponse,P=(A.mfaInfo||[]).map(fe=>_r._fromServerResponse(w,fe));G(A.mfaPendingCredential,w,"internal-error");const Q=yr._fromMfaPendingCredential(A.mfaPendingCredential);return new So(Q,P,function(){var fe=(0,l.Z)(function*(Ye){const nt=yield Ye._process(w,Q);delete A.mfaInfo,delete A.mfaPendingCredential;const _t=Object.assign(Object.assign({},A),{idToken:nt.idToken,refreshToken:nt.refreshToken});switch(g.operationType){case"signIn":const zt=yield bi._fromIdTokenResponse(w,g.operationType,_t);return yield w._updateCurrentUser(zt.user),zt;case"reauthenticate":return G(g.user,w,"internal-error"),bi._forOperation(g.user,g.operationType,_t);default:re(w,"internal-error")}});return function(Ye){return fe.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,l.Z)(function*(){return g.signInResolver(p)})()}}function ha(y,p){var g;const w=(0,$.m9)(y),A=p;return G(p.customData.operationType,w,"argument-error"),G(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),So._fromError(w,A)}class sl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>_r._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new sl(p)}getSession(){var p=this;return(0,l.Z)(function*(){return yr._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var w=this;return(0,l.Z)(function*(){const A=p,P=yield w.getSession(),Q=yield Ot(w.user,A._process(w.user.auth,P,g));return yield w.user._updateTokensIfNecessary(Q),w.user.reload()})()}unenroll(p){var g=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,A=yield g.user.getIdToken();try{const P=yield Ot(g.user,function qu(y,p){return Te(y,"POST","/v2/accounts/mfaEnrollment:withdraw",ue(y,p))}(g.user.auth,{idToken:A,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Q})=>Q!==w),yield g.user._updateTokensIfNecessary(P),yield g.user.reload()}catch(P){throw P}})()}}const hn=new WeakMap;function pa(y){const p=(0,$.m9)(y);return hn.has(p)||hn.set(p,sl._fromUser(p)),hn.get(p)}const Sr="__sak";class Oi{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Sr,"1"),this.storage.removeItem(Sr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oc=(()=>{class y extends Oi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qp(){const y=(0,$.z$)();return F(y)||it(y)}()&&function Fi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),P=this.localCache[w];A!==P&&g(w,P,A)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((fe,Ye,nt)=>{this.notifyListeners(fe,nt)});const A=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(A);if(g.newValue!==fe)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!w)return}const P=()=>{const fe=this.storage.getItem(A);!w&&this.localCache[A]===fe||this.notifyListeners(A,fe)},Q=this.storage.getItem(A);!function _n(){return(0,$.w1)()&&10===document.documentMode}()||Q===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var A=()=>super._set,P=this;return(0,l.Z)(function*(){yield A().call(P,g,w),P.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,A=this;return(0,l.Z)(function*(){const P=yield w().call(A,g);return A.localCache[g]=JSON.stringify(P),P})()}_remove(g){var w=()=>super._remove,A=this;return(0,l.Z)(function*(){yield w().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),ol=(()=>{class y extends Oi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Wh=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(P=>P.isListeningto(g));if(w)return w;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,l.Z)(function*(){const A=g,{eventId:P,eventType:Q,data:fe}=A.data,Ye=w.handlersMap[Q];if(!Ye?.size)return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:Q});const nt=Array.from(Ye).map(function(){var zt=(0,l.Z)(function*(Ti){return Ti(A.origin,fe)});return function(Ti){return zt.apply(this,arguments)}}()),_t=yield function $s(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(nt);A.ports[0].postMessage({status:"done",eventId:P,eventType:Q,response:_t})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Gs(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class Kp{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var A=this;return(0,l.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let Q,fe;return new Promise((Ye,nt)=>{const _t=Gs("",20);P.port1.start();const zt=setTimeout(()=>{nt(new Error("unsupported_event"))},w);fe={messageChannel:P,onMessage(Ti){const Jr=Ti;if(Jr.data.eventId===_t)switch(Jr.data.status){case"ack":clearTimeout(zt),Q=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Ye(Jr.data.response);break;default:clearTimeout(zt),clearTimeout(Q),nt(new Error("invalid_response"))}}},A.handlers.add(fe),P.port1.addEventListener("message",fe.onMessage),A.target.postMessage({eventType:p,eventId:_t,data:g},[P.port2])}).finally(()=>{fe&&A.removeMessageHandler(fe)})})()}}function ei(){return window}function Ju(){return typeof ei().WorkerGlobalScope<"u"&&"function"==typeof ei().importScripts}function al(){return(al=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ti="firebaseLocalStorageDb",Yn="firebaseLocalStorage",us="fbase_key";class No{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Pc(y,p){return y.transaction([Yn],p?"readwrite":"readonly").objectStore(Yn)}function Qu(){const y=indexedDB.open(ti,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Yn,{keyPath:us})}catch(A){g(A)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Yn)?p(w):(w.close(),yield function Zh(){const y=indexedDB.deleteDatabase(ti);return new No(y).toPromise()}(),p(yield Qu()))}))})}function Xu(y,p,g){return xe.apply(this,arguments)}function xe(){return(xe=(0,l.Z)(function*(y,p,g){const w=Pc(y,!0).put({[us]:p,value:g});return new No(w).toPromise()})).apply(this,arguments)}function Zi(){return(Zi=(0,l.Z)(function*(y,p){const g=Pc(y,!1).get(p),w=yield new No(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function xc(y,p){const g=Pc(y,!0).delete(p);return new No(g).toPromise()}const Ar=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield Qu()),g.db})()}_withRetries(g){var w=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const P=yield w._openDb();return yield g(P)}catch(P){if(A++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return Ju()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=Wh._getInstance(function ll(){return Ju()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(A,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(A,P){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var w,A;if(g.activeServiceWorker=yield function St(){return al.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Kp(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);P&&null!==(w=P[0])&&void 0!==w&&w.fulfilled&&null!==(A=P[0])&&void 0!==A&&A.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Jp(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Qu();return yield Xu(g,Sr,"1"),yield xc(g,Sr),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(P=>Xu(P,g,w)),A.localCache[g]=w,A.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,l.Z)(function*(){const A=yield w._withRetries(P=>function en(y,p){return Zi.apply(this,arguments)}(P,g));return w.localCache[g]=A,A})()}_remove(g){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(A=>xc(A,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const w=yield g._withRetries(Q=>{const fe=Pc(Q,!1).getAll();return new No(fe).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:Q,value:fe}of w)P.add(Q),JSON.stringify(g.localCache[Q])!==JSON.stringify(fe)&&(g.notifyListeners(Q,fe),A.push(Q));for(const Q of Object.keys(g.localCache))g.localCache[Q]&&!P.has(Q)&&(g.notifyListeners(Q,null),A.push(Q));return A})()}notifyListeners(g,w){this.localCache[g]=w;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),fi=1e12;class Nr{constructor(p){this.auth=p,this.counter=fi,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new td(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||fi;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||fi))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,l.Z)(function*(){var w;return null===(w=g._widgets.get(p||fi))||void 0===w||w.execute(),""})()}}class td{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;G(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ws(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mr=$r("rcb"),Qp=new ln(3e4,6e4);class ul{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=ei().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return G(function Xp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&Xt(ei().grecaptcha)?Promise.resolve(ei().grecaptcha):new Promise((w,A)=>{const P=ei().setTimeout(()=>{A(be(p,"network-request-failed"))},Qp.get());ei()[Mr]=()=>{ei().clearTimeout(P),delete ei()[Mr];const fe=ei().grecaptcha;if(!fe||!Xt(fe))return void A(be(p,"internal-error"));const Ye=fe.render;fe.render=(nt,_t)=>{const zt=Ye(nt,_t);return this.counter++,zt},this.hostLanguage=g,w(fe)},Ha(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Mr,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),A(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=ei().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dl{load(p){return(0,l.Z)(function*(){return new Nr(p)})()}clearedOneInstance(){}}const Lc="recaptcha",Bc={theme:"light",type:"image"};class id{constructor(p,g=Object.assign({},Bc),w){this.parameters=g,this.type=Lc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fn(w),this.isInvisible="invisible"===this.parameters.size,G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;G(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dl:new ul,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(P=>{const Q=fe=>{fe&&(p.tokenChangeListeners.delete(Q),P(fe))};p.tokenChangeListeners.add(Q),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=ei()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){G($t()&&!Ju(),p.auth,"internal-error"),yield function rd(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Hr(y){return Cr.apply(this,arguments)}(p.auth);G(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vc{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=bt._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Pn(y,p,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(y,p,g){const w=Fn(y),A=yield Mo(w,p,(0,$.m9)(g));return new Vc(A,P=>wc(w,P))})).apply(this,arguments)}function hl(y,p,g){return fl.apply(this,arguments)}function fl(){return(fl=(0,l.Z)(function*(y,p,g){const w=(0,$.m9)(y);yield Us(!1,w,"phone");const A=yield Mo(w.auth,p,(0,$.m9)(g));return new Vc(A,P=>xh(w,P))})).apply(this,arguments)}function pl(y,p,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(y,p,g){const w=(0,$.m9)(y),A=yield Mo(w.auth,p,(0,$.m9)(g));return new Vc(A,P=>On(w,P))})).apply(this,arguments)}function Mo(y,p,g){return gl.apply(this,arguments)}function gl(){return gl=(0,l.Z)(function*(y,p,g){var w;const A=yield g.verify();try{let P;if(G("string"==typeof A,y,"argument-error"),G(g.type===Lc,y,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const Q=P.session;if("phoneNumber"in P)return G("enroll"===Q.type,y,"internal-error"),(yield function Yu(y,p){return Te(y,"POST","/v2/accounts/mfaEnrollment:start",ue(y,p))}(y,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{G("signin"===Q.type,y,"internal-error");const fe=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return G(fe,y,"missing-multi-factor-info"),(yield function ed(y,p){return Te(y,"POST","/v2/accounts/mfaSignIn:start",ue(y,p))}(y,{mfaPendingCredential:Q.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function Pt(y,p){return Dn.apply(this,arguments)}(y,{phoneNumber:P.phoneNumber,recaptchaToken:A});return Q}}finally{g._reset()}}),gl.apply(this,arguments)}function Nn(y,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(y,p){yield zi((0,$.m9)(y),p)})).apply(this,arguments)}let Vt=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Fn(g)}verifyPhoneNumber(g,w){return Mo(this.auth,g,(0,$.m9)(w))}static credential(g,w){return bt._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:A}=g;return w&&A?bt._fromTokenResponse(w,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Dt(y,p){return p?$e(p):(G(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Uc extends ea{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return rs(p,this._buildIdpRequest())}_linkToIdToken(p,g){return rs(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return rs(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Rr(y){return Ec(y.auth,new Uc(y),y.bypassAuthState)}function ml(y){const{auth:p,user:g}=y;return G(g,p,"internal-error"),Lu(g,new Uc(y),y.bypassAuthState)}function _l(y){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(y){const{auth:p,user:g}=y;return G(g,p,"internal-error"),zi(g,new Uc(y),y.bypassAuthState)})).apply(this,arguments)}class Ys{constructor(p,g,w,A,P=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,l.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(w,A){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:P,tenantId:Q,error:fe,type:Ye}=p;if(fe)return void g.reject(fe);const nt={auth:g.auth,requestUri:w,sessionId:A,tenantId:Q||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ye)(nt))}catch(_t){g.reject(_t)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Rr;case"linkViaPopup":case"linkViaRedirect":return _l;case"reauthViaPopup":case"reauthViaRedirect":return ml;default:re(this.auth,"internal-error")}}resolve(p){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pi=new ln(2e3,1e4);function Vn(y,p,g){return ds.apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(y,p,g){const w=Fn(y);we(y,p,Gi);const A=Dt(w,g);return new Or(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function vl(y,p,g){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(y,p,g){const w=(0,$.m9)(y);we(w.auth,p,Gi);const A=Dt(w.auth,g);return new Or(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function jc(y,p,g){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(y,p,g){const w=(0,$.m9)(y);we(w.auth,p,Gi);const A=Dt(w.auth,g);return new Or(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let Or=(()=>{class y extends Ys{constructor(g,w,A,P,Q){super(g,w,P,Q),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const w=yield g.execute();return G(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,l.Z)(function*(){Ge(1===g.filter.length,"Popup operations only handle one event");const w=Gs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Pi.get())};g()}}return y.currentPopupAction=null,y})();const hs="pendingRedirect",Yi=new Map;class qn extends Ys{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,l.Z)(function*(){let w=Yi.get(g.auth._key());if(!w){try{const P=(yield function qs(y,p){return yl.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(P)}catch(A){w=()=>Promise.reject(A)}Yi.set(g.auth._key(),w)}return g.bypassAuthState||Yi.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function yl(){return(yl=(0,l.Z)(function*(y,p){const g=Kh(p),w=ad(y);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(g));return yield w._remove(g),A})).apply(this,arguments)}function $c(y,p){return sd.apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(y,p){return ad(y)._set(Kh(p),"true")})).apply(this,arguments)}function qh(){Yi.clear()}function od(y,p){Yi.set(y._key(),p)}function ad(y){return $e(y._redirectPersistence)}function Kh(y){return an(hs,y.config.apiKey,y.name)}function ma(y,p,g){return function Ks(y,p,g){return bl.apply(this,arguments)}(y,p,g)}function bl(){return(bl=(0,l.Z)(function*(y,p,g){const w=Fn(y);we(y,p,Gi),yield w._initializationPromise;const A=Dt(w,g);return yield $c(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function fs(y,p,g){return function El(y,p,g){return Js.apply(this,arguments)}(y,p,g)}function Js(){return(Js=(0,l.Z)(function*(y,p,g){const w=(0,$.m9)(y);we(w.auth,p,Gi),yield w.auth._initializationPromise;const A=Dt(w.auth,g);yield $c(A,w.auth);const P=yield Oo(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function Jh(y,p,g){return function Gc(y,p,g){return Wc.apply(this,arguments)}(y,p,g)}function Wc(){return(Wc=(0,l.Z)(function*(y,p,g){const w=(0,$.m9)(y);we(w.auth,p,Gi),yield w.auth._initializationPromise;const A=Dt(w.auth,g);yield Us(!1,w,p.providerId),yield $c(A,w.auth);const P=yield Oo(w);return A._openRedirect(w.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function ld(y,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(y,p){return yield Fn(y)._initializationPromise,_a(y,p,!1)})).apply(this,arguments)}function _a(y,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,l.Z)(function*(y,p,g=!1){const w=Fn(y),A=Dt(w,p),Q=yield new qn(w,A,g).execute();return Q&&!g&&(delete Q.user._redirectEventId,yield w._persistUserIfCurrent(Q.user),yield w._setRedirectUser(null,p)),Q})).apply(this,arguments)}function Oo(y){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(y){const p=Gs(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class to{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function va(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ps(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!ps(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(be(this.auth,A))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Po(p))}saveEventToCache(p){this.cachedEventUids.add(Po(p)),this.lastProcessedEventTime=Date.now()}}function Po(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function ps({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function xo(y){return wl.apply(this,arguments)}function wl(){return(wl=(0,l.Z)(function*(y,p={}){return Te(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ui=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pr=/^https?/;function cd(){return(cd=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield xo(y);for(const g of p)try{if(ko(g))return}catch{}re(y,"unauthorized-domain")})).apply(this,arguments)}function ko(y){const p=mt(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const Q=new URL(y);return""===Q.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Q.hostname===w}if(!Pr.test(g))return!1;if(Ui.test(y))return w===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const no=new ln(3e4,6e4);function Fo(){const y=ei().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let En=null;const xr=new ln(5e3,15e3),ud="__/auth/iframe",v_="emulator/auth/iframe",dd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ya(y){const p=y.config;G(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Gn(p,v_):`https://${y.config.authDomain}/${ud}`,w={apiKey:p.apiKey,appName:y.name,v:R.SDK_VERSION},A=hd.get(y.config.apiHost);A&&(w.eid=A);const P=y._getFrameworks();return P.length&&(w.fw=P.join(",")),`${g}?${(0,$.xO)(w).slice(1)}`}function E(){return E=(0,l.Z)(function*(y){const p=yield function Qh(y){return En=En||function zc(y){return new Promise((p,g)=>{var w,A,P;function Q(){Fo(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Fo(),g(be(y,"network-request-failed"))},timeout:no.get()})}if(null!==(A=null===(w=ei().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(P=ei().gapi)||void 0===P||!P.load){const fe=$r("iframefcb");return ei()[fe]=()=>{gapi.load?Q():g(be(y,"network-request-failed"))},Ha(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Ye=>g(Ye))}Q()}}).catch(p=>{throw En=null,p})}(y),En}(y),g=ei().gapi;return G(g,y,"internal-error"),p.open({where:document.body,url:ya(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dd,dontclear:!0},w=>new Promise(function(){var A=(0,l.Z)(function*(P,Q){yield w.restyle({setHideOnLeave:!1});const fe=be(y,"network-request-failed"),Ye=ei().setTimeout(()=>{Q(fe)},xr.get());function nt(){ei().clearTimeout(Ye),P(w)}w.ping(nt).then(nt,()=>{Q(fe)})});return function(P,Q){return A.apply(this,arguments)}}()))}),E.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ve{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const dt="__/auth/handler",It="emulator/auth/handler",Mt=encodeURIComponent("fac");function ni(y,p,g,w,A,P){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(y,p,g,w,A,P){G(y.config.authDomain,y,"auth-domain-config-required"),G(y.config.apiKey,y,"invalid-api-key");const Q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:R.SDK_VERSION,eventId:A};if(p instanceof Gi){p.setDefaultLanguage(y.languageCode),Q.providerId=p.providerId||"",(0,$.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[_t,zt]of Object.entries(P||{}))Q[_t]=zt}if(p instanceof Ri){const _t=p.getScopes().filter(zt=>""!==zt);_t.length>0&&(Q.scopes=_t.join(","))}y.tenantId&&(Q.tid=y.tenantId);const fe=Q;for(const _t of Object.keys(fe))void 0===fe[_t]&&delete fe[_t];const Ye=yield y._getAppCheckToken(),nt=Ye?`#${Mt}=${encodeURIComponent(Ye)}`:"";return`${function Cl({config:y}){return y.emulator?Gn(y,It):`https://${y.authDomain}/${dt}`}(y)}?${(0,$.xO)(fe).slice(1)}${nt}`})).apply(this,arguments)}const Cn="webStorageSupport",gi=class Lo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ol,this._completeRedirectFn=_a,this._overrideRedirectResult=od}_openPopup(p,g,w,A){var P=this;return(0,l.Z)(function*(){var Q;Ge(null===(Q=P.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const fe=yield ni(p,g,w,mt(),A);return function tt(y,p,g,w=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),Q=Math.max((window.screen.availWidth-w)/2,0).toString();let fe="";const Ye=Object.assign(Object.assign({},C),{width:w.toString(),height:A.toString(),top:P,left:Q}),nt=(0,$.z$)().toLowerCase();g&&(fe=O(nt)?"_blank":g),k(nt)&&(p=p||"http://localhost",Ye.scrollbars="yes");const _t=Object.entries(Ye).reduce((Ti,[Jr,gd])=>`${Ti}${Jr}=${gd},`,"");if(function Rt(y=(0,$.z$)()){var p;return it(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(nt)&&"_self"!==fe)return function Je(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",fe),new ve(null);const zt=window.open(p||"",fe,_t);G(zt,y,"popup-blocked");try{zt.focus()}catch{}return new ve(zt)}(p,fe,Gs())})()}_openRedirect(p,g,w,A){var P=this;return(0,l.Z)(function*(){return yield P._originValidation(p),function Ao(y){ei().location.href=y}(yield ni(p,g,w,mt(),A)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:A,promise:P}=this.eventManagers[g];return A?Promise.resolve(A):(Ge(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,l.Z)(function*(){const w=yield function Dl(y){return E.apply(this,arguments)}(p),A=new to(p);return w.register("authEvent",P=>(G(P?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:A},g.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Cn,{type:Cn},A=>{var P;const Q=null===(P=A?.[0])||void 0===P?void 0:P[Cn];void 0!==Q&&g(!!Q),re(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function gs(y){return cd.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Bt()||F()||it()}};class Kr{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return Ne("unexpected MultiFactorSessionType")}}}class mi extends Kr{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new mi(p)}_finalizeEnroll(p,g,w){return function fa(y,p){return Te(y,"POST","/v2/accounts/mfaEnrollment:finalize",ue(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function kc(y,p){return Te(y,"POST","/v2/accounts/mfaSignIn:finalize",ue(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zc=(()=>{class y{constructor(){}static assertion(g){return mi._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var fd="@firebase/auth";class pd{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,$.Pz)("authIdTokenMaxAge"),function Il(y){(0,R._registerComponent)(new de.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),P=p.getProvider("app-check-internal"),{apiKey:Q,authDomain:fe}=w.options;G(Q&&!Q.includes(":"),"invalid-api-key",{appName:w.name});const Ye={apiKey:Q,authDomain:fe,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xs(y)},nt=new sr(w,A,P,Ye);return function Hp(y,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map($e);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(nt,g),nt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new de.wA("auth-internal",p=>{const g=Fn(p.getProvider("auth").getImmediate());return new pd(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(fd,"0.23.2",function ji(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,R.registerVersion)(fd,"0.23.2","esm2017")}("Browser")},9058:(lt,De,x)=>{x.d(De,{$s:()=>$e,BH:()=>ce,DV:()=>J,Dv:()=>sn,GJ:()=>pn,L:()=>pe,LL:()=>He,Pz:()=>be,Sg:()=>we,UG:()=>Ne,UI:()=>Ce,US:()=>de,Wj:()=>Lt,Wl:()=>yt,Yr:()=>ln,ZB:()=>oe,ZR:()=>Te,aH:()=>re,b$:()=>$t,cI:()=>Qt,dS:()=>ki,eu:()=>he,g5:()=>R,gK:()=>Ft,gQ:()=>wt,h$:()=>Se,hl:()=>le,hu:()=>$,jU:()=>Ge,lb:()=>mn,m9:()=>an,ne:()=>Ot,p$:()=>Z,pd:()=>st,r3:()=>X,ru:()=>mt,tV:()=>H,uI:()=>G,ug:()=>Hi,vZ:()=>je,w1:()=>fn,w9:()=>bn,xO:()=>jt,xb:()=>ge,z$:()=>Be,zI:()=>me,zd:()=>Xe});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},$=function(z,W){if(!z)throw R(W)},R=function(z){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+z)},ee=function(z){const W=[];let k=0;for(let F=0;F<z.length;F++){let O=z.charCodeAt(F);O<128?W[k++]=O:O<2048?(W[k++]=O>>6|192,W[k++]=63&O|128):55296==(64512&O)&&F+1<z.length&&56320==(64512&z.charCodeAt(F+1))?(O=65536+((1023&O)<<10)+(1023&z.charCodeAt(++F)),W[k++]=O>>18|240,W[k++]=O>>12&63|128,W[k++]=O>>6&63|128,W[k++]=63&O|128):(W[k++]=O>>12|224,W[k++]=O>>6&63|128,W[k++]=63&O|128)}return W},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,W){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let O=0;O<z.length;O+=3){const ne=z[O],Re=O+1<z.length,Ke=Re?z[O+1]:0,At=O+2<z.length,it=At?z[O+2]:0;let _n=(15&Ke)<<2|it>>6,Bt=63&it;At||(Bt=64,Re||(_n=64)),F.push(k[ne>>2],k[(3&ne)<<4|Ke>>4],k[_n],k[Bt])}return F.join("")},encodeString(z,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(z):this.encodeByteArray(ee(z),W)},decodeString(z,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(z):function(z){const W=[];let k=0,F=0;for(;k<z.length;){const O=z[k++];if(O<128)W[F++]=String.fromCharCode(O);else if(O>191&&O<224){const ne=z[k++];W[F++]=String.fromCharCode((31&O)<<6|63&ne)}else if(O>239&&O<365){const At=((7&O)<<18|(63&z[k++])<<12|(63&z[k++])<<6|63&z[k++])-65536;W[F++]=String.fromCharCode(55296+(At>>10)),W[F++]=String.fromCharCode(56320+(1023&At))}else{const ne=z[k++],Re=z[k++];W[F++]=String.fromCharCode((15&O)<<12|(63&ne)<<6|63&Re)}}return W.join("")}(this.decodeStringToByteArray(z,W))},decodeStringToByteArray(z,W){this.init_();const k=W?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let O=0;O<z.length;){const ne=k[z.charAt(O++)],Ke=O<z.length?k[z.charAt(O)]:0;++O;const it=O<z.length?k[z.charAt(O)]:64;++O;const Rt=O<z.length?k[z.charAt(O)]:64;if(++O,null==ne||null==Ke||null==it||null==Rt)throw new ye;F.push(ne<<2|Ke>>4),64!==it&&(F.push(Ke<<4&240|it>>2),64!==Rt&&F.push(it<<6&192|Rt))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Se=function(z){const W=ee(z);return de.encodeByteArray(W,!0)},pe=function(z){return Se(z).replace(/\./g,"")},H=function(z){try{return de.decodeString(z,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function Z(z){return oe(void 0,z)}function oe(z,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return W}for(const k in W)!W.hasOwnProperty(k)||!Ue(k)||(z[k]=oe(z[k],W[k]));return z}function Ue(z){return"__proto__"!==z}const Me=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=z&&H(z[1]);return W&&JSON.parse(W)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},re=()=>{var z;return null===(z=Me())||void 0===z?void 0:z.config},be=z=>{var W;return null===(W=Me())||void 0===W?void 0:W[`_${z}`]};class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,k)=>{this.resolve=W,this.reject=k})}wrapCallback(W){return(k,F)=>{k?this.reject(k):this.resolve(F),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(k):W(k,F))}}}function we(z,W){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=W||"demo-project",O=z.iat||0,ne=z.sub||z.user_id;if(!ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Re=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:O,exp:O+3600,auth_time:O,sub:ne,user_id:ne,firebase:{sign_in_provider:"custom",identities:{}}},z);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Re)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function G(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Ne(){var z;const W=null===(z=Me())||void 0===z?void 0:z.forceEnvironment;if("node"===W)return!0;if("browser"===W)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ge(){return"object"==typeof self&&self.self===self}function mt(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function $t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fn(){const z=Be();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function ln(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function he(){return new Promise((z,W)=>{try{let k=!0;const F="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(F);O.onsuccess=()=>{O.result.close(),k||self.indexedDB.deleteDatabase(F),z(!0)},O.onupgradeneeded=()=>{k=!1},O.onerror=()=>{var ne;W((null===(ne=O.error)||void 0===ne?void 0:ne.message)||"")}}catch(k){W(k)}})}function me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Te extends Error{constructor(W,k,F){super(k),this.code=W,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,Te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(W,k,F){this.service=W,this.serviceName=k,this.errors=F}create(W,...k){const F=k[0]||{},O=`${this.service}/${W}`,ne=this.errors[W],Re=ne?function Qe(z,W){return z.replace(We,(k,F)=>{const O=W[F];return null!=O?String(O):`<${F}?>`})}(ne,F):"Error";return new Te(O,`${this.serviceName}: ${Re} (${O}).`,F)}}const We=/\{\$([^}]+)}/g;function Qt(z){return JSON.parse(z)}function yt(z){return JSON.stringify(z)}const Gt=function(z){let W={},k={},F={},O="";try{const ne=z.split(".");W=Qt(H(ne[0])||""),k=Qt(H(ne[1])||""),O=ne[2],F=k.d||{},delete k.d}catch{}return{header:W,claims:k,data:F,signature:O}},bn=function(z){const k=Gt(z).claims;return!!k&&"object"==typeof k&&k.hasOwnProperty("iat")},pn=function(z){const W=Gt(z).claims;return"object"==typeof W&&!0===W.admin};function X(z,W){return Object.prototype.hasOwnProperty.call(z,W)}function J(z,W){if(Object.prototype.hasOwnProperty.call(z,W))return z[W]}function ge(z){for(const W in z)if(Object.prototype.hasOwnProperty.call(z,W))return!1;return!0}function Ce(z,W,k){const F={};for(const O in z)Object.prototype.hasOwnProperty.call(z,O)&&(F[O]=W.call(k,z[O],O,z));return F}function je(z,W){if(z===W)return!0;const k=Object.keys(z),F=Object.keys(W);for(const O of k){if(!F.includes(O))return!1;const ne=z[O],Re=W[O];if(Ze(ne)&&Ze(Re)){if(!je(ne,Re))return!1}else if(ne!==Re)return!1}for(const O of F)if(!k.includes(O))return!1;return!0}function Ze(z){return null!==z&&"object"==typeof z}function jt(z){const W=[];for(const[k,F]of Object.entries(z))Array.isArray(F)?F.forEach(O=>{W.push(encodeURIComponent(k)+"="+encodeURIComponent(O))}):W.push(encodeURIComponent(k)+"="+encodeURIComponent(F));return W.length?"&"+W.join("&"):""}function Xe(z){const W={};return z.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[O,ne]=F.split("=");W[decodeURIComponent(O)]=decodeURIComponent(ne)}}),W}function st(z){const W=z.indexOf("?");if(!W)return"";const k=z.indexOf("#",W);return z.substring(W,k>0?k:void 0)}class wt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,k){k||(k=0);const F=this.W_;if("string"==typeof W)for(let Rt=0;Rt<16;Rt++)F[Rt]=W.charCodeAt(k)<<24|W.charCodeAt(k+1)<<16|W.charCodeAt(k+2)<<8|W.charCodeAt(k+3),k+=4;else for(let Rt=0;Rt<16;Rt++)F[Rt]=W[k]<<24|W[k+1]<<16|W[k+2]<<8|W[k+3],k+=4;for(let Rt=16;Rt<80;Rt++){const _n=F[Rt-3]^F[Rt-8]^F[Rt-14]^F[Rt-16];F[Rt]=4294967295&(_n<<1|_n>>>31)}let it,cn,O=this.chain_[0],ne=this.chain_[1],Re=this.chain_[2],Ke=this.chain_[3],At=this.chain_[4];for(let Rt=0;Rt<80;Rt++){Rt<40?Rt<20?(it=Ke^ne&(Re^Ke),cn=1518500249):(it=ne^Re^Ke,cn=1859775393):Rt<60?(it=ne&Re|Ke&(ne|Re),cn=2400959708):(it=ne^Re^Ke,cn=3395469782);const _n=(O<<5|O>>>27)+it+At+cn+F[Rt]&4294967295;At=Ke,Ke=Re,Re=4294967295&(ne<<30|ne>>>2),ne=O,O=_n}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+ne&4294967295,this.chain_[2]=this.chain_[2]+Re&4294967295,this.chain_[3]=this.chain_[3]+Ke&4294967295,this.chain_[4]=this.chain_[4]+At&4294967295}update(W,k){if(null==W)return;void 0===k&&(k=W.length);const F=k-this.blockSize;let O=0;const ne=this.buf_;let Re=this.inbuf_;for(;O<k;){if(0===Re)for(;O<=F;)this.compress_(W,O),O+=this.blockSize;if("string"==typeof W){for(;O<k;)if(ne[Re]=W.charCodeAt(O),++Re,++O,Re===this.blockSize){this.compress_(ne),Re=0;break}}else for(;O<k;)if(ne[Re]=W[O],++Re,++O,Re===this.blockSize){this.compress_(ne),Re=0;break}}this.inbuf_=Re,this.total_+=k}digest(){const W=[];let k=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&k,k/=256;this.compress_(this.buf_);let F=0;for(let O=0;O<5;O++)for(let ne=24;ne>=0;ne-=8)W[F]=this.chain_[O]>>ne&255,++F;return W}}function Ot(z,W){const k=new wn(z,W);return k.subscribe.bind(k)}class wn{constructor(W,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{W(this)}).catch(F=>{this.error(F)})}next(W){this.forEachObserver(k=>{k.next(W)})}error(W){this.forEachObserver(k=>{k.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,k,F){let O;if(void 0===W&&void 0===k&&void 0===F)throw new Error("Missing Observer.");O=function Ct(z,W){if("object"!=typeof z||null===z)return!1;for(const k of W)if(k in z&&"function"==typeof z[k])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:k,complete:F},void 0===O.next&&(O.next=dn),void 0===O.error&&(O.error=dn),void 0===O.complete&&(O.complete=dn);const ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),ne}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,W)}sendOne(W,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{k(this.observers[W])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}const sn=function(z,W,k,F){let O;if(F<W?O="at least "+W:F>k&&(O=0===k?"none":"no more than "+k),O)throw new Error(z+" failed: Was called with "+F+(1===F?" argument.":" arguments.")+" Expects "+O+".")};function Ft(z,W){return`${z} failed: ${W} argument `}function Lt(z,W,k,F){if((!F||k)&&"function"!=typeof k)throw new Error(Ft(z,W)+"must be a valid function.")}function mn(z,W,k,F){if((!F||k)&&("object"!=typeof k||null===k))throw new Error(Ft(z,W)+"must be a valid context object.")}const ki=function(z){const W=[];let k=0;for(let F=0;F<z.length;F++){let O=z.charCodeAt(F);if(O>=55296&&O<=56319){const ne=O-55296;F++,$(F<z.length,"Surrogate pair missing trail surrogate."),O=65536+(ne<<10)+(z.charCodeAt(F)-56320)}O<128?W[k++]=O:O<2048?(W[k++]=O>>6|192,W[k++]=63&O|128):O<65536?(W[k++]=O>>12|224,W[k++]=O>>6&63|128,W[k++]=63&O|128):(W[k++]=O>>18|240,W[k++]=O>>12&63|128,W[k++]=O>>6&63|128,W[k++]=63&O|128)}return W},Hi=function(z){let W=0;for(let k=0;k<z.length;k++){const F=z.charCodeAt(k);F<128?W++:F<2048?W+=2:F>=55296&&F<=56319?(W+=4,k++):W+=3}return W},kn=1e3,_e=2,Y=144e5,Ee=.5;function $e(z,W=kn,k=_e){const F=W*Math.pow(k,z),O=Math.round(Ee*F*(Math.random()-.5)*2);return Math.min(Y,F+O)}function an(z){return z&&z._delegate?z._delegate:z}},2829:(lt,De,x)=>{var l=x(5879);let $=null;function R(){return $}class ae{}const de=new l.OlP("DocumentToken");let ye=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(pe)},providedIn:"platform"})}return t})();const Se=new l.OlP("Location Initialized");let pe=(()=>{class t extends ye{constructor(){super(),this._doc=(0,l.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(e){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=R().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function H(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function Z(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function oe(t){return t&&"?"!==t[0]?"?"+t:t}let Ue=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(ze)},providedIn:"root"})}return t})();const Oe=new l.OlP("appBaseHref");let ze=(()=>{class t extends Ue{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return H(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+oe(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,u){const h=this.prepareExternalUrl(o+oe(u));this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,u){const h=this.prepareExternalUrl(o+oe(u));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(ye),l.LFG(Oe,8))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pe=(()=>{class t extends Ue{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=H(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,u){let h=this.prepareExternalUrl(o+oe(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,u){let h=this.prepareExternalUrl(o+oe(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(ye),l.LFG(Oe,8))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})(),qe=(()=>{class t{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function re(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(Z(ot(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+oe(i))}normalize(e){return t.stripTrailingSlash(function ht(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,ot(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+oe(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+oe(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}static#e=this.normalizeQueryParams=oe;static#t=this.joinWithSlash=H;static#n=this.stripTrailingSlash=Z;static#i=this.\u0275fac=function(i){return new(i||t)(l.LFG(Ue))};static#r=this.\u0275prov=l.Yz7({token:t,factory:function(){return function Me(){return new qe((0,l.LFG)(Ue))}()},providedIn:"root"})}return t})();function ot(t){return t.replace(/\/index.html$/,"")}function _o(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[o,u]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===n)return decodeURIComponent(u)}return null}class Qo{constructor(n,e,i,o){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sr=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,u,h)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new Qo(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===u?void 0:u);else if(null!==u){const _=i.get(u);i.move(_,h),Fn(_,o)}});for(let o=0,u=i.length;o<u;o++){const _=i.get(o).context;_.index=o,_.count=u,_.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Fn(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function Fn(t,n){t.context.$implicit=n.item}let gr=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Hp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ku("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ku("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class Hp{constructor(){this.$implicit=null,this.ngIf=null}}function ku(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,l.AaK)(n)}'.`)}let Bn=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();function or(t){return"server"===t}let Ri=(()=>{class t{static#e=this.\u0275prov=(0,l.Yz7)({token:t,providedIn:"root",factory:()=>new os((0,l.LFG)(de),window)})}return t})();class os{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function Ya(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(h)return h}o=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ar{}class Zu extends ae{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nl extends Zu{static makeCurrent(){!function ee(t){$||($=t)}(new nl)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function zp(){return ua=ua||document.querySelector("base"),ua?ua.getAttribute("href"):null}();return null==e?null:function $h(t){Ac=Ac||document.createElement("a"),Ac.setAttribute("href",t);const n=Ac.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return _o(document.cookie,n)}}let Ac,ua=null,Zp=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();const Mc=new l.OlP("EventManagerPlugins");let Gh=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(u=>u.supports(e)),!i)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(Mc),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();class il{constructor(n){this._doc=n}}const da="ng-app-id";let rl=(()=>{class t{constructor(e,i,o,u={}){this.doc=e,this.appId=i,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=or(u),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(o=>o.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${da}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(e,i){const o=this.styleRef;if(o.has(e)){const u=o.get(e);return u.usage+=i,u.usage}return o.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const o=this.styleNodesInDOM,u=o?.get(i);if(u?.parentNode===e)return o.delete(i),u.removeAttribute(da),u;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=i,this.platformIsServer&&h.setAttribute(da,this.appId),h}}addStyleToHost(e,i){const o=this.getStyleElement(e,i);e.appendChild(o);const u=this.styleRef,h=u.get(i)?.elements;h?h.push(o):u.set(i,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();const yr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},So=/%COMP%/g,lr=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function hn(t,n){return n.map(e=>e.replace(So,t))}let pa=(()=>{class t{constructor(e,i,o,u,h,_,b,T=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=h,this.platformId=_,this.ngZone=b,this.nonce=T,this.rendererByCompId=new Map,this.platformIsServer=or(_),this.defaultRenderer=new Sr(e,h,b,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===l.ifc.ShadowDom&&(i={...i,encapsulation:l.ifc.Emulated});const o=this.getOrCreateRenderer(e,i);return o instanceof Oc?o.applyToHost(e):o instanceof Ci&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let u=o.get(i.id);if(!u){const h=this.doc,_=this.ngZone,b=this.eventManager,T=this.sharedStylesHost,N=this.removeStylesOnCompDestroy,L=this.platformIsServer;switch(i.encapsulation){case l.ifc.Emulated:u=new Oc(b,T,i,this.appId,N,h,_,L);break;case l.ifc.ShadowDom:return new Hs(b,T,e,i,h,_,this.nonce,L);default:u=new Ci(b,T,i,N,h,_,L)}o.set(i.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(Gh),l.LFG(rl),l.LFG(l.AFp),l.LFG(lr),l.LFG(de),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();class Sr{constructor(n,e,i,o){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(yr[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Rc(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(Rc(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new l.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,o){if(o){e=o+":"+e;const u=yr[o];u?n.setAttributeNS(u,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const o=yr[i];o?n.removeAttributeNS(o,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,o){o&(l.JOm.DashCase|l.JOm.Important)?n.style.setProperty(e,i,o&l.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&l.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=R().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function Rc(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Hs extends Sr{constructor(n,e,i,o,u,h,_,b){super(n,u,h,b),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const T=hn(o.id,o.styles);for(const N of T){const L=document.createElement("style");_&&L.setAttribute("nonce",_),L.textContent=N,this.shadowRoot.appendChild(L)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ci extends Sr{constructor(n,e,i,o,u,h,_,b){super(n,u,h,_),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=b?hn(b,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Oc extends Ci{constructor(n,e,i,o,u,h,_,b){const T=o+"-"+i.id;super(n,e,i,u,h,_,b,T),this.contentAttr=function qu(t){return"_ngcontent-%COMP%".replace(So,t)}(T),this.hostAttr=function sl(t){return"_nghost-%COMP%".replace(So,t)}(T)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let Ku=(()=>{class t extends il{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();const ol=["alt","control","meta","shift"],$s={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Gs=(()=>{class t extends il{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,o){const u=t.parseEventName(i),h=t.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(e,u.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const u=t._normalizeKey(i.pop());let h="",_=i.indexOf("code");if(_>-1&&(i.splice(_,1),h="code."),ol.forEach(T=>{const N=i.indexOf(T);N>-1&&(i.splice(N,1),h+=T+".")}),h+=u,0!=i.length||0===u.length)return null;const b={};return b.domEventName=o,b.fullKey=h,b}static matchEventFullKeyCode(e,i){let o=$s[e.key]||e.key,u="";return i.indexOf("code.")>-1&&(o=e.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ol.forEach(h=>{h!==o&&(0,Wh[h])(e)&&(u+=h+".")}),u+=o,u===i)}static eventCallback(e,i,o){return u=>{t.matchEventFullKeyCode(u,e)&&o.runGuarded(()=>i(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();const ti=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function St(){nl.makeCurrent()},multi:!0},{provide:de,useFactory:function Jp(){return(0,l.RDi)(document),document},deps:[]}]),zh=new l.OlP(""),Yn=[{provide:l.rWj,useClass:class Nc{addToWindow(n){l.dqk.getAngularTestability=(i,o=!0)=>{const u=n.findTestabilityInTree(i,o);if(null==u)throw new l.vHH(5103,!1);return u},l.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const o=l.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const _=function(b){h=h||b,u--,0==u&&i(h)};o.forEach(b=>{b.whenStable(_)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?R().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],us=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function al(){return new l.qLn},deps:[]},{provide:Mc,useClass:Ku,multi:!0,deps:[de,l.R0b,l.Lbi]},{provide:Mc,useClass:Gs,multi:!0,deps:[de]},pa,rl,Gh,{provide:l.FYo,useExisting:pa},{provide:ar,useClass:Zp,deps:[]},[]];let No=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:l.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(zh,12))};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({providers:[...us,...Yn],imports:[Bn,l.hGG]})}return t})(),xe=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de))};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(i){let o=null;return o=i?new i:function Xu(){return new xe((0,l.LFG)(de))}(),o},providedIn:"root"})}return t})();typeof window<"u"&&window;var Pn=x(2459),ri=x(5592);const{isArray:hl}=Array,{getPrototypeOf:fl,prototype:pl,keys:zs}=Object;function Mo(t){if(1===t.length){const n=t[0];if(hl(n))return{args:n,keys:null};if(function gl(t){return t&&"object"==typeof t&&fl(t)===pl}(n)){const e=zs(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}var Nn=x(4829),pi=x(9940),Vt=x(8251),Dt=x(7398);const{isArray:Uc}=Array;function ml(t){return(0,Dt.U)(n=>function Rr(t,n){return Uc(n)?t(...n):t(n)}(t,n))}function _l(t,n){return t.reduce((e,i,o)=>(e[i]=n[o],e),{})}let Ys=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:t})}return t})(),Pi=(()=>{class t extends Ys{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=l.n5z(t)))(o||t)}}();static#t=this.\u0275dir=l.lG2({type:t,features:[l.qOj]})}return t})();const Vn=new l.OlP("NgValueAccessor"),Ro={provide:Vn,useExisting:(0,l.Gpc)(()=>Or),multi:!0},Hc=new l.OlP("CompositionEventMode");let Or=(()=>{class t extends Ys{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function jc(){const t=R()?R().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Hc,8))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&l.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[l._Bn([Ro]),l.qOj]})}return t})();const qn=new l.OlP("NgValidators"),qs=new l.OlP("NgAsyncValidators");function El(t){return null!=t}function Js(t){return(0,l.QGY)(t)?(0,Pn.D)(t):t}function Jh(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function Gc(t,n){return n.map(e=>e(t))}function ld(t){return t.map(n=>function Wc(t){return!t.validate}(n)?n:e=>n.validate(e))}function _a(t){return null!=t?function qi(t){if(!t)return null;const n=t.filter(El);return 0==n.length?null:function(e){return Jh(Gc(e,n))}}(ld(t)):null}function Oo(t){return null!=t?function Qs(t){if(!t)return null;const n=t.filter(El);return 0==n.length?null:function(e){return function Zs(...t){const n=(0,pi.jO)(t),{args:e,keys:i}=Mo(t),o=new ri.y(u=>{const{length:h}=e;if(!h)return void u.complete();const _=new Array(h);let b=h,T=h;for(let N=0;N<h;N++){let L=!1;(0,Nn.Xf)(e[N]).subscribe((0,Vt.x)(u,U=>{L||(L=!0,T--),_[N]=U},()=>b--,void 0,()=>{(!b||!L)&&(T||u.next(i?_l(i,_):_),u.complete())}))}});return n?o.pipe(ml(n)):o}(Gc(e,n).map(Js)).pipe((0,Dt.U)(Jh))}}(ld(t)):null}function Xs(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function Po(t){return t?Array.isArray(t)?t:[t]:[]}function ps(t,n){return Array.isArray(t)?t.includes(n):t===n}function va(t,n){const e=Po(n);return Po(t).forEach(o=>{ps(e,o)||e.push(o)}),e}function xo(t,n){return Po(n).filter(e=>!ps(t,e))}class wl{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=_a(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Oo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Ui extends wl{get formDirective(){return null}get path(){return null}}class Pr extends wl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gs{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let no=(()=>{class t extends gs{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(Pr,2))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&l.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[l.qOj]})}return t})();const tt="VALID",Je="INVALID",dt="PENDING",It="DISABLED";function Cn(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Kr{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===tt}get invalid(){return this.status===Je}get pending(){return this.status==dt}get disabled(){return this.status===It}get enabled(){return this.status!==It}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(va(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(va(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(xo(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(xo(n,this._rawAsyncValidators))}hasValidator(n){return ps(this._rawValidators,n)}hasAsyncValidator(n){return ps(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=dt,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=It,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=tt,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tt||this.status===dt)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?It:tt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=dt,this._hasOwnPendingAsyncValidator=!0;const e=Js(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?It:this.errors?Je:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dt)?dt:this._anyControlsHaveStatus(Je)?Je:tt}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Cn(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function ni(t){return Array.isArray(t)?_a(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Cl(t){return Array.isArray(t)?Oo(t):t||null}(this._rawAsyncValidators)}}const io=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>fd}),fd="always";function pd(t,n,e=fd){(function eg(t,n){const e=function eo(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(Xs(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=function to(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(Xs(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const o=()=>t.updateValueAndValidity();Il(n._rawValidators,o),Il(n._rawAsyncValidators,o)})(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function y_(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&y(t,n)})}(t,n),function p(t,n){const e=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function H0(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&y(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function Sl(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Il(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function y(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ea(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function md(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const ng=class extends Kr{constructor(n=null,e,i){super(function Mt(t){return(Cn(t)?t.validators:t)||null}(e),function Un(t,n){return(Cn(n)?n.asyncValidators:t)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cn(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=md(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ea(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ea(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){md(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Z0={provide:Pr,useExisting:(0,l.Gpc)(()=>Kc)},PC=(()=>Promise.resolve())();let Kc=(()=>{class t extends Pr{constructor(e,i,o,u,h,_){super(),this._changeDetectorRef=h,this.callSetDisabledState=_,this.control=new ng,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function Ti(t,n){if(!n)return null;let e,i,o;return Array.isArray(n),n.forEach(u=>{u.constructor===Or?e=u:function _t(t){return Object.getPrototypeOf(t.constructor)===Pi}(u)?i=u:o=u}),o||i||e||null}(0,u)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function nt(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){PC.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&(0,l.VuI)(i);PC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function qc(t,n){return[...n.path,t]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(Ui,9),l.Y36(qn,10),l.Y36(qs,10),l.Y36(Vn,10),l.Y36(l.sBO,8),l.Y36(io,8))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Z0]),l.qOj,l.TTD]})}return t})(),kC=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),$C=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({imports:[kC]})}return t})(),fg=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:io,useValue:e.callSetDisabledState??fd}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({imports:[$C]})}return t})();var Tt=x(2096),Ji=x(1631),ms=x(4674);function vd(t,n){return(0,ms.m)(n)?(0,Ji.z)(t,n,1):(0,Ji.z)(t,1)}var br=x(9360);function _i(t,n){return(0,br.e)((e,i)=>{let o=0;e.subscribe((0,Vt.x)(i,u=>t.call(n,u,o++)&&i.next(u)))})}function Ml(t){return(0,br.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}var si=x(4664);class yd{}class pg{}class so{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const o=e.slice(0,i),u=o.toLowerCase(),h=e.slice(i+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(h):this.headers.set(u,[h])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof so?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new so;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof so?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...i),this.headers.set(e,o);break;case"d":const u=n.value;if(u){let h=this.headers.get(e);if(!h)return;h=h.filter(_=>-1===u.indexOf(_)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const i=(Array.isArray(e)?e:[e]).map(u=>u.toString()),o=n.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class pb{encodeKey(n){return _b(n)}encodeValue(n){return _b(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const gb=/%(\d[a-f0-9])/gi,mb={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _b(t){return encodeURIComponent(t).replace(gb,(n,e)=>mb[e]??n)}function M_(t){return`${t}`}class oo{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new pb,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Jc(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[h,_]=-1==u?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,u)),n.decodeValue(o.slice(u+1))],b=e.get(h)||[];b.push(_),e.set(h,b)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e],o=Array.isArray(i)?i.map(M_):[M_(i)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const o=n[i];Array.isArray(o)?o.forEach(u=>{e.push({param:i,value:u,op:"a"})}):e.push({param:i,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new oo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(M_(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const o=i.indexOf(M_(n.value));-1!==o&&i.splice(o,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class vb{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function R_(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function gg(t){return typeof Blob<"u"&&t instanceof Blob}function O_(t){return typeof FormData<"u"&&t instanceof FormData}class wa{constructor(n,e,i,o){let u;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function yb(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==i?i:null,u=o):u=i,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new so),this.context||(this.context=new vb),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const _=e.indexOf("?");this.urlWithParams=e+(-1===_?"?":_<e.length-1?"&":"")+h}}else this.params=new oo,this.urlWithParams=e}serializeBody(){return null===this.body?null:R_(this.body)||gg(this.body)||O_(this.body)||function mg(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof oo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||O_(this.body)?null:gg(this.body)?this.body.type||null:R_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,u=void 0!==n.body?n.body:this.body,h=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,_=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let b=n.headers||this.headers,T=n.params||this.params;const N=n.context??this.context;return void 0!==n.setHeaders&&(b=Object.keys(n.setHeaders).reduce((L,U)=>L.set(U,n.setHeaders[U]),b)),n.setParams&&(T=Object.keys(n.setParams).reduce((L,U)=>L.set(U,n.setParams[U]),T)),new wa(e,i,u,{params:T,headers:b,context:N,reportProgress:_,responseType:o,withCredentials:h})}}var Qc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Qc||{});class sf{constructor(n,e=200,i="OK"){this.headers=n.headers||new so,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class bd extends sf{constructor(n={}){super(n),this.type=Qc.ResponseHeader}clone(n={}){return new bd({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Xc extends sf{constructor(n={}){super(n),this.type=Qc.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Xc({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class _g extends sf{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function eu(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let bb=(()=>{class t{constructor(e){this.handler=e}request(e,i,o={}){let u;if(e instanceof wa)u=e;else{let b,T;b=o.headers instanceof so?o.headers:new so(o.headers),o.params&&(T=o.params instanceof oo?o.params:new oo({fromObject:o.params})),u=new wa(e,i,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:T,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=(0,Tt.of)(u).pipe(vd(b=>this.handler.handle(b)));if(e instanceof wa||"events"===o.observe)return h;const _=h.pipe(_i(b=>b instanceof Xc));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return _.pipe((0,Dt.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return _.pipe((0,Dt.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return _.pipe((0,Dt.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return _.pipe((0,Dt.U)(b=>b.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new oo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,o={}){return this.request("PATCH",e,eu(o,i))}post(e,i,o={}){return this.request("POST",e,eu(o,i))}put(e,i,o={}){return this.request("PUT",e,eu(o,i))}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(yd))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();function vg(t,n){return n(t)}function Ed(t,n){return(e,i)=>n.intercept(e,{handle:o=>t(o,i)})}const XC=new l.OlP(""),yg=new l.OlP(""),wb=new l.OlP("");function k_(){let t=null;return(n,e)=>{null===t&&(t=((0,l.f3M)(XC,{optional:!0})??[]).reduceRight(Ed,vg));const i=(0,l.f3M)(l.HDt),o=i.add();return t(n,e).pipe(Ml(()=>i.remove(o)))}}let Db=(()=>{class t extends yd{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=(0,l.f3M)(l.HDt)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(yg),...this.injector.get(wb,[])]));this.chain=o.reduceRight((u,h)=>function QC(t,n,e){return(i,o)=>e.runInContext(()=>n(i,u=>t(u,o)))}(u,h,this.injector),vg)}const i=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Ml(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(pg),l.LFG(l.lqb))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();const sT=/^\)\]\}',?\n/;let wd=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new l.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,Pn.D)(i.\u0275loadImpl()):(0,Tt.of)(null)).pipe((0,si.w)(()=>new ri.y(u=>{const h=i.build();if(h.open(e.method,e.urlWithParams),e.withCredentials&&(h.withCredentials=!0),e.headers.forEach((Fe,Le)=>h.setRequestHeader(Fe,Le.join(","))),e.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Fe=e.detectContentTypeHeader();null!==Fe&&h.setRequestHeader("Content-Type",Fe)}if(e.responseType){const Fe=e.responseType.toLowerCase();h.responseType="json"!==Fe?Fe:"text"}const _=e.serializeBody();let b=null;const T=()=>{if(null!==b)return b;const Fe=h.statusText||"OK",Le=new so(h.getAllResponseHeaders()),ct=function Rl(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(h)||e.url;return b=new bd({headers:Le,status:h.status,statusText:Fe,url:ct}),b},N=()=>{let{headers:Fe,status:Le,statusText:ct,url:gt}=T(),Et=null;204!==Le&&(Et=typeof h.response>"u"?h.responseText:h.response),0===Le&&(Le=Et?200:0);let ut=Le>=200&&Le<300;if("json"===e.responseType&&"string"==typeof Et){const Nt=Et;Et=Et.replace(sT,"");try{Et=""!==Et?JSON.parse(Et):null}catch(Yt){Et=Nt,ut&&(ut=!1,Et={error:Yt,text:Et})}}ut?(u.next(new Xc({body:Et,headers:Fe,status:Le,statusText:ct,url:gt||void 0})),u.complete()):u.error(new _g({error:Et,headers:Fe,status:Le,statusText:ct,url:gt||void 0}))},L=Fe=>{const{url:Le}=T(),ct=new _g({error:Fe,status:h.status||0,statusText:h.statusText||"Unknown Error",url:Le||void 0});u.error(ct)};let U=!1;const te=Fe=>{U||(u.next(T()),U=!0);let Le={type:Qc.DownloadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Le.total=Fe.total),"text"===e.responseType&&h.responseText&&(Le.partialText=h.responseText),u.next(Le)},Ae=Fe=>{let Le={type:Qc.UploadProgress,loaded:Fe.loaded};Fe.lengthComputable&&(Le.total=Fe.total),u.next(Le)};return h.addEventListener("load",N),h.addEventListener("error",L),h.addEventListener("timeout",L),h.addEventListener("abort",L),e.reportProgress&&(h.addEventListener("progress",te),null!==_&&h.upload&&h.upload.addEventListener("progress",Ae)),h.send(_),u.next({type:Qc.Sent}),()=>{h.removeEventListener("error",L),h.removeEventListener("abort",L),h.removeEventListener("load",N),h.removeEventListener("timeout",L),e.reportProgress&&(h.removeEventListener("progress",te),null!==_&&h.upload&&h.upload.removeEventListener("progress",Ae)),h.readyState!==h.DONE&&h.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(ar))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();const L_=new l.OlP("XSRF_ENABLED"),oT=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),aT=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class lT{}let Sb=(()=>{class t{constructor(e,i,o){this.doc=e,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=_o(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de),l.LFG(l.Lbi),l.LFG(oT))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();function cT(t,n){const e=t.url.toLowerCase();if(!(0,l.f3M)(L_)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const i=(0,l.f3M)(lT).getToken(),o=(0,l.f3M)(aT);return null!=i&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,i)})),n(t)}var Ol=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Ol||{});function B_(...t){const n=[bb,wd,Db,{provide:yd,useExisting:Db},{provide:pg,useExisting:wd},{provide:yg,useValue:cT,multi:!0},{provide:L_,useValue:!0},{provide:lT,useClass:Sb}];for(const e of t)n.push(...e.\u0275providers);return(0,l.MR2)(n)}const Dd=new l.OlP("LEGACY_INTERCEPTOR_FN");function Ab(){return function tu(t,n){return{\u0275kind:t,\u0275providers:n}}(Ol.LegacyInterceptors,[{provide:Dd,useFactory:k_},{provide:yg,useExisting:Dd,multi:!0}])}let V_=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({providers:[B_(Ab())]})}return t})();var kr=x(6304),j_=x(6321),Cd=x(3019),Rb=x(3020);function H_(t,n){return(0,br.e)(function Td(t,n,e,i,o){return(u,h)=>{let _=e,b=n,T=0;u.subscribe((0,Vt.x)(h,N=>{const L=T++;b=_?t(b,N,L):(_=!0,N),i&&h.next(b)},o&&(()=>{_&&h.next(b),h.complete()})))}}(t,n,arguments.length>=2,!0))}var Ob=x(3997),Id=x(2737),bg=x(2420);function Eg(...t){const n=(0,pi.jO)(t);return(0,br.e)((e,i)=>{const o=t.length,u=new Array(o);let h=t.map(()=>!1),_=!1;for(let b=0;b<o;b++)(0,Nn.Xf)(t[b]).subscribe((0,Vt.x)(i,T=>{u[b]=T,!_&&!h[b]&&(h[b]=!0,(_=h.every(Id.y))&&(h=null))},bg.Z));e.subscribe((0,Vt.x)(i,b=>{if(_){const T=[b,...u];i.next(n?n(...T):T)}}))})}var _s=x(2793),Pb=(x(8661),x(3399)),Sd=x(4537),nu=x(5861),xl=x(7592),B=x(9058),kl=x(7879);const $_="@firebase/database";let lf="";function wg(t){lf=t}class vT{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,B.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,B.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class xb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,B.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const W_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new vT(n)}}catch{}return new xb},Bo=W_("localStorage"),kb=W_("sessionStorage"),Fl=new kl.Yd("@firebase/database"),Fb=function(){let t=1;return function(){return t++}}(),Dg=function(t){const n=(0,B.dS)(t),e=new B.gQ;e.update(n);const i=e.digest();return B.US.encodeByteArray(i)},Ad=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Ad.apply(null,i):n+="object"==typeof i?(0,B.Wl)(i):i,n+=" "}return n};let Ll=null,Bl=!0;const Lb=function(t,n){(0,B.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Fl.logLevel=kl.in.VERBOSE,Ll=Fl.log.bind(Fl),n&&kb.set("logging_enabled",!0)):"function"==typeof t?Ll=t:(Ll=null,kb.remove("logging_enabled"))},Si=function(...t){if(!0===Bl&&(Bl=!1,null===Ll&&!0===kb.get("logging_enabled")&&Lb(!0)),Ll){const n=Ad.apply(null,t);Ll(n)}},Vl=function(t){return function(...n){Si(t,...n)}},z_=function(...t){const n="FIREBASE INTERNAL ERROR: "+Ad(...t);Fl.error(n)},vs=function(...t){const n=`FIREBASE FATAL ERROR: ${Ad(...t)}`;throw Fl.error(n),new Error(n)},xi=function(...t){const n="FIREBASE WARNING: "+Ad(...t);Fl.warn(n)},iu=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ul="[MIN_NAME]",Da="[MAX_NAME]",jl=function(t,n){if(t===n)return 0;if(t===Ul||n===Da)return-1;if(n===Ul||t===Da)return 1;{const e=Ub(t),i=Ub(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},Nd=function(t,n){return t===n?0:t<n?-1:1},cf=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,B.Wl)(n))},Y_=function(t){if("object"!=typeof t||null===t)return(0,B.Wl)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,B.Wl)(n[i]),e+=":",e+=Y_(t[n[i]]);return e+="}",e},Bb=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let o=0;o<e;o+=n)i.push(t.substring(o,o+n>e?e:o+n));return i};function Ai(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const q_=function(t){(0,B.hu)(!iu(t),"Invalid JSON number");const i=1023;let o,u,h,_,b;0===t?(u=0,h=0,o=1/t==-1/0?1:0):(o=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(_=Math.min(Math.floor(Math.log(t)/Math.LN2),i),u=_+i,h=Math.round(t*Math.pow(2,52-_)-Math.pow(2,52))):(u=0,h=Math.round(t/Math.pow(2,-1074))));const T=[];for(b=52;b;b-=1)T.push(h%2?1:0),h=Math.floor(h/2);for(b=11;b;b-=1)T.push(u%2?1:0),u=Math.floor(u/2);T.push(o?1:0),T.reverse();const N=T.join("");let L="";for(b=0;b<64;b+=8){let U=parseInt(N.substr(b,8),2).toString(16);1===U.length&&(U="0"+U),L+=U}return L.toLowerCase()},DA=new RegExp("^-?(0*)\\d{1,10}$"),Ub=function(t){if(DA.test(t)){const n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},uf=function(t){try{t()}catch(n){setTimeout(()=>{throw xi("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Hl=function(t,n){const e=setTimeout(t,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class ET{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){xi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class J_{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(Si("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xi(n)}}let ru=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const su=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wT="websocket",Ag="long_polling";class ou{constructor(n,e,i,o,u=!1,h="",_=!1,b=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=_,this.isUsingEmulator=b,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bo.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Bo.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Q_(t,n,e){let i;if((0,B.hu)("string"==typeof n,"typeof type must == string"),(0,B.hu)("object"==typeof e,"typeof params must == object"),n===wT)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==Ag)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function DT(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const o=[];return Ai(e,(u,h)=>{o.push(u+"="+h)}),i+o.join("&")}class CT{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,B.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,B.p$)(this.counters_)}}const X_={},hf={};function Ng(t){const n=t.toString();return X_[n]||(X_[n]=new CT),X_[n]}class IT{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&uf(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ys{constructor(n,e,i,o,u,h,_){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vl(n),this.stats_=Ng(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),Q_(e,Ag,b))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new IT(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,B.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nv((...u)=>{const[h,_,b,T,N]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=_,this.password=b;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[h,_]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,_)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&su.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ys.forceAllow_=!0}static forceDisallow(){ys.forceDisallow_=!0}static isAvailable(){return!((0,B.Yr)()||!ys.forceAllow_&&(ys.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,B.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,B.h$)(e),o=Bb(i,1840);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,B.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,B.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class nv{constructor(n,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,B.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Fb(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=nv.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(_){Si("frame writing exception"),_.stack&&Si(_.stack),Si(_)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Si("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(o),i()})}addTag(n,e){(0,B.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Si("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let xg=null;typeof MozWebSocket<"u"?xg=MozWebSocket:typeof WebSocket<"u"&&(xg=WebSocket);let Pd=(()=>{class t{constructor(e,i,o,u,h,_,b){this.connId=e,this.applicationId=o,this.appCheckToken=u,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vl(this.connId),this.stats_=Ng(i),this.connURL=t.connectionURL_(i,_,b,u,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,u,h){const _={v:"5"};return!(0,B.Yr)()&&typeof location<"u"&&location.hostname&&su.test(location.hostname)&&(_.r="f"),i&&(_.s=i),o&&(_.ls=o),u&&(_.ac=u),h&&(_.p=h),Q_(e,wT,_)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bo.set("previous_websocket_failure",!0);try{let o;if((0,B.Yr)()){o={headers:{"User-Agent":`Firebase/5/${lf}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,_=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;_&&(o.proxy={origin:_})}this.mySock=new xg(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==xg&&!t.forceDisallow_}static previouslyFailed(){return Bo.isInMemoryStorage||!0===Bo.get("previous_websocket_failure")}markConnectionHealthy(){Bo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,B.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,B.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,B.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=Bb(i,16384);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),iv=(()=>{class t{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ys,Pd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Pd&&Pd.isAvailable();let o=i&&!Pd.previouslyFailed();if(e.webSocketOnly&&(i||xi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Pd];else{const u=this.transports_=[];for(const h of t.ALL_TRANSPORTS)h&&h.isAvailable()&&u.push(h);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class lv{constructor(n,e,i,o,u,h,_,b,T,N){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=_,this.onDisconnect_=b,this.onKill_=T,this.lastSessionId=N,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vl("c:"+this.id+":"),this.transportManager_=new iv(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Hl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=cf("t",n),i=cf("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=cf("t",n),i=cf("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=cf("t",n);if("d"in n){const i=n.d;if("h"===e){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?z_("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):z_("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&xi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Hl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class bs{put(n,e,i,o){}merge(n,e,i,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class cv{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,B.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const o=this.getInitialEvent(n);o&&e.apply(i,o)}off(n,e,i){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let u=0;u<o.length;u++)if(o[u].callback===e&&(!i||i===o[u].context))return void o.splice(u,1)}validateEventType_(n){(0,B.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class uv extends cv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,B.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new uv}getInitialEvent(n){return(0,B.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class vn{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function yn(){return new vn("")}function on(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function $l(t){return t.pieces_.length-t.pieceNum_}function In(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new vn(t.pieces_,n)}function Es(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ff(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function LT(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new vn(n,0)}function Zt(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof vn)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new vn(e,0)}function tn(t){return t.pieceNum_>=t.pieces_.length}function Qi(t,n){const e=on(t),i=on(n);if(null===e)return n;if(e===i)return Qi(In(t),In(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function BT(t,n){const e=ff(t,0),i=ff(n,0);for(let o=0;o<e.length&&o<i.length;o++){const u=jl(e[o],i[o]);if(0!==u)return u}return e.length===i.length?0:e.length<i.length?-1:1}function dv(t,n){if($l(t)!==$l(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function Fr(t,n){let e=t.pieceNum_,i=n.pieceNum_;if($l(t)>$l(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class Qb{constructor(n,e){this.errorPrefix_=e,this.parts_=ff(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,B.ug)(this.parts_[i]);hv(this)}}function hv(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gl(t))}function Gl(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class fv extends cv{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new fv}getInitialEvent(n){return(0,B.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const pf=1e3;let Fd,au=(()=>{class t extends bs{constructor(e,i,o,u,h,_,b,T){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=h,this.authTokenProvider_=_,this.appCheckTokenProvider_=b,this.authOverride_=T,this.id=t.nextPersistentConnectionId_++,this.log_=Vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,B.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fv.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&uv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const u=++this.requestNumber_,h={r:u,a:e,b:i};this.log_((0,B.Wl)(h)),(0,B.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[u]=o)}get(e){this.initConnection_();const i=new B.BH,u={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:_=>{const b=_.d;"ok"===_.s?i.resolve(b):i.reject(b)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,o,u){this.initConnection_();const h=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+h),this.listens.has(_)||this.listens.set(_,new Map),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,B.hu)(!this.listens.get(_).has(h),"listen() called twice for same path/queryId.");const b={onComplete:u,hashFn:i,query:e,tag:o};this.listens.get(_).set(h,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+o+" for "+u);const h={p:o};e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,b=>{const T=b.d,N=b.s;t.warnOnListenWarnings_(T,i),(this.listens.get(o)&&this.listens.get(o).get(u))===e&&(this.log_("listen response",b),"ok"!==N&&this.removeListen_(o,u),e.onComplete&&e.onComplete(N,T))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,B.r3)(e,"w")){const o=(0,B.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();xi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,B.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,B.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,u=>{const h=u.s,_=u.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),(0,B.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,e._queryObject,i)}sendUnlisten_(e,i,o,u){this.log_("Unlisten on "+e+" for "+i);const h={p:e};u&&(h.q=o,h.t=u),this.sendRequest("n",h)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,u){const h={p:i,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,_=>{u&&setTimeout(()=>{u(_.s,_.d)},Math.floor(0))})}put(e,i,o,u){this.putInternal("p",e,i,o,u)}merge(e,i,o,u){this.putInternal("m",e,i,o,u)}putInternal(e,i,o,u,h){this.initConnection_();const _={p:i,d:o};void 0!==h&&(_.h=h),this.outstandingPuts_.push({action:e,request:_,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,B.Wl)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):z_("Unrecognized action received from server: "+(0,B.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,B.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=pf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,nu.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+t.nextConnectionId_++,_=e.lastSessionId;let b=!1,T=null;const N=function(){T?T.close():(b=!0,u())};e.realtime_={close:N,sendRequest:function(te){(0,B.hu)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(te)}};const U=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[te,Ae]=yield Promise.all([e.authTokenProvider_.getToken(U),e.appCheckTokenProvider_.getToken(U)]);b?Si("getToken() completed but was canceled"):(Si("getToken() completed. Creating connection."),e.authToken_=te&&te.accessToken,e.appCheckToken_=Ae&&Ae.token,T=new lv(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,u,Fe=>{xi(Fe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},_))}catch(te){e.log_("Failed to get token: "+te),b||(e.repoInfo_.nodeAdmin&&xi(te),N())}}})()}interrupt(e){Si("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Si("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,B.xb)(this.interruptReasons_)&&(this.reconnectDelay_=pf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(h=>Y_(h)).join("$"):"default";const u=this.removeListen_(e,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,i){const o=new vn(e).toString();let u;if(this.listens.has(o)){const h=this.listens.get(o);u=h.get(i),h.delete(i),0===h.size&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(e,i){Si("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Si("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,B.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+lf.replace(/\./g,"-")]=1,(0,B.uI)()?e["framework.cordova"]=1:(0,B.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=uv.getInstance().currentlyOnline();return(0,B.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class nn{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new nn(n,e)}}class gf{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new nn(Ul,n),o=new nn(Ul,e);return 0!==this.compare(i,o)}minPost(){return nn.MIN}}class Ld extends gf{static get __EMPTY_NODE(){return Fd}static set __EMPTY_NODE(n){Fd=n}compare(n,e){return jl(n.name,e.name)}isDefinedOn(n){throw(0,B.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return nn.MIN}maxPost(){return new nn(Da,Fd)}makePost(n,e){return(0,B.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new nn(n,Fd)}toString(){return".key"}}const Qr=new Ld;class mf{constructor(n,e,i,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(h=e?i(n.key,e):1,o&&(h*=-1),h<0)n=this.isReverse_?n.left:n.right;else{if(0===h){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let Lg,ws=(()=>{class t{constructor(e,i,o,u,h){this.key=e,this.value=i,this.color=o??t.RED,this.left=u??Lr.EMPTY_NODE,this.right=h??Lr.EMPTY_NODE}copy(e,i,o,u,h){return new t(e??this.key,i??this.value,o??this.color,u??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,o),null):0===h?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,u;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return Lr.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Lr{constructor(n,e=Lr.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new Lr(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,ws.BLACK,null,null))}remove(n){return new Lr(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ws.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new mf(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new mf(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new mf(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new mf(this.root_,null,this.comparator_,!0,n)}}function HT(t,n){return jl(t.name,n.name)}function gv(t,n){return jl(t,n)}Lr.EMPTY_NODE=new class jT{copy(n,e,i,o,u){return this}insert(n,e,i){return new ws(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const tE=function(t){return"number"==typeof t?"number:"+q_(t):"string:"+t},$T=function(t){if(t.isLeafNode()){const n=t.val();(0,B.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,B.r3)(n,".sv"),"Priority must be a string or number.")}else(0,B.hu)(t===Lg||t.isEmpty(),"priority of unexpected type.");(0,B.hu)(t===Lg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let GT,mv,WT,lu=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,B.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$T(this.priorityNode_)}static set __childrenNodeConstructor(e){GT=e}static get __childrenNodeConstructor(){return GT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return tn(e)?this:".priority"===on(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=on(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,B.hu)(".priority"!==o||1===$l(e),".priority must be the last token in a path"),this.updateImmediateChild(o,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(In(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tE(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?q_(this.value_):this.value_,this.lazyHash_=Dg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,B.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,u=t.VALUE_TYPE_ORDER.indexOf(i),h=t.VALUE_TYPE_ORDER.indexOf(o);return(0,B.hu)(u>=0,"Unknown leaf type: "+i),(0,B.hu)(h>=0,"Unknown leaf type: "+o),u===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-u}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const xn=new class nE extends gf{compare(n,e){const i=n.node.getPriority(),o=e.node.getPriority(),u=i.compareTo(o);return 0===u?jl(n.name,e.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return nn.MIN}maxPost(){return new nn(Da,new lu("[PRIORITY-POST]",WT))}makePost(n,e){const i=mv(n);return new nn(e,new lu("[PRIORITY-POST]",i))}toString(){return".priority"}},zT=Math.log(2);class iE{constructor(n){this.count=parseInt(Math.log(n+1)/zT,10),this.current_=this.count-1;const o=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const _f=function(t,n,e,i){t.sort(n);const o=function(b,T){const N=T-b;let L,U;if(0===N)return null;if(1===N)return L=t[b],U=e?e(L):L,new ws(U,L.node,ws.BLACK,null,null);{const te=parseInt(N/2,10)+b,Ae=o(b,te),Fe=o(te+1,T);return L=t[te],U=e?e(L):L,new ws(U,L.node,ws.BLACK,Ae,Fe)}},_=function(b){let T=null,N=null,L=t.length;const U=function(Ae,Fe){const Le=L-Ae,ct=L;L-=Ae;const gt=o(Le+1,ct),Et=t[Le],ut=e?e(Et):Et;te(new ws(ut,Et.node,Fe,null,gt))},te=function(Ae){T?(T.left=Ae,T=Ae):(N=Ae,T=Ae)};for(let Ae=0;Ae<b.count;++Ae){const Fe=b.nextBitIsOne(),Le=Math.pow(2,b.count-(Ae+1));Fe?U(Le,ws.BLACK):(U(Le,ws.BLACK),U(Le,ws.RED))}return N}(new iE(t.length));return new Lr(i||n,_)};let kt;const cu={};class Uo{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,B.hu)(cu&&xn,"ChildrenNode.ts has not been loaded"),kt=kt||new Uo({".priority":cu},{".priority":xn}),kt}get(n){const e=(0,B.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof Lr?e:null}hasIndex(n){return(0,B.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,B.hu)(n!==Qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const u=e.getIterator(nn.Wrap);let _,h=u.getNext();for(;h;)o=o||n.isDefinedOn(h.node),i.push(h),h=u.getNext();_=o?_f(i,n.getCompare()):cu;const b=n.toString(),T=Object.assign({},this.indexSet_);T[b]=n;const N=Object.assign({},this.indexes_);return N[b]=_,new Uo(N,T)}addToIndexes(n,e){const i=(0,B.UI)(this.indexes_,(o,u)=>{const h=(0,B.DV)(this.indexSet_,u);if((0,B.hu)(h,"Missing index implementation for "+u),o===cu){if(h.isDefinedOn(n.node)){const _=[],b=e.getIterator(nn.Wrap);let T=b.getNext();for(;T;)T.name!==n.name&&_.push(T),T=b.getNext();return _.push(n),_f(_,h.getCompare())}return cu}{const _=e.get(n.name);let b=o;return _&&(b=b.remove(new nn(n.name,_))),b.insert(n,n.node)}});return new Uo(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,B.UI)(this.indexes_,o=>{if(o===cu)return o;{const u=e.get(n.name);return u?o.remove(new nn(n.name,u)):o}});return new Uo(i,this.indexSet_)}}let jo,Ut=(()=>{class t{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&$T(this.priorityNode_),this.children_.isEmpty()&&(0,B.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jo||(jo=new t(new Lr(gv),null,Uo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jo}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?jo:i}}getChild(e){const i=on(e);return null===i?this:this.getImmediateChild(i).getChild(In(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,B.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new nn(e,i);let u,h;i.isEmpty()?(u=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(o,this.children_));const _=u.isEmpty()?jo:this.priorityNode_;return new t(u,_,h)}}updateChild(e,i){const o=on(e);if(null===o)return i;{(0,B.hu)(".priority"!==on(e)||1===$l(e),".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(In(e),i);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,u=0,h=!0;if(this.forEachChild(xn,(_,b)=>{i[_]=b.val(e),o++,h&&t.INTEGER_REGEXP_.test(_)?u=Math.max(u,Number(_)):h=!1}),!e&&h&&u<2*o){const _=[];for(const b in i)_[b]=i[b];return _}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+tE(this.getPriority().val())+":"),this.forEachChild(xn,(i,o)=>{const u=o.hash();""!==u&&(e+=":"+i+":"+u)}),this.lazyHash_=""===e?"":Dg(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const u=this.resolveIndex_(o);if(u){const h=u.getPredecessorKey(new nn(e,i));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new nn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new nn(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,nn.Wrap);let h=u.peek();for(;null!=h&&i.compare(h,e)<0;)u.getNext(),h=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,nn.Wrap);let h=u.peek();for(;null!=h&&i.compare(h,e)>0;)u.getNext(),h=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wl?-1:0}withIndex(e){if(e===Qr||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Qr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(xn),u=i.getIterator(xn);let h=o.getNext(),_=u.getNext();for(;h&&_;){if(h.name!==_.name||!h.node.equals(_.node))return!1;h=o.getNext(),_=u.getNext()}return null===h&&null===_}return!1}return!1}}resolveIndex_(e){return e===Qr?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Wl=new class ZT extends Ut{constructor(){super(new Lr(gv),Ut.EMPTY_NODE,Uo.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Ut.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(nn,{MIN:{value:new nn(Ul,Ut.EMPTY_NODE)},MAX:{value:new nn(Da,Wl)}}),Ld.__EMPTY_NODE=Ut.EMPTY_NODE,lu.__childrenNodeConstructor=Ut,function SA(t){Lg=t}(Wl),function AA(t){WT=t}(Wl);const Bd=!0;function jn(t,n=null){if(null===t)return Ut.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,B.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new lu(t,jn(n));if(t instanceof Array||!Bd){let e=Ut.EMPTY_NODE;return Ai(t,(i,o)=>{if((0,B.r3)(t,i)&&"."!==i.substring(0,1)){const u=jn(o);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(i,u))}}),e.updatePriority(jn(n))}{const e=[];let i=!1;if(Ai(t,(h,_)=>{if("."!==h.substring(0,1)){const b=jn(_);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new nn(h,b)))}}),0===e.length)return Ut.EMPTY_NODE;const u=_f(e,HT,h=>h.name,gv);if(i){const h=_f(e,xn.getCompare());return new Ut(u,jn(n),new Uo({".priority":h},{".priority":xn}))}return new Ut(u,jn(n),Uo.Default)}}!function Bg(t){mv=t}(jn);class uu extends gf{constructor(n){super(),this.indexPath_=n,(0,B.hu)(!tn(n)&&".priority"!==on(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),o=this.extractChild(e.node),u=i.compareTo(o);return 0===u?jl(n.name,e.name):u}makePost(n,e){const i=jn(n),o=Ut.EMPTY_NODE.updateChild(this.indexPath_,i);return new nn(e,o)}maxPost(){const n=Ut.EMPTY_NODE.updateChild(this.indexPath_,Wl);return new nn(Da,n)}toString(){return ff(this.indexPath_,0).join("/")}}const vf=new class rE extends gf{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?jl(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return nn.MIN}maxPost(){return nn.MAX}makePost(n,e){const i=jn(n);return new nn(e,i)}toString(){return".value"}};function Vg(t){return{type:"value",snapshotNode:t}}function zl(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function Vd(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function du(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class _v{constructor(n){this.index_=n}updateChild(n,e,i,o,u,h){(0,B.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=n.getImmediateChild(e);return _.getChild(o).equals(i.getChild(o))&&_.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?n.hasChild(e)?h.trackChildChange(Vd(e,_)):(0,B.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?h.trackChildChange(zl(e,i)):h.trackChildChange(du(e,i,_))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(xn,(o,u)=>{e.hasChild(o)||i.trackChildChange(Vd(o,u))}),e.isLeafNode()||e.forEachChild(xn,(o,u)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(u)||i.trackChildChange(du(o,u,h))}else i.trackChildChange(zl(o,u))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?Ut.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class yf{constructor(n){this.indexedFilter_=new _v(n.getIndex()),this.index_=n.getIndex(),this.startPost_=yf.getStartPost_(n),this.endPost_=yf.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&i}updateChild(n,e,i,o,u,h){return this.matches(new nn(e,i))||(i=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,o,u,h)}updateFullNode(n,e,i){e.isLeafNode()&&(e=Ut.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(Ut.EMPTY_NODE);const u=this;return e.forEachChild(xn,(h,_)=>{u.matches(new nn(h,_))||(o=o.updateImmediateChild(h,Ut.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class sE{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new yf(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,i,o,u,h){return this.rangedFilter_.matches(new nn(e,i))||(i=Ut.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,o,u,h):this.fullLimitUpdateChild_(n,e,i,u,h)}updateFullNode(n,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;o=Ut.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const _=u.getNext();if(this.withinDirectionalStart(_)){if(!this.withinDirectionalEnd(_))break;o=o.updateImmediateChild(_.name,_.node),h++}}}else{let u;o=e.withIndex(this.index_),o=o.updatePriority(Ut.EMPTY_NODE),u=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let h=0;for(;u.hasNext();){const _=u.getNext();h<this.limit_&&this.withinDirectionalStart(_)&&this.withinDirectionalEnd(_)?h++:o=o.updateImmediateChild(_.name,Ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,o,u){let h;if(this.reverse_){const L=this.index_.getCompare();h=(U,te)=>L(te,U)}else h=this.index_.getCompare();const _=n;(0,B.hu)(_.numChildren()===this.limit_,"");const b=new nn(e,i),T=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),N=this.rangedFilter_.matches(b);if(_.hasChild(e)){const L=_.getImmediateChild(e);let U=o.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=U&&(U.name===e||_.hasChild(U.name));)U=o.getChildAfterChild(this.index_,U,this.reverse_);const te=null==U?1:h(U,b);if(N&&!i.isEmpty()&&te>=0)return u?.trackChildChange(du(e,i,L)),_.updateImmediateChild(e,i);{u?.trackChildChange(Vd(e,L));const Fe=_.updateImmediateChild(e,Ut.EMPTY_NODE);return null!=U&&this.rangedFilter_.matches(U)?(u?.trackChildChange(zl(U.name,U.node)),Fe.updateImmediateChild(U.name,U.node)):Fe}}return i.isEmpty()?n:N&&h(T,b)>=0?(null!=u&&(u.trackChildChange(Vd(T.name,T.node)),u.trackChildChange(zl(e,i))),_.updateImmediateChild(e,i).updateImmediateChild(T.name,Ut.EMPTY_NODE)):n}}class Ug{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,B.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ul}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,B.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Da}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,B.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xn}copy(){const n=new Ug;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function jg(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function vv(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function cr(t,n){const e=t.copy();return e.index_=n,e}function aE(t){const n={};if(t.isDefault())return n;let e;if(t.index_===xn?e="$priority":t.index_===vf?e="$value":t.index_===Qr?e="$key":((0,B.hu)(t.index_ instanceof uu,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,B.Wl)(e),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";n[i]=(0,B.Wl)(t.indexStartValue_),t.startNameSet_&&(n[i]+=","+(0,B.Wl)(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";n[i]=(0,B.Wl)(t.indexEndValue_),t.endNameSet_&&(n[i]+=","+(0,B.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function lE(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_),n.sin=!t.startAfterSet_),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_),n.ein=!t.endBeforeSet_),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==xn&&(n.i=t.index_.toString()),n}class yv extends bs{constructor(n,e,i,o){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Vl("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,B.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,o){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const h=yv.getListenId_(n,i),_={};this.listens_[h]=_;const b=aE(n._queryParams);this.restRequest_(u+".json",b,(T,N)=>{let L=N;if(404===T&&(L=null,T=null),null===T&&this.onDataUpdate_(u,L,!1,i),(0,B.DV)(this.listens_,h)===_){let U;U=T?401===T?"permission_denied":"rest_error:"+T:"ok",o(U,null)}})}unlisten(n,e){const i=yv.getListenId_(n,e);delete this.listens_[i]}get(n){const e=aE(n._queryParams),i=n._path.toString(),o=new B.BH;return this.restRequest_(i+".json",e,(u,h)=>{let _=h;404===u&&(_=null,u=null),null===u?(this.onDataUpdate_(i,_,!1,null),o.resolve(_)):o.reject(new Error(_))}),o.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(e.auth=o.accessToken),u&&u.token&&(e.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,B.xO)(e);this.log_("Sending REST request for "+h);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(i&&4===_.readyState){this.log_("REST Response for "+h+" received. status:",_.status,"response:",_.responseText);let b=null;if(_.status>=200&&_.status<300){try{b=(0,B.cI)(_.responseText)}catch{xi("Failed to parse JSON response for "+h+": "+_.responseText)}i(null,b)}else 401!==_.status&&404!==_.status&&xi("Got unsuccessful REST response for "+h+" Status: "+_.status),i(_.status);i=null}},_.open("GET",h,!0),_.send()})}}class bv{constructor(){this.rootNode_=Ut.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function bf(){return{value:null,children:new Map}}function Ud(t,n,e){if(tn(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=on(n);t.children.has(i)||t.children.set(i,bf()),Ud(t.children.get(i),n=In(n),e)}}function Ev(t,n){if(tn(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(xn,(i,o)=>{Ud(t,new vn(i),o)}),Ev(t,n)}}if(t.children.size>0){const e=on(n);return n=In(n),t.children.has(e)&&Ev(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function wv(t,n,e){null!==t.value?e(n,t.value):function cE(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,o)=>{wv(o,new vn(n.toString()+"/"+i),e)})}class XT{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&Ai(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=n,e}}class tI{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new XT(n);const i=1e4+2e4*Math.random();Hl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;Ai(n,(o,u)=>{u>0&&(0,B.r3)(this.statsToReport_,o)&&(e[o]=u,i=!0)}),i&&this.server_.reportStats(e),Hl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ho=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Ho||{});function Ds(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class jd{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=Ho.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(tn(this.path)){if(null!=this.affectedTree.value)return(0,B.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new vn(n));return new jd(yn(),e,this.revert)}}return(0,B.hu)(on(this.path)===n,"operationForChild called for unrelated child."),new jd(In(this.path),this.affectedTree,this.revert)}}class Ef{constructor(n,e){this.source=n,this.path=e,this.type=Ho.LISTEN_COMPLETE}operationForChild(n){return tn(this.path)?new Ef(this.source,yn()):new Ef(this.source,In(this.path))}}class Zl{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=Ho.OVERWRITE}operationForChild(n){return tn(this.path)?new Zl(this.source,yn(),this.snap.getImmediateChild(n)):new Zl(this.source,In(this.path),this.snap)}}class Hd{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=Ho.MERGE}operationForChild(n){if(tn(this.path)){const e=this.children.subtree(new vn(n));return e.isEmpty()?null:e.value?new Zl(this.source,yn(),e.value):new Hd(this.source,yn(),e)}return(0,B.hu)(on(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Hd(this.source,In(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Sa{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(tn(n))return this.isFullyInitialized()&&!this.filtered_;const e=on(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class dE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function hu(t,n,e,i,o,u){const h=i.filter(_=>_.type===e);h.sort((_,b)=>function hE(t,n,e){if(null==n.childName||null==e.childName)throw(0,B.g5)("Should only compare child_ events.");const i=new nn(n.childName,n.snapshotNode),o=new nn(e.childName,e.snapshotNode);return t.index_.compare(i,o)}(t,_,b)),h.forEach(_=>{const b=function NA(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,_,u);o.forEach(T=>{T.respondsTo(_.type)&&n.push(T.createEvent(b,t.query_))})})}function wf(t,n){return{eventCache:t,serverCache:n}}function $d(t,n,e,i){return wf(new Sa(n,e,i),t.serverCache)}function Iv(t,n,e,i){return wf(t.eventCache,new Sa(n,e,i))}function Gd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Er(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Sv;class Mn{constructor(n,e=(()=>(Sv||(Sv=new Lr(Nd)),Sv))()){this.value=n,this.children=e}static fromObject(n){let e=new Mn(null);return Ai(n,(i,o)=>{e=e.set(new vn(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:yn(),value:this.value};if(tn(n))return null;{const i=on(n),o=this.children.get(i);if(null!==o){const u=o.findRootMostMatchingPathAndValue(In(n),e);return null!=u?{path:Zt(new vn(i),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(tn(n))return this;{const e=on(n),i=this.children.get(e);return null!==i?i.subtree(In(n)):new Mn(null)}}set(n,e){if(tn(n))return new Mn(e,this.children);{const i=on(n),u=(this.children.get(i)||new Mn(null)).set(In(n),e),h=this.children.insert(i,u);return new Mn(this.value,h)}}remove(n){if(tn(n))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const e=on(n),i=this.children.get(e);if(i){const o=i.remove(In(n));let u;return u=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&u.isEmpty()?new Mn(null):new Mn(this.value,u)}return this}}get(n){if(tn(n))return this.value;{const e=on(n),i=this.children.get(e);return i?i.get(In(n)):null}}setTree(n,e){if(tn(n))return e;{const i=on(n),u=(this.children.get(i)||new Mn(null)).setTree(In(n),e);let h;return h=u.isEmpty()?this.children.remove(i):this.children.insert(i,u),new Mn(this.value,h)}}fold(n){return this.fold_(yn(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((o,u)=>{i[o]=u.fold_(Zt(n,o),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,yn(),e)}findOnPath_(n,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(tn(n))return null;{const u=on(n),h=this.children.get(u);return h?h.findOnPath_(In(n),Zt(e,u),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,yn(),e)}foreachOnPath_(n,e,i){if(tn(n))return this;{this.value&&i(e,this.value);const o=on(n),u=this.children.get(o);return u?u.foreachOnPath_(In(n),Zt(e,o),i):new Mn(null)}}foreach(n){this.foreach_(yn(),n)}foreach_(n,e){this.children.inorderTraversal((i,o)=>{o.foreach_(Zt(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class ao{constructor(n){this.writeTree_=n}static empty(){return new ao(new Mn(null))}}function Wd(t,n,e){if(tn(n))return new ao(new Mn(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const o=i.path;let u=i.value;const h=Qi(o,n);return u=u.updateChild(h,e),new ao(t.writeTree_.set(o,u))}{const o=new Mn(e),u=t.writeTree_.setTree(n,o);return new ao(u)}}}function Av(t,n,e){let i=t;return Ai(e,(o,u)=>{i=Wd(i,Zt(n,o),u)}),i}function Df(t,n){if(tn(n))return ao.empty();{const e=t.writeTree_.setTree(n,new Mn(null));return new ao(e)}}function fu(t,n){return null!=Yl(t,n)}function Yl(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(Qi(e.path,n)):null}function Cf(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(xn,(i,o)=>{n.push(new nn(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&n.push(new nn(i,o.value))}),n}function pu(t,n){if(tn(n))return t;{const e=Yl(t,n);return new ao(null!=e?new Mn(e):t.writeTree_.subtree(n))}}function Nv(t){return t.writeTree_.isEmpty()}function gu(t,n){return Mv(yn(),t.writeTree_,n)}function Mv(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((o,u)=>{".priority"===o?((0,B.hu)(null!==u.value,"Priority writes must always be leaf nodes"),i=u.value):e=Mv(Zt(t,o),u,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(Zt(t,".priority"),i)),e}}function $g(t,n){return bE(n,t)}function rI(t,n){if(t.snap)return Fr(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&Fr(Zt(t.path,e),n))return!0;return!1}function mE(t){return t.visible}function _E(t,n,e){let i=ao.empty();for(let o=0;o<t.length;++o){const u=t[o];if(n(u)){const h=u.path;let _;if(u.snap)Fr(e,h)?(_=Qi(e,h),i=Wd(i,_,u.snap)):Fr(h,e)&&(_=Qi(h,e),i=Wd(i,yn(),u.snap.getChild(_)));else{if(!u.children)throw(0,B.g5)("WriteRecord should have .snap or .children");if(Fr(e,h))_=Qi(e,h),i=Av(i,_,u.children);else if(Fr(h,e))if(_=Qi(h,e),tn(_))i=Av(i,yn(),u.children);else{const b=(0,B.DV)(u.children,on(_));if(b){const T=b.getChild(In(_));i=Wd(i,yn(),T)}}}}}return i}function vE(t,n,e,i,o){if(i||o){const u=pu(t.visibleWrites,n);return!o&&Nv(u)?e:o||null!=e||fu(u,yn())?gu(_E(t.allWrites,function(T){return(T.visible||o)&&(!i||!~i.indexOf(T.writeId))&&(Fr(T.path,n)||Fr(n,T.path))},n),e||Ut.EMPTY_NODE):null}{const u=Yl(t.visibleWrites,n);if(null!=u)return u;{const h=pu(t.visibleWrites,n);return Nv(h)?e:null!=e||fu(h,yn())?gu(h,e||Ut.EMPTY_NODE):null}}}function Gg(t,n,e,i){return vE(t.writeTree,t.treePath,n,e,i)}function Rv(t,n){return function If(t,n,e){let i=Ut.EMPTY_NODE;const o=Yl(t.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(xn,(u,h)=>{i=i.updateImmediateChild(u,h)}),i;if(e){const u=pu(t.visibleWrites,n);return e.forEachChild(xn,(h,_)=>{const b=gu(pu(u,new vn(h)),_);i=i.updateImmediateChild(h,b)}),Cf(u).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return Cf(pu(t.visibleWrites,n)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(t.writeTree,t.treePath,n)}function yE(t,n,e,i){return function sI(t,n,e,i,o){(0,B.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const u=Zt(n,e);if(fu(t.visibleWrites,u))return null;{const h=pu(t.visibleWrites,u);return Nv(h)?o.getChild(e):gu(h,o.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function Sf(t,n){return function aI(t,n){return Yl(t.visibleWrites,n)}(t.writeTree,Zt(t.treePath,n))}function Pv(t,n,e){return function oI(t,n,e,i){const o=Zt(n,e),u=Yl(t.visibleWrites,o);return null!=u?u:i.isCompleteForChild(e)?gu(pu(t.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function Af(t,n){return bE(Zt(t.treePath,n),t.writeTree)}function bE(t,n){return{treePath:t,writeTree:n}}class uI{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,B.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,B.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const u=o.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(i,du(i,n.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(i,Vd(i,o.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(i,zl(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,B.g5)("Illegal combination of changes: "+n+" occurred after "+o);this.changeMap.set(i,du(i,n.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const EE=new class dI{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class xv{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new Sa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pv(this.writes_,n,i)}}getChildAfterChild(n,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Er(this.viewCache_),u=function Ov(t,n,e,i,o,u){return function lI(t,n,e,i,o,u,h){let _;const b=pu(t.visibleWrites,n),T=Yl(b,yn());if(null!=T)_=T;else{if(null==e)return[];_=gu(b,e)}if(_=_.withIndex(h),_.isEmpty()||_.isLeafNode())return[];{const N=[],L=h.getCompare(),U=u?_.getReverseIteratorFrom(i,h):_.getIteratorFrom(i,h);let te=U.getNext();for(;te&&N.length<o;)0!==L(te,i)&&N.push(te),te=U.getNext();return N}}(t.writeTree,t.treePath,n,e,i,o,u)}(this.writes_,o,e,1,i,n);return 0===u.length?null:u[0]}}function TE(t,n,e,i,o,u){const h=n.eventCache;if(null!=Sf(i,e))return n;{let _,b;if(tn(e))if((0,B.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const T=Er(n),L=Rv(i,T instanceof Ut?T:Ut.EMPTY_NODE);_=t.filter.updateFullNode(n.eventCache.getNode(),L,u)}else{const T=Gg(i,Er(n));_=t.filter.updateFullNode(n.eventCache.getNode(),T,u)}else{const T=on(e);if(".priority"===T){(0,B.hu)(1===$l(e),"Can't have a priority with additional path components");const N=h.getNode();b=n.serverCache.getNode();const L=yE(i,e,N,b);_=null!=L?t.filter.updatePriority(N,L):h.getNode()}else{const N=In(e);let L;if(h.isCompleteForChild(T)){b=n.serverCache.getNode();const U=yE(i,e,h.getNode(),b);L=null!=U?h.getNode().getImmediateChild(T).updateChild(N,U):h.getNode().getImmediateChild(T)}else L=Pv(i,T,n.serverCache);_=null!=L?t.filter.updateChild(h.getNode(),T,L,N,o,u):h.getNode()}}return $d(n,_,h.isFullyInitialized()||tn(e),t.filter.filtersNodes())}}function kv(t,n,e,i,o,u,h,_){const b=n.serverCache;let T;const N=h?t.filter:t.filter.getIndexedFilter();if(tn(e))T=N.updateFullNode(b.getNode(),i,null);else if(N.filtersNodes()&&!b.isFiltered()){const te=b.getNode().updateChild(e,i);T=N.updateFullNode(b.getNode(),te,null)}else{const te=on(e);if(!b.isCompleteForPath(e)&&$l(e)>1)return n;const Ae=In(e),Le=b.getNode().getImmediateChild(te).updateChild(Ae,i);T=".priority"===te?N.updatePriority(b.getNode(),Le):N.updateChild(b.getNode(),te,Le,Ae,EE,null)}const L=Iv(n,T,b.isFullyInitialized()||tn(e),N.filtersNodes());return TE(t,L,e,o,new xv(o,L,u),_)}function Wg(t,n,e,i,o,u,h){const _=n.eventCache;let b,T;const N=new xv(o,n,u);if(tn(e))T=t.filter.updateFullNode(n.eventCache.getNode(),i,h),b=$d(n,T,!0,t.filter.filtersNodes());else{const L=on(e);if(".priority"===L)T=t.filter.updatePriority(n.eventCache.getNode(),i),b=$d(n,T,_.isFullyInitialized(),_.isFiltered());else{const U=In(e),te=_.getNode().getImmediateChild(L);let Ae;if(tn(U))Ae=i;else{const Fe=N.getCompleteChild(L);Ae=null!=Fe?".priority"===Es(U)&&Fe.getChild(LT(U)).isEmpty()?Fe:Fe.updateChild(U,i):Ut.EMPTY_NODE}b=te.equals(Ae)?n:$d(n,t.filter.updateChild(_.getNode(),L,Ae,U,N,h),_.isFullyInitialized(),t.filter.filtersNodes())}}return b}function Fv(t,n){return t.eventCache.isCompleteForChild(n)}function Nf(t,n,e){return e.foreach((i,o)=>{n=n.updateChild(i,o)}),n}function Lv(t,n,e,i,o,u,h,_){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let T,b=n;T=tn(e)?i:new Mn(null).setTree(e,i);const N=n.serverCache.getNode();return T.children.inorderTraversal((L,U)=>{if(N.hasChild(L)){const Ae=Nf(0,n.serverCache.getNode().getImmediateChild(L),U);b=kv(t,b,new vn(L),Ae,o,u,h,_)}}),T.children.inorderTraversal((L,U)=>{const te=!n.serverCache.isCompleteForChild(L)&&null===U.value;if(!N.hasChild(L)&&!te){const Fe=Nf(0,n.serverCache.getNode().getImmediateChild(L),U);b=kv(t,b,new vn(L),Fe,o,u,h,_)}}),b}class $o{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new _v(i.getIndex()),u=function qT(t){return t.loadsAllData()?new _v(t.getIndex()):t.hasLimit()?new sE(t):new yf(t)}(i);this.processor_=function hI(t){return{filter:t}}(u);const h=e.serverCache,_=e.eventCache,b=o.updateFullNode(Ut.EMPTY_NODE,h.getNode(),null),T=u.updateFullNode(Ut.EMPTY_NODE,_.getNode(),null),N=new Sa(b,h.isFullyInitialized(),o.filtersNodes()),L=new Sa(T,_.isFullyInitialized(),u.filtersNodes());this.viewCache_=wf(L,N),this.eventGenerator_=new dE(this.query_)}get query(){return this.query_}}function mu(t,n){const e=Er(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!tn(n)&&!e.getImmediateChild(on(n)).isEmpty())?e.getChild(n):null}function Rf(t){return 0===t.eventRegistrations_.length}function zg(t,n,e){const i=[];if(e){(0,B.hu)(null==n,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(e,o);h&&i.push(h)})}if(n){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const h=t.eventRegistrations_[u];if(h.matches(n)){if(n.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}else o.push(h)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function _u(t,n,e,i){n.type===Ho.MERGE&&null!==n.source.queryId&&((0,B.hu)(Er(t.viewCache_),"We should always have a full cache before handling merges"),(0,B.hu)(Gd(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=function DE(t,n,e,i,o){const u=new uI;let h,_;if(e.type===Ho.OVERWRITE){const T=e;T.source.fromUser?h=Wg(t,n,T.path,T.snap,i,o,u):((0,B.hu)(T.source.fromServer,"Unknown source."),_=T.source.tagged||n.serverCache.isFiltered()&&!tn(T.path),h=kv(t,n,T.path,T.snap,i,o,_,u))}else if(e.type===Ho.MERGE){const T=e;T.source.fromUser?h=function MA(t,n,e,i,o,u,h){let _=n;return i.foreach((b,T)=>{const N=Zt(e,b);Fv(n,on(N))&&(_=Wg(t,_,N,T,o,u,h))}),i.foreach((b,T)=>{const N=Zt(e,b);Fv(n,on(N))||(_=Wg(t,_,N,T,o,u,h))}),_}(t,n,T.path,T.children,i,o,u):((0,B.hu)(T.source.fromServer,"Unknown source."),_=T.source.tagged||n.serverCache.isFiltered(),h=Lv(t,n,T.path,T.children,i,o,_,u))}else if(e.type===Ho.ACK_USER_WRITE){const T=e;h=T.revert?function pI(t,n,e,i,o,u){let h;if(null!=Sf(i,e))return n;{const _=new xv(i,n,o),b=n.eventCache.getNode();let T;if(tn(e)||".priority"===on(e)){let N;if(n.serverCache.isFullyInitialized())N=Gg(i,Er(n));else{const L=n.serverCache.getNode();(0,B.hu)(L instanceof Ut,"serverChildren would be complete if leaf node"),N=Rv(i,L)}T=t.filter.updateFullNode(b,N,u)}else{const N=on(e);let L=Pv(i,N,n.serverCache);null==L&&n.serverCache.isCompleteForChild(N)&&(L=b.getImmediateChild(N)),T=null!=L?t.filter.updateChild(b,N,L,In(e),_,u):n.eventCache.getNode().hasChild(N)?t.filter.updateChild(b,N,Ut.EMPTY_NODE,In(e),_,u):b,T.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Gg(i,Er(n)),h.isLeafNode()&&(T=t.filter.updateFullNode(T,h,u)))}return h=n.serverCache.isFullyInitialized()||null!=Sf(i,yn()),$d(n,T,h,t.filter.filtersNodes())}}(t,n,T.path,i,o,u):function fI(t,n,e,i,o,u,h){if(null!=Sf(o,e))return n;const _=n.serverCache.isFiltered(),b=n.serverCache;if(null!=i.value){if(tn(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return kv(t,n,e,b.getNode().getChild(e),o,u,_,h);if(tn(e)){let T=new Mn(null);return b.getNode().forEachChild(Qr,(N,L)=>{T=T.set(new vn(N),L)}),Lv(t,n,e,T,o,u,_,h)}return n}{let T=new Mn(null);return i.foreach((N,L)=>{const U=Zt(e,N);b.isCompleteForPath(U)&&(T=T.set(N,b.getNode().getChild(U)))}),Lv(t,n,e,T,o,u,_,h)}}(t,n,T.path,T.affectedTree,i,o,u)}else{if(e.type!==Ho.LISTEN_COMPLETE)throw(0,B.g5)("Unknown operation type: "+e.type);h=function Bv(t,n,e,i,o){const u=n.serverCache;return TE(t,Iv(n,u.getNode(),u.isFullyInitialized()||tn(e),u.isFiltered()),e,i,EE,o)}(t,n,e.path,i,u)}const b=u.getChanges();return function CE(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),u=Gd(t);(e.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(u)||!i.getNode().getPriority().equals(u.getPriority()))&&e.push(Vg(Gd(n)))}}(n,h,b),{viewCache:h,changes:b}}(t.processor_,o,n,e,i);return function wE(t,n){(0,B.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,B.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,u.viewCache),(0,B.hu)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,vu(t,u.changes,u.viewCache.eventCache.getNode(),null)}function vu(t,n,e,i){return function Hg(t,n,e,i){const o=[],u=[];return n.forEach(h=>{"child_changed"===h.type&&t.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(function YT(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(h.childName,h.snapshotNode))}),hu(t,o,"child_removed",n,i,e),hu(t,o,"child_added",n,i,e),hu(t,o,"child_moved",u,i,e),hu(t,o,"child_changed",n,i,e),hu(t,o,"value",n,i,e),o}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let Aa,Kd;class yu{constructor(){this.views=new Map}}function ql(t,n,e,i){const o=n.source.queryId;if(null!==o){const u=t.views.get(o);return(0,B.hu)(null!=u,"SyncTree gave us an op for an invalid query."),_u(u,n,e,i)}{let u=[];for(const h of t.views.values())u=u.concat(_u(h,n,e,i));return u}}function Vv(t,n,e,i,o){const h=t.views.get(n._queryIdentifier);if(!h){let _=Gg(e,o?i:null),b=!1;_?b=!0:i instanceof Ut?(_=Rv(e,i),b=!1):(_=Ut.EMPTY_NODE,b=!1);const T=wf(new Sa(_,b,!1),new Sa(i,o,!1));return new $o(n,T)}return h}function Uv(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function Na(t,n){let e=null;for(const i of t.views.values())e=e||mu(i,n);return e}function jv(t,n){return n._queryParams.loadsAllData()?Of(t):t.views.get(n._queryIdentifier)}function Hv(t,n){return null!=jv(t,n)}function Ma(t){return null!=Of(t)}function Of(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let OA=1;class AE{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Mn(null),this.pendingWriteTree_=function cI(){return{visibleWrites:ao.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $v(t,n,e,i,o){return function iI(t,n,e,i,o){(0,B.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:o}),o&&(t.visibleWrites=Wd(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,o),o?bu(t,new Zl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function Kl(t,n,e=!1){const i=function pE(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function Tf(t,n){const e=t.allWrites.findIndex(_=>_.writeId===n);(0,B.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let o=i.visible,u=!1,h=t.allWrites.length-1;for(;o&&h>=0;){const _=t.allWrites[h];_.visible&&(h>=e&&rI(_,i.path)?o=!1:Fr(i.path,_.path)&&(u=!0)),h--}return!!o&&(u?(function gE(t){t.visibleWrites=_E(t.allWrites,mE,yn()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=Df(t.visibleWrites,i.path):Ai(i.children,b=>{t.visibleWrites=Df(t.visibleWrites,Zt(i.path,b))}),!0))}(t.pendingWriteTree_,n)){let u=new Mn(null);return null!=i.snap?u=u.set(yn(),!0):Ai(i.children,h=>{u=u.set(new vn(h),!0)}),bu(t,new jd(i.path,u,e))}return[]}function Zg(t,n,e){return bu(t,new Zl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function Jd(t,n,e,i,o=!1){const u=n._path,h=t.syncPointTree_.get(u);let _=[];if(h&&("default"===n._queryIdentifier||Hv(h,n))){const b=function SE(t,n,e,i){const o=n._queryIdentifier,u=[];let h=[];const _=Ma(t);if("default"===o)for(const[b,T]of t.views.entries())h=h.concat(zg(T,e,i)),Rf(T)&&(t.views.delete(b),T.query._queryParams.loadsAllData()||u.push(T.query));else{const b=t.views.get(o);b&&(h=h.concat(zg(b,e,i)),Rf(b)&&(t.views.delete(o),b.query._queryParams.loadsAllData()||u.push(b.query)))}return _&&!Ma(t)&&u.push(new(function Yd(){return(0,B.hu)(Aa,"Reference.ts has not been loaded"),Aa}())(n._repo,n._path)),{removed:u,events:h}}(h,n,e,i);(function qd(t){return 0===t.views.size})(h)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const T=b.removed;if(_=b.events,!o){const N=-1!==T.findIndex(U=>U._queryParams.loadsAllData()),L=t.syncPointTree_.findOnPath(u,(U,te)=>Ma(te));if(N&&!L){const U=t.syncPointTree_.subtree(u);if(!U.isEmpty()){const te=function qg(t){return t.fold((n,e,i)=>{if(e&&Ma(e))return[Of(e)];{let o=[];return e&&(o=Uv(e)),Ai(i,(u,h)=>{o=o.concat(h)}),o}})}(U);for(let Ae=0;Ae<te.length;++Ae){const Fe=te[Ae],Le=Fe.query,ct=ME(t,Fe);t.listenProvider_.startListening(Kg(Le),kf(t,Le),ct.hashFn,ct.onComplete)}}}!L&&T.length>0&&!i&&(N?t.listenProvider_.stopListening(Kg(n),null):T.forEach(U=>{const te=t.queryToTagMap.get(Yg(U));t.listenProvider_.stopListening(Kg(U),te)}))}!function yI(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const o=Yg(i),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}(t,T)}return _}function Qd(t,n,e,i){const o=Wv(t,i);if(null!=o){const u=Ff(o),h=u.path,_=u.queryId,b=Qi(h,n);return th(t,h,new Zl(Ds(_),b,e))}return[]}function Xd(t,n,e,i=!1){const o=n._path;let u=null,h=!1;t.syncPointTree_.foreachOnPath(o,(U,te)=>{const Ae=Qi(U,o);u=u||Na(te,Ae),h=h||Ma(te)});let b,_=t.syncPointTree_.get(o);_?(h=h||Ma(_),u=u||Na(_,yn())):(_=new yu,t.syncPointTree_=t.syncPointTree_.set(o,_)),null!=u?b=!0:(b=!1,u=Ut.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((te,Ae)=>{const Fe=Na(Ae,yn());Fe&&(u=u.updateImmediateChild(te,Fe))}));const T=Hv(_,n);if(!T&&!n._queryParams.loadsAllData()){const U=Yg(n);(0,B.hu)(!t.queryToTagMap.has(U),"View does not exist, but we have a tag");const te=function bI(){return OA++}();t.queryToTagMap.set(U,te),t.tagToQueryMap.set(te,U)}let L=function IE(t,n,e,i,o,u){const h=Vv(t,n,i,o,u);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,h),function Cs(t,n){t.eventRegistrations_.push(n)}(h,e),function zd(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(xn,(u,h)=>{i.push(zl(u,h))}),e.isFullyInitialized()&&i.push(Vg(e.getNode())),vu(t,i,e.getNode(),n)}(h,e)}(_,n,e,$g(t.pendingWriteTree_,o),u,b);if(!T&&!h&&!i){const U=jv(_,n);L=L.concat(function zv(t,n,e){const i=n._path,o=kf(t,n),u=ME(t,e),h=t.listenProvider_.startListening(Kg(n),o,u.hashFn,u.onComplete),_=t.syncPointTree_.subtree(i);if(o)(0,B.hu)(!Ma(_.value),"If we're adding a query, it shouldn't be shadowed");else{const b=_.fold((T,N,L)=>{if(!tn(T)&&N&&Ma(N))return[Of(N).query];{let U=[];return N&&(U=U.concat(Uv(N).map(te=>te.query))),Ai(L,(te,Ae)=>{U=U.concat(Ae)}),U}});for(let T=0;T<b.length;++T){const N=b[T];t.listenProvider_.stopListening(Kg(N),kf(t,N))}}return h}(t,n,U))}return L}function Pf(t,n,e){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(n,(h,_)=>{const T=Na(_,Qi(h,n));if(T)return T});return vE(o,n,u,e,!0)}function bu(t,n){return NE(n,t.syncPointTree_,null,$g(t.pendingWriteTree_,yn()))}function NE(t,n,e,i){if(tn(t.path))return eh(t,n,e,i);{const o=n.get(yn());null==e&&null!=o&&(e=Na(o,yn()));let u=[];const h=on(t.path),_=t.operationForChild(h),b=n.children.get(h);if(b&&_){const T=e?e.getImmediateChild(h):null,N=Af(i,h);u=u.concat(NE(_,b,T,N))}return o&&(u=u.concat(ql(o,t,i,e))),u}}function eh(t,n,e,i){const o=n.get(yn());null==e&&null!=o&&(e=Na(o,yn()));let u=[];return n.children.inorderTraversal((h,_)=>{const b=e?e.getImmediateChild(h):null,T=Af(i,h),N=t.operationForChild(h);N&&(u=u.concat(eh(N,_,b,T)))}),o&&(u=u.concat(ql(o,t,i,e))),u}function ME(t,n){const e=n.query,i=kf(t,e);return{hashFn:()=>(function Mf(t){return t.viewCache_.serverCache.getNode()}(n)||Ut.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function vI(t,n,e){const i=Wv(t,e);if(i){const o=Ff(i),u=o.path,h=o.queryId,_=Qi(u,n);return th(t,u,new Ef(Ds(h),_))}return[]}(t,e._path,i):function _I(t,n){return bu(t,new Ef({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const u=function K_(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(o,e);return Jd(t,e,null,u)}}}}function kf(t,n){const e=Yg(n);return t.queryToTagMap.get(e)}function Yg(t){return t._path.toString()+"$"+t._queryIdentifier}function Wv(t,n){return t.tagToQueryMap.get(n)}function Ff(t){const n=t.indexOf("$");return(0,B.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new vn(t.substr(0,n))}}function th(t,n,e){const i=t.syncPointTree_.get(n);return(0,B.hu)(i,"Missing sync point for query tag that we're tracking"),ql(i,e,$g(t.pendingWriteTree_,n),null)}function Kg(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function RA(){return(0,B.hu)(Kd,"Reference.ts has not been loaded"),Kd}())(t._repo,t._path):t}class Zv{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new Zv(e)}node(){return this.node_}}class Jg{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=Zt(this.path_,n);return new Jg(this.syncTree_,e)}node(){return Pf(this.syncTree_,this.path_)}}const EI=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},RE=function(t,n,e){return t&&"object"==typeof t?((0,B.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?OE(t[".sv"],n,e):"object"==typeof t[".sv"]?PE(t[".sv"],n):void(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},OE=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,B.hu)(!1,"Unexpected server value: "+t)},PE=function(t,n,e){t.hasOwnProperty("increment")||(0,B.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,B.hu)(!1,"Unexpected increment value: "+i);const o=n.node();if((0,B.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const h=o.getValue();return"number"!=typeof h?i:h+i},Yv=function(t,n,e,i){return Kv(n,new Jg(e,t),i)},qv=function(t,n,e){return Kv(t,new Zv(n),e)};function Kv(t,n,e){const i=t.getPriority().val(),o=RE(i,n.getImmediateChild(".priority"),e);let u;if(t.isLeafNode()){const h=t,_=RE(h.getValue(),n,e);return _!==h.getValue()||o!==h.getPriority().val()?new lu(_,jn(o)):t}{const h=t;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new lu(o))),h.forEachChild(xn,(_,b)=>{const T=Kv(b,n.getImmediateChild(_),e);T!==b&&(u=u.updateImmediateChild(_,T))}),u}}class Jv{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function Lf(t,n){let e=n instanceof vn?n:new vn(n),i=t,o=on(e);for(;null!==o;){const u=(0,B.DV)(i.node.children,o)||{children:{},childCount:0};i=new Jv(o,i,u),e=In(e),o=on(e)}return i}function Ra(t){return t.node.value}function Bf(t,n){t.node.value=n,Qv(t)}function xE(t){return t.node.childCount>0}function Eu(t,n){Ai(t.node.children,(e,i)=>{n(new Jv(e,t,i))})}function Xg(t,n,e,i){e&&!i&&n(t),Eu(t,o=>{Xg(o,n,!0,i)}),e&&i&&n(t)}function Vf(t){return new vn(null===t.parent?t.name:Vf(t.parent)+"/"+t.name)}function Qv(t){null!==t.parent&&function wI(t,n,e){const i=function Qg(t){return void 0===Ra(t)&&!xE(t)}(e),o=(0,B.r3)(t.node.children,n);i&&o?(delete t.node.children[n],t.node.childCount--,Qv(t)):!i&&!o&&(t.node.children[n]=e.node,t.node.childCount++,Qv(t))}(t.parent,t.name,t)}const em=/[\[\].#$\/\u0000-\u001F\u007F]/,tm=/[\[\].#$\u0000-\u001F\u007F]/,nm=10485760,Uf=function(t){return"string"==typeof t&&0!==t.length&&!em.test(t)},FE=function(t){return"string"==typeof t&&0!==t.length&&!tm.test(t)},nh=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!iu(t)||t&&"object"==typeof t&&(0,B.r3)(t,".sv")},Ts=function(t,n,e,i){i&&void 0===n||ih((0,B.gK)(t,"value"),n,e)},ih=function(t,n,e){const i=e instanceof vn?new Qb(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+Gl(i));if("function"==typeof n)throw new Error(t+"contains a function "+Gl(i)+" with contents = "+n.toString());if(iu(n))throw new Error(t+"contains "+n.toString()+" "+Gl(i));if("string"==typeof n&&n.length>nm/3&&(0,B.ug)(n)>nm)throw new Error(t+"contains a string greater than "+nm+" utf8 bytes "+Gl(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let o=!1,u=!1;if(Ai(n,(h,_)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(u=!0,!Uf(h)))throw new Error(t+" contains an invalid key ("+h+") "+Gl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Xb(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,B.ug)(n),hv(t)})(i,h),ih(t,_,i),function VT(t){const n=t.parts_.pop();t.byteLength_-=(0,B.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),o&&u)throw new Error(t+' contains ".value" child '+Gl(i)+" in addition to actual children.")}},ey=function(t,n,e,i){if(i&&void 0===n)return;const o=(0,B.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const u=[];Ai(n,(h,_)=>{const b=new vn(h);if(ih(o,_,Zt(e,b)),".priority"===Es(b)&&!nh(_))throw new Error(o+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(b)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const u=ff(i);for(let h=0;h<u.length;h++)if((".priority"!==u[h]||h!==u.length-1)&&!Uf(u[h]))throw new Error(t+"contains an invalid key ("+u[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(BT);let o=null;for(e=0;e<n.length;e++){if(i=n[e],null!==o&&Fr(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,u)},ty=function(t,n,e){if(!e||void 0!==n){if(iu(n))throw new Error((0,B.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nh(n))throw new Error((0,B.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},rh=function(t,n,e,i){if(!(i&&void 0===e||Uf(e)))throw new Error((0,B.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},sh=function(t,n,e,i){if(!(i&&void 0===e||FE(e)))throw new Error((0,B.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},LE=function(t,n,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),sh(t,n,e,i)},Xr=function(t,n){if(".info"===on(n))throw new Error(t+" failed = Can't modify data under /.info/")},BE=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Uf(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),FE(t)}(e))throw new Error((0,B.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class VE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jf(t,n){let e=null;for(let i=0;i<n.length;i++){const o=n[i],u=o.getPath();null!==e&&!dv(u,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(o)}e&&t.eventLists_.push(e)}function im(t,n,e){jf(t,e),ny(t,i=>dv(i,n))}function dr(t,n,e){jf(t,e),ny(t,i=>Fr(i,n)||Fr(n,i))}function ny(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];o&&(n(o.path)?(UE(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function UE(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();Ll&&Si("event: "+e.toString()),uf(i)}}}const iy="repo_interrupt",jE=25;class HE{constructor(n,e,i,o){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bf(),this.transactionQueueTree_=new Jv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ry(t){const e=t.infoData_.getNode(new vn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function oh(t){return EI({timestamp:ry(t)})}function Hf(t,n,e,i,o){t.dataUpdateCount++;const u=new vn(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let h=[];if(o)if(i){const b=(0,B.UI)(e,T=>jn(T));h=function Gv(t,n,e,i){const o=Wv(t,i);if(o){const u=Ff(o),h=u.path,_=u.queryId,b=Qi(h,n),T=Mn.fromObject(e);return th(t,h,new Hd(Ds(_),b,T))}return[]}(t.serverSyncTree_,u,b,o)}else{const b=jn(e);h=Qd(t.serverSyncTree_,u,b,o)}else if(i){const b=(0,B.UI)(e,T=>jn(T));h=function mI(t,n,e){const i=Mn.fromObject(e);return bu(t,new Hd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,u,b)}else{const b=jn(e);h=Zg(t.serverSyncTree_,u,b)}let _=u;h.length>0&&(_=lo(t,u)),dr(t.eventQueue_,_,h)}function Oa(t,n){sy(t,"connected",n),!1===n&&function oy(t){lh(t,"onDisconnectEvents");const n=oh(t),e=bf();wv(t.onDisconnect_,yn(),(o,u)=>{const h=Yv(o,u,t.serverSyncTree_,n);Ud(e,o,h)});let i=[];wv(e,yn(),(o,u)=>{i=i.concat(Zg(t.serverSyncTree_,o,u));const h=KE(t,o);lo(t,h)}),t.onDisconnect_=bf(),dr(t.eventQueue_,yn(),i)}(t)}function sy(t,n,e){const i=new vn("/.info/"+n),o=jn(e);t.infoData_.updateSnapshot(i,o);const u=Zg(t.infoSyncTree_,i,o);dr(t.eventQueue_,i,u)}function ah(t){return t.nextWriteId_++}function $f(t,n,e,i,o){lh(t,"set",{path:n.toString(),value:e,priority:i});const u=oh(t),h=jn(e,i),_=Pf(t.serverSyncTree_,n),b=qv(h,_,u),T=ah(t),N=$v(t.serverSyncTree_,n,b,T,!0);jf(t.eventQueue_,N),t.server_.put(n.toString(),h.val(!0),(U,te)=>{const Ae="ok"===U;Ae||xi("set at "+n+" failed: "+U);const Fe=Kl(t.serverSyncTree_,T,!Ae);dr(t.eventQueue_,n,Fe),Jl(0,o,U,te)});const L=KE(t,n);lo(t,L),dr(t.eventQueue_,L,[])}function xA(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,o)=>{"ok"===i&&Ev(t.onDisconnect_,n),Jl(0,e,i,o)})}function II(t,n,e,i){const o=jn(e);t.server_.onDisconnectPut(n.toString(),o.val(!0),(u,h)=>{"ok"===u&&Ud(t.onDisconnect_,n,o),Jl(0,i,u,h)})}function ay(t,n,e){let i;i=".info"===on(n._path)?Jd(t.infoSyncTree_,n,e):Jd(t.serverSyncTree_,n,e),im(t.eventQueue_,n._path,i)}function Ni(t){t.persistentConnection_&&t.persistentConnection_.interrupt(iy)}function lh(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Si(e,...n)}function Jl(t,n,e,i){n&&uf(()=>{if("ok"===e)n(null);else{const o=(e||"error").toUpperCase();let u=o;i&&(u+=": "+i);const h=new Error(u);h.code=o,n(h)}})}function ly(t,n,e){return Pf(t.serverSyncTree_,n,e)||Ut.EMPTY_NODE}function Gf(t,n=t.transactionQueueTree_){if(n||Wf(t,n),Ra(n)){const e=cy(t,n);(0,B.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function ZE(t,n,e){const i=e.map(T=>T.currentWriteId),o=ly(t,n,i);let u=o;const h=o.hash();for(let T=0;T<e.length;T++){const N=e[T];(0,B.hu)(0===N.status,"tryToSendTransactionQueue_: items in queue should all be run."),N.status=1,N.retryCount++;const L=Qi(n,N.path);u=u.updateChild(L,N.currentOutputSnapshotRaw)}const _=u.val(!0),b=n;t.server_.put(b.toString(),_,T=>{lh(t,"transaction put response",{path:b.toString(),status:T});let N=[];if("ok"===T){const L=[];for(let U=0;U<e.length;U++)e[U].status=2,N=N.concat(Kl(t.serverSyncTree_,e[U].currentWriteId)),e[U].onComplete&&L.push(()=>e[U].onComplete(null,!0,e[U].currentOutputSnapshotResolved)),e[U].unwatcher();Wf(t,Lf(t.transactionQueueTree_,n)),Gf(t,t.transactionQueueTree_),dr(t.eventQueue_,n,N);for(let U=0;U<L.length;U++)uf(L[U])}else{if("datastale"===T)for(let L=0;L<e.length;L++)e[L].status=3===e[L].status?4:0;else{xi("transaction at "+b.toString()+" failed: "+T);for(let L=0;L<e.length;L++)e[L].status=4,e[L].abortReason=T}lo(t,n)}},h)}(t,Vf(n),e)}else xE(n)&&Eu(n,e=>{Gf(t,e)})}function lo(t,n){const e=YE(t,n),i=Vf(e);return function NI(t,n,e){if(0===n.length)return;const i=[];let o=[];const h=n.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<n.length;_++){const b=n[_],T=Qi(e,b.path);let L,N=!1;if((0,B.hu)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)N=!0,L=b.abortReason,o=o.concat(Kl(t.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=jE)N=!0,L="maxretry",o=o.concat(Kl(t.serverSyncTree_,b.currentWriteId,!0));else{const U=ly(t,b.path,h);b.currentInputSnapshot=U;const te=n[_].update(U.val());if(void 0!==te){ih("transaction failed: Data returned ",te,b.path);let Ae=jn(te);"object"==typeof te&&null!=te&&(0,B.r3)(te,".priority")||(Ae=Ae.updatePriority(U.getPriority()));const Le=b.currentWriteId,ct=oh(t),gt=qv(Ae,U,ct);b.currentOutputSnapshotRaw=Ae,b.currentOutputSnapshotResolved=gt,b.currentWriteId=ah(t),h.splice(h.indexOf(Le),1),o=o.concat($v(t.serverSyncTree_,b.path,gt,b.currentWriteId,b.applyLocally)),o=o.concat(Kl(t.serverSyncTree_,Le,!0))}else N=!0,L="nodata",o=o.concat(Kl(t.serverSyncTree_,b.currentWriteId,!0))}dr(t.eventQueue_,e,o),o=[],N&&(n[_].status=2,setTimeout(n[_].unwatcher,Math.floor(0)),n[_].onComplete&&i.push("nodata"===L?()=>n[_].onComplete(null,!1,n[_].currentInputSnapshot):()=>n[_].onComplete(new Error(L),!1,null)))}Wf(t,t.transactionQueueTree_);for(let _=0;_<i.length;_++)uf(i[_]);Gf(t,t.transactionQueueTree_)}(t,cy(t,e),i),i}function YE(t,n){let e,i=t.transactionQueueTree_;for(e=on(n);null!==e&&void 0===Ra(i);)i=Lf(i,e),e=on(n=In(n));return i}function cy(t,n){const e=[];return qE(t,n,e),e.sort((i,o)=>i.order-o.order),e}function qE(t,n,e){const i=Ra(n);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);Eu(n,o=>{qE(t,o,e)})}function Wf(t,n){const e=Ra(n);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,Bf(n,e.length>0?e:void 0)}Eu(n,i=>{Wf(t,i)})}function KE(t,n){const e=Vf(YE(t,n)),i=Lf(t.transactionQueueTree_,n);return function kE(t,n,e){let i=e?t:t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,o=>{rm(t,o)}),rm(t,i),Xg(i,o=>{rm(t,o)}),e}function rm(t,n){const e=Ra(n);if(e){const i=[];let o=[],u=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,B.hu)(u===h-1,"All SENT items should be at beginning of queue."),u=h,e[h].status=3,e[h].abortReason="set"):((0,B.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(Kl(t.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&i.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===u?Bf(n,void 0):e.length=u+1,dr(t.eventQueue_,Vf(n),o);for(let h=0;h<i.length;h++)uf(i[h])}}const dy=function(t,n){const e=JE(t),i=e.namespace;return"firebase.com"===e.domain&&vs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&vs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ou(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,n,"",i!==e.subdomain),path:new vn(e.pathString)}},JE=function(t){let n="",e="",i="",o="",u="",h=!0,_="https",b=443;if("string"==typeof t){let T=t.indexOf("//");T>=0&&(_=t.substring(0,T-1),t=t.substring(T+2));let N=t.indexOf("/");-1===N&&(N=t.length);let L=t.indexOf("?");-1===L&&(L=t.length),n=t.substring(0,Math.min(N,L)),N<L&&(o=function uy(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}(t.substring(N,L)));const U=function Go(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):xi(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,L)));T=n.indexOf(":"),T>=0?(h="https"===_||"wss"===_,b=parseInt(n.substring(T+1),10)):T=n.length;const te=n.slice(0,T);if("localhost"===te.toLowerCase())e="localhost";else if(te.split(".").length<=2)e=te;else{const Ae=n.indexOf(".");i=n.substring(0,Ae).toLowerCase(),e=n.substring(Ae+1),u=i}"ns"in U&&(u=U.ns)}return{host:n,port:b,domain:e,subdomain:i,secure:h,scheme:_,pathString:o,namespace:u}},co="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",uo=function(){let t=0;const n=[];return function(e){const i=e===t;let o;t=e;const u=new Array(8);for(o=7;o>=0;o--)u[o]=co.charAt(e%64),e=Math.floor(e/64);(0,B.hu)(0===e,"Cannot push at time == 0");let h=u.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=co.charAt(n[o]);return(0,B.hu)(20===h.length,"nextPushId: Length should be 20."),h}}();class Is{constructor(n,e,i,o){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,B.Wl)(this.snapshot.exportVal())}}class hy{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class sm{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,B.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class QE{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new B.BH;return xA(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Xr("OnDisconnect.remove",this._path);const n=new B.BH;return II(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Xr("OnDisconnect.set",this._path),Ts("OnDisconnect.set",n,this._path,!1);const e=new B.BH;return II(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){Xr("OnDisconnect.setWithPriority",this._path),Ts("OnDisconnect.setWithPriority",n,this._path,!1),ty("OnDisconnect.setWithPriority",e,!1);const i=new B.BH;return function SI(t,n,e,i,o){const u=jn(e,i);t.server_.onDisconnectPut(n.toString(),u.val(!0),(h,_)=>{"ok"===h&&Ud(t.onDisconnect_,n,u),Jl(0,o,h,_)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){Xr("OnDisconnect.update",this._path),ey("OnDisconnect.update",n,this._path,!1);const e=new B.BH;return function AI(t,n,e,i){if((0,B.xb)(e))return Si("onDisconnect().update() called with empty data.  Don't do anything."),void Jl(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(o,u)=>{"ok"===o&&Ai(e,(h,_)=>{const b=jn(_);Ud(t.onDisconnect_,Zt(n,h),b)}),Jl(0,i,o,u)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Br{constructor(n,e,i,o){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return tn(this._path)?null:Es(this._path)}get ref(){return new hr(this._repo,this._path)}get _queryIdentifier(){const n=lE(this._queryParams),e=Y_(n);return"{}"===e?"default":e}get _queryObject(){return lE(this._queryParams)}isEqual(n){if(!((n=(0,B.m9)(n))instanceof Br))return!1;const e=this._repo===n._repo,i=dv(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Jb(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function om(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function Ql(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===Qr){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ul)throw new Error(i);if("string"!=typeof n)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==Da)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(t.getIndex()===xn){if(null!=n&&!nh(n)||null!=e&&!nh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,B.hu)(t.getIndex()instanceof uu||t.getIndex()===vf,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ch(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class hr extends Br{constructor(n,e){super(n,e,new Ug,!1)}get parent(){const n=LT(this._path);return null===n?null:new hr(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Du{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new vn(n),i=Cu(this.ref,n);return new Du(this._node.getChild(e),i,xn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>n(new Du(o,Cu(this.ref,i),xn)))}hasChild(n){const e=new vn(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fy(t,n){return(t=(0,B.m9)(t))._checkNotDeleted("ref"),void 0!==n?Cu(t._root,n):t._root}function XE(t,n){(t=(0,B.m9)(t))._checkNotDeleted("refFromURL");const e=dy(n,t._repo.repoInfo_.nodeAdmin);BE("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&vs("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),fy(t,e.path.toString())}function Cu(t,n){return null===on((t=(0,B.m9)(t))._path)?LE("child","path",n,!1):sh("child","path",n,!1),new hr(t._repo,Zt(t._path,n))}function py(t,n){t=(0,B.m9)(t),Xr("set",t._path),Ts("set",n,t._path,!1);const e=new B.BH;return $f(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function iw(t,n){ey("update",n,t._path,!1);const e=new B.BH;return function TI(t,n,e,i){lh(t,"update",{path:n.toString(),value:e});let o=!0;const u=oh(t),h={};if(Ai(e,(_,b)=>{o=!1,h[_]=Yv(Zt(n,_),jn(b),t.serverSyncTree_,u)}),o)Si("update() called with empty data.  Don't do anything."),Jl(0,i,"ok",void 0);else{const _=ah(t),b=function PA(t,n,e,i){!function fE(t,n,e,i){(0,B.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=Av(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const o=Mn.fromObject(e);return bu(t,new Hd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,o))}(t.serverSyncTree_,n,h,_);jf(t.eventQueue_,b),t.server_.merge(n.toString(),e,(T,N)=>{const L="ok"===T;L||xi("update at "+n+" failed: "+T);const U=Kl(t.serverSyncTree_,_,!L),te=U.length>0?lo(t,n):n;dr(t.eventQueue_,te,U),Jl(0,i,T,N)}),Ai(e,T=>{const N=KE(t,Zt(n,T));lo(t,N)}),dr(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function RI(t){t=(0,B.m9)(t);const n=new sm(()=>{}),e=new zf(n);return function wu(t,n,e){const i=function xf(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(T,N)=>{const L=Qi(T,e);i=i||Na(N,L)});let o=t.syncPointTree_.get(e);o?i=i||Na(o,yn()):(o=new yu,t.syncPointTree_=t.syncPointTree_.set(e,o));const u=null!=i,h=u?new Sa(i,!0,!1):null;return function ur(t){return Gd(t.viewCache_)}(Vv(o,n,$g(t.pendingWriteTree_,n._path),u?h.getNode():Ut.EMPTY_NODE,u))}(t.serverSyncTree_,n);return null!=i?Promise.resolve(i):t.server_.get(n).then(o=>{const u=jn(o).withIndex(n._queryParams.getIndex());let h;if(Xd(t.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())h=Zg(t.serverSyncTree_,n._path,u);else{const _=kf(t.serverSyncTree_,n);h=Qd(t.serverSyncTree_,n._path,u,_)}return dr(t.eventQueue_,n._path,h),Jd(t.serverSyncTree_,n,e,null,!0),u},o=>(lh(t,"get for query "+(0,B.Wl)(n)+" failed: "+o),Promise.reject(new Error(o))))}(t._repo,t,e).then(i=>new Du(i,new hr(t._repo,t._path),t._queryParams.getIndex()))}class zf{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new Is("value",this,new Du(n.snapshotNode,new hr(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new hy(this,n,e):null}matches(n){return n instanceof zf&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class uh{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new hy(this,n,e):null}createEvent(n,e){(0,B.hu)(null!=n.childName,"Child events should have a childName.");const i=Cu(new hr(e._repo,e._path),n.childName),o=e._queryParams.getIndex();return new Is(n.type,this,new Du(n.snapshotNode,i,o),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof uh&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Xl(t,n,e,i,o){let u;if("object"==typeof i&&(u=void 0,o=i),"function"==typeof i&&(u=i),o&&o.onlyOnce){const b=e,T=(N,L)=>{ay(t._repo,t,_),b(N,L)};T.userCallback=e.userCallback,T.context=e.context,e=T}const h=new sm(e,u||void 0),_="value"===n?new zf(h):new uh(n,h);return function GE(t,n,e){let i;i=".info"===on(n._path)?Xd(t.infoSyncTree_,n,e):Xd(t.serverSyncTree_,n,e),im(t.eventQueue_,n._path,i)}(t._repo,t,_),()=>ay(t._repo,t,_)}function lm(t,n,e,i){return Xl(t,"value",n,e,i)}function gy(t,n,e,i){return Xl(t,"child_added",n,e,i)}function my(t,n,e,i){return Xl(t,"child_changed",n,e,i)}function _y(t,n,e,i){return Xl(t,"child_moved",n,e,i)}function vy(t,n,e,i){return Xl(t,"child_removed",n,e,i)}function yy(t,n,e){let i=null;const o=e?new sm(e):null;"value"===n?i=new zf(o):n&&(i=new uh(n,o)),ay(t._repo,t,i)}class Ss{}class by extends Ss{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Ts("endAt",this._value,n._path,!0);const e=vv(n._queryParams,this._value,this._key);if(ch(e),Ql(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Br(n._repo,n._path,e,n._orderByCalled)}}class PI extends Ss{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Ts("endBefore",this._value,n._path,!1);const e=function QT(t,n,e){let i;return i=vv(t,n,t.index_===Qr||e?e:Ul),i.endBeforeSet_=!0,i}(n._queryParams,this._value,this._key);if(ch(e),Ql(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Br(n._repo,n._path,e,n._orderByCalled)}}class rw extends Ss{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Ts("startAt",this._value,n._path,!0);const e=jg(n._queryParams,this._value,this._key);if(ch(e),Ql(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Br(n._repo,n._path,e,n._orderByCalled)}}class FI extends Ss{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){Ts("startAfter",this._value,n._path,!1);const e=function oE(t,n,e){let i;return i=jg(t,n,t.index_===Qr||e?e:Da),i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(ch(e),Ql(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Br(n._repo,n._path,e,n._orderByCalled)}}class BI extends Ss{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Br(n._repo,n._path,function KT(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class UI extends Ss{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Br(n._repo,n._path,function JT(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class HI extends Ss{constructor(n){super(),this._path=n}_apply(n){om(n,"orderByChild");const e=new vn(this._path);if(tn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new uu(e),o=cr(n._queryParams,i);return Ql(o),new Br(n._repo,n._path,o,!0)}}class GI extends Ss{_apply(n){om(n,"orderByKey");const e=cr(n._queryParams,Qr);return Ql(e),new Br(n._repo,n._path,e,!0)}}class zI extends Ss{_apply(n){om(n,"orderByPriority");const e=cr(n._queryParams,xn);return Ql(e),new Br(n._repo,n._path,e,!0)}}class YI extends Ss{_apply(n){om(n,"orderByValue");const e=cr(n._queryParams,vf);return Ql(e),new Br(n._repo,n._path,e,!0)}}class ow extends Ss{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(Ts("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new by(this._value,this._key)._apply(new rw(this._value,this._key)._apply(n))}}function As(t,...n){let e=(0,B.m9)(t);for(const i of n)e=i._apply(e);return e}(function Zd(t){(0,B.hu)(!Aa,"__referenceConstructor has already been defined"),Aa=t})(hr),function gI(t){(0,B.hu)(!Kd,"__referenceConstructor has already been defined"),Kd=t}(hr);const cm={};function wy(t,n,e,i,o){let u=i||t.options.databaseURL;void 0===u&&(t.options.projectId||vs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Si("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let b,T,h=dy(u,o),_=h.repoInfo;typeof process<"u"&&process.env&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(b=!0,u=`http://${T}?ns=${_.namespace}`,h=dy(u,o),_=h.repoInfo):b=!h.repoInfo.secure;const N=o&&b?new ru(ru.OWNER):new J_(t.name,t.options,n);BE("Invalid Firebase Database URL",h),tn(h.path)||vs("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function uw(t,n,e,i){let o=cm[n.name];o||(o={},cm[n.name]=o);let u=o[t.toURLString()];return u&&vs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new HE(t,false,e,i),o[t.toURLString()]=u,u}(_,t,N,new ET(t.name,e));return new qI(L,t)}class qI{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function $E(t,n,e){if(t.stats_=Ng(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new yv(t.repoInfo_,(i,o,u,h)=>{Hf(t,i,o,u,h)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Oa(t,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,B.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new au(t.repoInfo_,n,(i,o,u,h)=>{Hf(t,i,o,u,h)},i=>{Oa(t,i)},i=>{!function CI(t,n){Ai(n,(e,i)=>{sy(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function TT(t,n){const e=t.toString();return hf[e]||(hf[e]=n()),hf[e]}(t.repoInfo_,()=>new tI(t.stats_,t.server_)),t.infoData_=new bv,t.infoSyncTree_=new AE({startListening:(i,o,u,h)=>{let _=[];const b=t.infoData_.getNode(i._path);return b.isEmpty()||(_=Zg(t.infoSyncTree_,i._path,b),setTimeout(()=>{h("ok")},0)),_},stopListening:()=>{}}),sy(t,"connected",!1),t.serverSyncTree_=new AE({startListening:(i,o,u,h)=>(t.server_.listen(i,u,o,(_,b)=>{const T=h(_,b);dr(t.eventQueue_,i._path,T)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hr(this._repo,yn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Dy(t,n){const e=cm[n];(!e||e[t.key]!==t)&&vs(`Database ${n}(${t.repoInfo_}) has already been deleted.`),Ni(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&vs("Cannot call "+n+" on a deleted database.")}}function dw(){iv.IS_TRANSPORT_INITIALIZED&&xi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function dh(){dw(),ys.forceDisallow()}function kA(){dw(),Pd.forceDisallow(),ys.forceAllow()}function FA(t,n){Lb(t,n)}const JI={".sv":"timestamp"};class fh{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}au.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},au.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},function hh(t){wg(xl.SDK_VERSION),(0,xl._registerComponent)(new Sd.wA("database",(n,{instanceIdentifier:e})=>wy(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,xl.registerVersion)($_,"0.14.4",t),(0,xl.registerVersion)($_,"0.14.4","esm2017")}();const gw=new kl.Yd("@firebase/database-compat"),Iy=function(t){gw.warn("FIREBASE WARNING: "+t)};class _w{constructor(n){this._delegate=n}cancel(n){(0,B.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,B.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,B.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,B.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,B.Dv)("OnDisconnect.set",1,2,arguments.length),(0,B.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(n,e,i){(0,B.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,B.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(n,e);return i&&o.then(()=>i(null),u=>i(u)),o}update(n,e){if((0,B.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let u=0;u<n.length;++u)o[""+u]=n[u];n=o,Iy("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,B.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),o=>e(o)),i}}class vw{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,B.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Pa{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,B.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,B.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,B.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,B.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,B.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),sh("DataSnapshot.child","path",n,!1),new Pa(this._database,this._delegate.child(n))}hasChild(n){return(0,B.Dv)("DataSnapshot.hasChild",1,1,arguments.length),sh("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,B.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,B.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,B.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new Pa(this._database,e)))}hasChildren(){return(0,B.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,B.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,B.Dv)("DataSnapshot.ref",0,0,arguments.length),new es(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Xi{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,o){var u;(0,B.Dv)("Query.on",2,4,arguments.length),(0,B.Wj)("Query.on","callback",e,!1);const h=Xi.getCancelAndContextArgs_("Query.on",i,o),_=(T,N)=>{e.call(h.context,new Pa(this.database,T),N)};_.userCallback=e,_.context=h.context;const b=null===(u=h.cancel)||void 0===u?void 0:u.bind(h.context);switch(n){case"value":return lm(this._delegate,_,b),e;case"child_added":return gy(this._delegate,_,b),e;case"child_removed":return vy(this._delegate,_,b),e;case"child_changed":return my(this._delegate,_,b),e;case"child_moved":return _y(this._delegate,_,b),e;default:throw new Error((0,B.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,B.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,B.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,B.Wj)("Query.off","callback",e,!0),(0,B.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,yy(this._delegate,n,o)}else yy(this._delegate,n)}get(){return RI(this._delegate).then(n=>new Pa(this.database,n))}once(n,e,i,o){(0,B.Dv)("Query.once",1,4,arguments.length),(0,B.Wj)("Query.once","callback",e,!0);const u=Xi.getCancelAndContextArgs_("Query.once",i,o),h=new B.BH,_=(T,N)=>{const L=new Pa(this.database,T);e&&e.call(u.context,L,N),h.resolve(L)};_.userCallback=e,_.context=u.context;const b=T=>{u.cancel&&u.cancel.call(u.context,T),h.reject(T)};switch(n){case"value":lm(this._delegate,_,b,{onlyOnce:!0});break;case"child_added":gy(this._delegate,_,b,{onlyOnce:!0});break;case"child_removed":vy(this._delegate,_,b,{onlyOnce:!0});break;case"child_changed":my(this._delegate,_,b,{onlyOnce:!0});break;case"child_moved":_y(this._delegate,_,b,{onlyOnce:!0});break;default:throw new Error((0,B.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(n){return(0,B.Dv)("Query.limitToFirst",1,1,arguments.length),new Xi(this.database,As(this._delegate,function VI(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new BI(t)}(n)))}limitToLast(n){return(0,B.Dv)("Query.limitToLast",1,1,arguments.length),new Xi(this.database,As(this._delegate,function jI(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new UI(t)}(n)))}orderByChild(n){return(0,B.Dv)("Query.orderByChild",1,1,arguments.length),new Xi(this.database,As(this._delegate,function $I(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return sh("orderByChild","path",t,!1),new HI(t)}(n)))}orderByKey(){return(0,B.Dv)("Query.orderByKey",0,0,arguments.length),new Xi(this.database,As(this._delegate,function WI(){return new GI}()))}orderByPriority(){return(0,B.Dv)("Query.orderByPriority",0,0,arguments.length),new Xi(this.database,As(this._delegate,function ZI(){return new zI}()))}orderByValue(){return(0,B.Dv)("Query.orderByValue",0,0,arguments.length),new Xi(this.database,As(this._delegate,function sw(){return new YI}()))}startAt(n=null,e){return(0,B.Dv)("Query.startAt",0,2,arguments.length),new Xi(this.database,As(this._delegate,function kI(t=null,n){return rh("startAt","key",n,!0),new rw(t,n)}(n,e)))}startAfter(n=null,e){return(0,B.Dv)("Query.startAfter",0,2,arguments.length),new Xi(this.database,As(this._delegate,function LI(t,n){return rh("startAfter","key",n,!0),new FI(t,n)}(n,e)))}endAt(n=null,e){return(0,B.Dv)("Query.endAt",0,2,arguments.length),new Xi(this.database,As(this._delegate,function OI(t,n){return rh("endAt","key",n,!0),new by(t,n)}(n,e)))}endBefore(n=null,e){return(0,B.Dv)("Query.endBefore",0,2,arguments.length),new Xi(this.database,As(this._delegate,function xI(t,n){return rh("endBefore","key",n,!0),new PI(t,n)}(n,e)))}equalTo(n,e){return(0,B.Dv)("Query.equalTo",1,2,arguments.length),new Xi(this.database,As(this._delegate,function aw(t,n){return rh("equalTo","key",n,!0),new ow(t,n)}(n,e)))}toString(){return(0,B.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,B.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,B.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof Xi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,B.Wj)(n,"cancel",o.cancel,!0),o.context=i,(0,B.lb)(n,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,B.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new es(this.database,new hr(this._delegate._repo,this._delegate._path))}}class es extends Xi{constructor(n,e){super(n,new Br(e._repo,e._path,new Ug,!1)),this.database=n,this._delegate=e}getKey(){return(0,B.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,B.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new es(this.database,Cu(this._delegate,n))}getParent(){(0,B.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new es(this.database,n):null}getRoot(){return(0,B.Dv)("Reference.root",0,0,arguments.length),new es(this.database,this._delegate.root)}set(n,e){(0,B.Dv)("Reference.set",1,2,arguments.length),(0,B.Wj)("Reference.set","onComplete",e,!0);const i=py(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}update(n,e){if((0,B.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let u=0;u<n.length;++u)o[""+u]=n[u];n=o,Iy("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xr("Reference.update",this._delegate._path),(0,B.Wj)("Reference.update","onComplete",e,!0);const i=iw(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(n,e,i){(0,B.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,B.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function nw(t,n,e){if(Xr("setWithPriority",t._path),Ts("setWithPriority",n,t._path,!1),ty("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new B.BH;return $f(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&o.then(()=>i(null),u=>i(u)),o}remove(n){(0,B.Dv)("Reference.remove",0,1,arguments.length),(0,B.Wj)("Reference.remove","onComplete",n,!0);const e=function am(t){return Xr("remove",t._path),py(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,B.Dv)("Reference.transaction",1,3,arguments.length),(0,B.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,B.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,B.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function e1(t,n,e){var i;if(t=(0,B.m9)(t),Xr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const o=null===(i=e?.applyLocally)||void 0===i||i,u=new B.BH,_=lm(t,()=>{});return function zE(t,n,e,i,o,u){lh(t,"transaction on "+n);const h={path:n,update:e,onComplete:i,status:null,order:Fb(),applyLocally:u,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=ly(t,n,void 0);h.currentInputSnapshot=_;const b=h.update(_.val());if(void 0===b)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{ih("transaction failed: Data returned ",b,h.path),h.status=0;const T=Lf(t.transactionQueueTree_,n),N=Ra(T)||[];let L;N.push(h),Bf(T,N),"object"==typeof b&&null!==b&&(0,B.r3)(b,".priority")?(L=(0,B.DV)(b,".priority"),(0,B.hu)(nh(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(Pf(t.serverSyncTree_,n)||Ut.EMPTY_NODE).getPriority().val();const U=oh(t),te=jn(b,L),Ae=qv(te,_,U);h.currentOutputSnapshotRaw=te,h.currentOutputSnapshotResolved=Ae,h.currentWriteId=ah(t);const Fe=$v(t.serverSyncTree_,n,Ae,h.currentWriteId,h.applyLocally);dr(t.eventQueue_,n,Fe),Gf(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(b,T,N)=>{let L=null;b?u.reject(b):(L=new Du(N,new hr(t._repo,t._path),xn),u.resolve(new fh(T,L)))},_,o),u.promise}(this._delegate,n,{applyLocally:i}).then(u=>new vw(u.committed,new Pa(this.database,u.snapshot)));return e&&o.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),o}setPriority(n,e){(0,B.Dv)("Reference.setPriority",1,2,arguments.length),(0,B.Wj)("Reference.setPriority","onComplete",e,!0);const i=function tw(t,n){t=(0,B.m9)(t),Xr("setPriority",t._path),ty("setPriority",n,!1);const e=new B.BH;return $f(t._repo,Zt(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}push(n,e){(0,B.Dv)("Reference.push",0,2,arguments.length),(0,B.Wj)("Reference.push","onComplete",e,!0);const i=function ew(t,n){t=(0,B.m9)(t),Xr("push",t._path),Ts("push",n,t._path,!0);const e=ry(t._repo),i=uo(e),o=Cu(t,i),u=Cu(t,i);let h;return h=null!=n?py(u,n).then(()=>u):Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,n),o=i.then(h=>new es(this.database,h));e&&o.then(()=>e(null),h=>e(h));const u=new es(this.database,i);return u.then=o.then.bind(o),u.catch=o.catch.bind(o,void 0),u}onDisconnect(){return Xr("Reference.onDisconnect",this._delegate._path),new _w(new QE(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Zf{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:dh,forceLongPolling:kA}}useEmulator(n,e,i={}){!function KI(t,n,e,i={}){(t=(0,B.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&vs("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let u;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&vs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new ru(ru.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,B.Sg)(i.mockUserToken,t.app.options.projectId);u=new ru(h)}!function cw(t,n,e,i){t.repoInfo_=new ou(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(o,n,e,u)}(this._delegate,n,e,i)}ref(n){if((0,B.Dv)("database.ref",0,1,arguments.length),n instanceof es){const e=XE(this._delegate,n.toString());return new es(this,e)}{const e=fy(this._delegate,n);return new es(this,e)}}refFromURL(n){(0,B.Dv)("database.refFromURL",1,1,arguments.length);const i=XE(this._delegate,n);return new es(this,i)}goOffline(){return(0,B.Dv)("database.goOffline",0,0,arguments.length),function fw(t){(t=(0,B.m9)(t))._checkNotDeleted("goOffline"),Ni(t._repo)}(this._delegate)}goOnline(){return(0,B.Dv)("database.goOnline",0,0,arguments.length),function pw(t){(t=(0,B.m9)(t))._checkNotDeleted("goOnline"),function WE(t){t.persistentConnection_&&t.persistentConnection_.resume(iy)}(t._repo)}(this._delegate)}}Zf.ServerValue={TIMESTAMP:function QI(){return JI}(),increment:t=>function XI(t){return{".sv":{increment:t}}}(t)};var n1=Object.freeze({__proto__:null,initStandalone:function Yf({app:t,url:n,version:e,customAuthImpl:i,namespace:o,nodeAdmin:u=!1}){wg(e);const h=new Sd.zt("auth-internal",new Sd.H0("database-standalone"));return h.setComponent(new Sd.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Zf(wy(t,h,void 0,n,u),t),namespace:o}}});const i1=Zf.ServerValue;!function r1(t){t.INTERNAL.registerComponent(new Sd.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),o=n.getProvider("database").getImmediate({identifier:e});return new Zf(o,i)},"PUBLIC").setServiceProps({Reference:es,Query:Xi,Database:Zf,DataSnapshot:Pa,enableLogging:FA,INTERNAL:n1,ServerValue:i1}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.3.4")}(Pb.Z);var Rn=x(8645),qf=x(3093),yw=x(4552);class bw extends Rn.x{constructor(n=1/0,e=1/0,i=yw.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;e||(i.push(n),!o&&i.push(u.now()+h)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!n.closed;h+=i?1:2)n.next(u[h]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,u=(o?1:2)*n;if(n<1/0&&u<i.length&&i.splice(0,i.length-u),!o){const h=e.now();let _=0;for(let b=1;b<i.length&&i[b]<=h;b+=2)_=b;_&&i.splice(0,_+1)}}}function Ew(t,n,e){let i,o=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):i=t??1/0,(0,Rb.B)({connector:()=>new bw(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const ec=(0,x(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var Wo=x(6232);function er(t){return t<=0?()=>Wo.E:(0,br.e)((n,e)=>{let i=0;n.subscribe((0,Vt.x)(e,o=>{++i<=t&&(e.next(o),t<=i&&e.complete())}))})}function um(t){return(0,br.e)((n,e)=>{let i=!1;n.subscribe((0,Vt.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(t),e.complete()}))})}function Sy(t=ww){return(0,br.e)((n,e)=>{let i=!1;n.subscribe((0,Vt.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(t())))})}function ww(){return new ec}function xa(t,n){const e=arguments.length>=2;return i=>i.pipe(t?_i((o,u)=>t(o,u,i)):Id.y,er(1),e?um(n):Sy(()=>new ec))}function Dw(t,n){return(0,ms.m)(n)?(0,si.w)(()=>t,n):(0,si.w)(()=>t)}var dm=x(5137);x(4097);var pm=x(4303);const Ny=new Map,Iw={activated:!1,tokenObservers:[]},Jf={initialized:!1,enabled:!1};function oi(t){return Ny.get(t)||Object.assign({},Iw)}function gm(){return Jf}const mm="https://content-firebaseappcheck.googleapis.com/v1",u1="exchangeDebugToken",_m={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Nw{constructor(n,e,i,o,u){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,nu.Z)(function*(){e.stop();try{e.pending=new B.BH,yield function Mw(t){return new Promise(n=>{setTimeout(n,t)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new B.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const tr=new B.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Qf(t){if(!oi(t).activated)throw tr.create("use-before-activation",{appName:t.name})}function ym(t,n){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,nu.Z)(function*({url:t,body:n},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const L=yield o.getHeartbeatsHeader();L&&(i["X-Firebase-Client"]=L)}const u={method:"POST",body:JSON.stringify(n),headers:i};let h,_;try{h=yield fetch(t,u)}catch(L){throw tr.create("fetch-network-error",{originalErrorMessage:L?.message})}if(200!==h.status)throw tr.create("fetch-status-error",{httpStatus:h.status});try{_=yield h.json()}catch(L){throw tr.create("fetch-parse-error",{originalErrorMessage:L?.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw tr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const T=1e3*Number(b[1]),N=Date.now();return{token:_.token,expireTimeMillis:N+T,issuedAtTimeMillis:N}})).apply(this,arguments)}function Rw(t,n){const{projectId:e,appId:i,apiKey:o}=t.options;return{url:`${mm}/projects/${e}/apps/${i}:${u1}?key=${o}`,body:{debug_token:n}}}const g1="firebase-app-check-database",m1=1,ep="firebase-app-check-store";let tp=null;function xy(){return(xy=(0,nu.Z)(function*(t,n){const i=(yield function Py(){return tp||(tp=new Promise((t,n)=>{try{const e=indexedDB.open(g1,m1);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var o;n(tr.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ep,{keyPath:"compositeKey"})}}catch(e){n(tr.create("storage-open",{originalErrorMessage:e?.message}))}}),tp)}()).transaction(ep,"readwrite"),u=i.objectStore(ep).put({compositeKey:t,value:n});return new Promise((h,_)=>{u.onsuccess=b=>{h()},i.onerror=b=>{var T;_(tr.create("storage-set",{originalErrorMessage:null===(T=b.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Iu=new kl.Yd("@firebase/app-check");function ip(t,n){return(0,B.hl)()?function Ow(t,n){return function Pw(t,n){return xy.apply(this,arguments)}(function ky(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{Iu.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function ka(){return gm().enabled}function wm(){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,nu.Z)(function*(){const t=gm();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const By={error:"UNKNOWN_ERROR"};function Vy(t){return B.US.encodeString(JSON.stringify(t),!1)}function Dm(t){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,nu.Z)(function*(t,n=!1){const e=t.app;Qf(e);const i=oi(e);let u,o=i.token;if(o&&!Su(o)&&(i.token=void 0,o=void 0),!o){const b=yield i.cachedTokenPromise;b&&(Su(b)?o=b:yield ip(e,void 0))}if(!n&&o&&Su(o))return{token:o.token};let _,h=!1;if(ka()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ym(Rw(e,yield wm()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const b=yield i.exchangeTokenPromise;return yield ip(e,b),i.token=b,{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),o=yield oi(e).exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Iu.warn(b.message):Iu.error(b),u=b}return o?u?_=Su(o)?{token:o.token,internalError:u}:kw(u):(_={token:o.token},i.token=o,yield ip(e,o)):_=kw(u),h&&function $y(t,n){const e=oi(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(e,_),_})).apply(this,arguments)}function Uy(t){return jy.apply(this,arguments)}function jy(){return(jy=(0,nu.Z)(function*(t){const n=t.app;Qf(n);const{provider:e}=oi(n);if(ka()){const i=yield wm(),{token:o}=yield ym(Rw(n,i),t.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function rp(t,n){const e=oi(t),i=e.tokenObservers.filter(o=>o.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Hy(t){const{app:n}=t,e=oi(n);let i=e.tokenRefresher;i||(i=function xw(t){const{app:n}=t;return new Nw((0,nu.Z)(function*(){let i;if(i=oi(n).token?yield Dm(t,!0):yield Dm(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=oi(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},_m.RETRIAL_MIN_WAIT,_m.RETRIAL_MAX_WAIT)}(t),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Su(t){return t.expireTimeMillis-Date.now()>0}function kw(t){return{token:Vy(By),error:t}}class w1{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=oi(this.app);for(const e of n)rp(this.app,e.next);return Promise.resolve()}}const O1="app-check-internal";!function qA(){(0,pm.Xd)(new Sd.wA("app-check",t=>function D1(t,n){return new w1(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(O1).initialize()})),(0,pm.Xd)(new Sd.wA(O1,t=>function C1(t){return{getToken:n=>Dm(t,n),getLimitedUseToken:()=>Uy(t),addTokenListener:n=>function Tm(t,n,e,i){const{app:o}=t,u=oi(o);if(u.tokenObservers=[...u.tokenObservers,{next:e,error:i,type:n}],u.token&&Su(u.token)){const _=u.token;Promise.resolve().then(()=>{e({token:_.token}),Hy(t)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Hy(t))}(t,"INTERNAL",n),removeTokenListener:n=>rp(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pm.KN)("@firebase/app-check","0.8.0")}();class Wy{constructor(){return(0,_s.vb)("app-check")}}typeof window<"u"&&window;var F1=x(120);const op=new l.OlP("angularfire2.auth.use-emulator"),Jw=new l.OlP("angularfire2.auth.settings"),Qw=new l.OlP("angularfire2.auth.tenant-id"),Yy=new l.OlP("angularfire2.auth.langugage-code"),Xw=new l.OlP("angularfire2.auth.use-device-language"),eD=new l.OlP("angularfire.auth.persistence"),qy=(t,n,e,i,o,u,h,_)=>(0,kr.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const b=n.runOutsideAngular(()=>t.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=o,u&&b.useDeviceLanguage(),h)for(const[T,N]of Object.entries(h))b.settings[T]=N;return _&&b.setPersistence(_),b},[e,i,o,u,h,_]);let ph=(()=>{class t{constructor(e,i,o,u,h,_,b,T,N,L,U,te){const Ae=new Rn.x,Fe=(0,Tt.of)(void 0).pipe((0,qf.Q)(h.outsideAngular),(0,si.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,8661)))),(0,Dt.U)(()=>(0,kr.on)(e,u,i)),(0,Dt.U)(Le=>qy(Le,u,_,T,N,L,b,U)),Ew({bufferSize:1,refCount:!1}));if(or(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Tt.of)(null);else{Fe.pipe(xa()).subscribe();const ct=Fe.pipe((0,si.w)(ut=>ut.getRedirectResult().then(Nt=>Nt,()=>null)),_s.iC,Ew({bufferSize:1,refCount:!1})),gt=Fe.pipe((0,si.w)(ut=>new ri.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>ut.onAuthStateChanged(Yt=>Nt.next(Yt),Yt=>Nt.error(Yt),()=>Nt.complete()))})))),Et=Fe.pipe((0,si.w)(ut=>new ri.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>ut.onIdTokenChanged(Yt=>Nt.next(Yt),Yt=>Nt.error(Yt),()=>Nt.complete()))}))));this.authState=ct.pipe(Dw(gt),(0,dm.R)(h.outsideAngular),(0,qf.Q)(h.insideAngular)),this.user=ct.pipe(Dw(Et),(0,dm.R)(h.outsideAngular),(0,qf.Q)(h.insideAngular)),this.idToken=this.user.pipe((0,si.w)(ut=>ut?(0,Pn.D)(ut.getIdToken()):(0,Tt.of)(null))),this.idTokenResult=this.user.pipe((0,si.w)(ut=>ut?(0,Pn.D)(ut.getIdTokenResult()):(0,Tt.of)(null))),this.credential=(0,Cd.T)(ct,Ae,this.authState.pipe(_i(ut=>!ut))).pipe((0,Dt.U)(ut=>ut?.user?ut:null),(0,dm.R)(h.outsideAngular),(0,qf.Q)(h.insideAngular))}return(0,kr.pX)(this,Fe,u,{spy:{apply:(Le,ct,gt)=>{(Le.startsWith("signIn")||Le.startsWith("createUser"))&&gt.then(Et=>Ae.next(Et))}}})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(kr.Dh),l.LFG(kr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_s.HU),l.LFG(op,8),l.LFG(Jw,8),l.LFG(Qw,8),l.LFG(Yy,8),l.LFG(Xw,8),l.LFG(eD,8),l.LFG(Wy,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function Ky(t){return null==t}function Rm(t){return"function"==typeof t.set}function Jy(t,n){return Rm(n)?n:t.ref(n)}function nD(t,n){if(function L1(t){return"string"==typeof t}(t))return n.stringCase();if(Rm(t))return n.firebaseCase();if(function tD(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function gh(t,n,e="on",i=j_.z){return new ri.y(o=>{let u=null;return u=t[e](n,(h,_)=>{i.schedule(()=>{o.next({snapshot:h,prevKey:_})}),"once"===e&&i.schedule(()=>o.complete())},h=>{i.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=u&&t.off(n,u)}}:{unsubscribe(){}}}).pipe((0,Dt.U)(o=>{const{snapshot:u,prevKey:h}=o;let _=null;return u.exists()&&(_=u.key),{type:n,payload:u,prevKey:h,key:_}}),(0,Rb.B)())}function rD(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function Qy(t,n){const{payload:e,prevKey:i,key:o}=n,u=rD(t,o),h=function B1(t,n){if(Ky(n))return 0;{const e=rD(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let _=null;n.payload.forEach(b=>{const T={payload:b,type:"value",prevKey:_,key:b.key};return _=b.key,t=[...t,T],!1})}return t;case"child_added":if(u>-1){const _=t[u-1];(_&&_.key||null)!==i&&(t=t.filter(b=>b.payload.key!==e.key)).splice(h,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(h,0,n)}return t;case"child_removed":return t.filter(_=>_.payload.key!==e.key);case"child_changed":return t.map(_=>_.payload.key===o?n:_);case"child_moved":if(u>-1){const _=t.splice(u,1)[0];return(t=t.slice()).splice(h,0,_),t}return t;default:return t}}function Om(t){return(Ky(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Xy(t,n,e){return function iD(t,n,e){return gh(t,"value","once",e).pipe((0,si.w)(i=>{const o=[(0,Tt.of)(i)];return n.forEach(u=>o.push(gh(t,u,"on",e))),(0,Cd.T)(...o).pipe(H_(Qy,[]))}),(0,Ob.x)())}(t,n=Om(n),e)}function Pm(t,n,e){const i=(n=Om(n)).map(o=>gh(t,o,"on",e));return(0,Cd.T)(...i)}function sD(t,n){return function(i,o){return nD(i,{stringCase:()=>t.child(i)[n](o),firebaseCase:()=>i[n](o),snapshotCase:()=>i.ref[n](o)})}}function j1(t){return function(e){return e?nD(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function xm(t,n){return function(){return gh(t,"value","on",n)}}const lD=new l.OlP("angularfire2.realtimeDatabaseURL"),cD=new l.OlP("angularfire2.database.use-emulator");let t0=(()=>{class t{constructor(e,i,o,u,h,_,b,T,N,L,U,te,Ae,Fe,Le){this.schedulers=_;const ct=b,gt=(0,kr.on)(e,h,i);T&&qy(gt,h,N,U,te,Ae,L,Fe),this.database=(0,kr.cc)(`${gt.name}.database.${o}`,"AngularFireDatabase",gt.name,()=>{const Et=h.runOutsideAngular(()=>gt.database(o||void 0));return ct&&Et.useEmulator(...ct),Et},[ct])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>Jy(this.database,e));let u=o;return i&&(u=i(o)),function oD(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:sD(i,"update"),set:sD(i,"set"),push:o=>i.push(o),remove:j1(i),snapshotChanges:o=>Xy(t,o,e).pipe(_s.iC),stateChanges:o=>Pm(t,o,e).pipe(_s.iC),auditTrail:o=>function e0(t,n,e){return function U1(t,n,e){return function V1(t,n){return gh(t,"value","on",n).pipe((0,Dt.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(Eg(n),(0,Dt.U)(([o,u])=>{const h=o.lastKeyToLoad,_=u.map(b=>b.key);return{actions:u,lastKeyToLoad:h,loadedKeys:_}}),function _T(t){return(0,br.e)((n,e)=>{let i=!1,o=0;n.subscribe((0,Vt.x)(e,u=>(i||(i=!t(u,o++)))&&e.next(u)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Dt.U)(o=>o.actions))}(t,Pm(t,n).pipe(H_((o,u)=>[...o,u],[])),e)}(t,o,e).pipe(_s.iC),valueChanges:(o,u)=>Xy(t,o,e).pipe((0,Dt.U)(_=>_.map(b=>u&&u.idField?Object.assign(Object.assign({},b.payload.val()),{[u.idField]:b.key}):b.payload.val())),_s.iC)}}(u,this)}object(e){return function aD(t,n){return{query:t,snapshotChanges:()=>xm(t,n.schedulers.outsideAngular)().pipe(_s.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>xm(t,n.schedulers.outsideAngular)().pipe(_s.iC,(0,Dt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Jy(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(kr.Dh),l.LFG(kr.xv,8),l.LFG(lD,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_s.HU),l.LFG(cD,8),l.LFG(ph,8),l.LFG(op,8),l.LFG(Jw,8),l.LFG(Qw,8),l.LFG(Yy,8),l.LFG(Xw,8),l.LFG(eD,8),l.LFG(Wy,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),H1=(()=>{class t{constructor(){F1.Z.registerVersion("angularfire",_s.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[t0]}),t})();var Ns=x(5619),$1=x(7103);function km(...t){const n=(0,pi.yG)(t),e=(0,pi.jO)(t),{args:i,keys:o}=Mo(t);if(0===i.length)return(0,Pn.D)([],n);const u=new ri.y(function dD(t,n,e=Id.y){return i=>{fr(n,()=>{const{length:o}=t,u=new Array(o);let h=o,_=o;for(let b=0;b<o;b++)fr(n,()=>{const T=(0,Pn.D)(t[b],n);let N=!1;T.subscribe((0,Vt.x)(i,L=>{u[b]=L,N||(N=!0,_--),_||i.next(e(u.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,n,o?h=>_l(o,h):Id.y));return e?u.pipe(ml(e)):u}function fr(t,n,e){t?(0,$1.f)(e,t,n):n()}var zo=x(7537);function ap(...t){return function G1(){return(0,zo.J)(1)}()((0,Pn.D)(t,(0,pi.yG)(t)))}function W1(t){return new ri.y(n=>{(0,Nn.Xf)(t()).subscribe(n)})}var iN=x(8407);function mh(t,n){const e=(0,ms.m)(t)?t:()=>t,i=o=>o.error(e());return new ri.y(n?o=>n.schedule(i,0,o):i)}var lp=x(7394);function hD(){return(0,br.e)((t,n)=>{let e=null;t._refCount++;const i=(0,Vt.x)(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,u=e;e=null,o&&(!u||o===u)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class z1 extends ri.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,br.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new lp.w0;const e=this.getSubject();n.add(this.source.subscribe((0,Vt.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=lp.w0.EMPTY)}return n}refCount(){return hD()(this)}}var ai=x(9397);function Au(t){return(0,br.e)((n,e)=>{let u,i=null,o=!1;i=n.subscribe((0,Vt.x)(e,void 0,void 0,h=>{u=(0,Nn.Xf)(t(h,Au(t)(n))),i?(i.unsubscribe(),i=null,u.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,u.subscribe(e))})}function cp(t){return t<=0?()=>Wo.E:(0,br.e)((n,e)=>{let i=[];n.subscribe((0,Vt.x)(e,o=>{i.push(o),t<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function vi(t){return(0,br.e)((n,e)=>{(0,Nn.Xf)(t).subscribe((0,Vt.x)(e,()=>e.complete(),bg.Z)),!e.closed&&n.subscribe(e)})}const Ht="primary",up=Symbol("RouteTitle");class r0{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Nu(t){return new r0(t)}function q1(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const o={};for(let u=0;u<i.length;u++){const h=i[u],_=t[u];if(h.startsWith(":"))o[h.substring(1)]=_;else if(h!==_.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function Ms(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let u=0;u<e.length;u++)if(o=e[u],!K1(t[o],n[o]))return!1;return!0}function K1(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((o,u)=>i[u]===o)}return t===n}function s0(t){return t.length>0?t[t.length-1]:null}function tc(t){return function uD(t){return!!t&&(t instanceof ri.y||(0,ms.m)(t.lift)&&(0,ms.m)(t.subscribe))}(t)?t:(0,l.QGY)(t)?(0,Pn.D)(Promise.resolve(t)):(0,Tt.of)(t)}const fD={exact:function Lm(t,n,e){if(!Ru(t.segments,n.segments)||!Bm(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!Lm(t.children[i],n.children[i],e))return!1;return!0},subset:mD},Mu={exact:function gD(t,n){return Ms(t,n)},subset:function rN(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>K1(t[e],n[e]))},ignored:()=>!0};function pD(t,n,e){return fD[e.paths](t.root,n.root,e.matrixParams)&&Mu[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function mD(t,n,e){return J1(t,n,n.segments,e)}function J1(t,n,e,i){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Ru(o,e)||n.hasChildren()||!Bm(o,e,i))}if(t.segments.length===e.length){if(!Ru(t.segments,e)||!Bm(t.segments,e,i))return!1;for(const o in n.children)if(!t.children[o]||!mD(t.children[o],n.children[o],i))return!1;return!0}{const o=e.slice(0,t.segments.length),u=e.slice(t.segments.length);return!!(Ru(t.segments,o)&&Bm(t.segments,o,i)&&t.children[Ht])&&J1(t.children[Ht],n,u,i)}}function Bm(t,n,e){return n.every((i,o)=>Mu[e](t[o].parameters,i.parameters))}class _h{constructor(n=new Sn([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nu(this.queryParams)),this._queryParamMap}toString(){return Q1.serialize(this)}}class Sn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dp(this)}}class vh{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Nu(this.parameters)),this._parameterMap}toString(){return X1(this)}}function Ru(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let yh=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return new o0},providedIn:"root"})}return t})();class o0{parse(n){const e=new DD(n);return new _h(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${hp(n.root,!0)}`,i=function sN(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(o=>`${fp(e)}=${fp(o)}`).join("&"):`${fp(e)}=${fp(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function yD(t){return encodeURI(t)}(n.fragment)}`:""}`}}const Q1=new o0;function dp(t){return t.segments.map(n=>X1(n)).join("/")}function hp(t,n){if(!t.hasChildren())return dp(t);if(n){const e=t.children[Ht]?hp(t.children[Ht],!1):"",i=[];return Object.entries(t.children).forEach(([o,u])=>{o!==Ht&&i.push(`${o}:${hp(u,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function vD(t,n){let e=[];return Object.entries(t.children).forEach(([i,o])=>{i===Ht&&(e=e.concat(n(o,i)))}),Object.entries(t.children).forEach(([i,o])=>{i!==Ht&&(e=e.concat(n(o,i)))}),e}(t,(i,o)=>o===Ht?[hp(t.children[Ht],!1)]:[`${o}:${hp(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ht]?`${dp(t)}/${e[0]}`:`${dp(t)}/(${e.join("//")})`}}function a0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fp(t){return a0(t).replace(/%3B/gi,";")}function Vm(t){return a0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Um(t){return decodeURIComponent(t)}function bD(t){return Um(t.replace(/\+/g,"%20"))}function X1(t){return`${Vm(t.path)}${function ED(t){return Object.keys(t).map(n=>`;${Vm(n)}=${Vm(t[n])}`).join("")}(t.parameters)}`}const oN=/^[^\/()?;#]+/;function wD(t){const n=t.match(oN);return n?n[0]:""}const aN=/^[^\/()?;=#]+/,cN=/^[^=?&#]+/,dN=/^[^&#]+/;class DD{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sn([],{}):new Sn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Ht]=new Sn(n,e)),i}parseSegment(){const n=wD(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(n),new vh(Um(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function lN(t){const n=t.match(aN);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=wD(this.remaining);o&&(i=o,this.capture(i))}n[Um(e)]=Um(i)}parseQueryParam(n){const e=function uN(t){const n=t.match(cN);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function hN(t){const n=t.match(dN);return n?n[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const o=bD(e),u=bD(i);if(n.hasOwnProperty(o)){let h=n[o];Array.isArray(h)||(h=[h],n[o]=h),h.push(u)}else n[o]=u}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=wD(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new l.vHH(4010,!1);let u;i.indexOf(":")>-1?(u=i.slice(0,i.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=Ht);const h=this.parseChildren();e[u]=1===Object.keys(h).length?h[Ht]:new Sn([],h),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new l.vHH(4011,!1)}}function jm(t){return t.segments.length>0?new Sn([],{[Ht]:t}):t}function l0(t){const n={};for(const i of Object.keys(t.children)){const u=l0(t.children[i]);if(i===Ht&&0===u.segments.length&&u.hasChildren())for(const[h,_]of Object.entries(u.children))n[h]=_;else(u.segments.length>0||u.hasChildren())&&(n[i]=u)}return function eS(t){if(1===t.numberOfChildren&&t.children[Ht]){const n=t.children[Ht];return new Sn(t.segments.concat(n.segments),n.children)}return t}(new Sn(t.segments,n))}function Zo(t){return t instanceof _h}function nS(t){let n;const o=jm(function e(u){const h={};for(const b of u.children){const T=e(b);h[b.outlet]=T}const _=new Sn(u.url,h);return u===t&&(n=_),_}(t.root));return n??o}function iS(t,n,e,i){let o=t;for(;o.parent;)o=o.parent;if(0===n.length)return c0(o,o,o,e,i);const u=function fN(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new TD(!0,0,t);let n=0,e=!1;const i=t.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const _={};return Object.entries(u.outlets).forEach(([b,T])=>{_[b]="string"==typeof T?T.split("/"):T}),[...o,{outlets:_}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((_,b)=>{0==b&&"."===_||(0==b&&""===_?e=!0:".."===_?n++:""!=_&&o.push(_))}),o):[...o,u]},[]);return new TD(e,n,i)}(n);if(u.toRoot())return c0(o,o,new Sn([],{}),e,i);const h=function pp(t,n,e){if(t.isAbsolute)return new $m(n,!0,0);if(!e)return new $m(n,!1,NaN);if(null===e.parent)return new $m(e,!0,0);const i=Hm(t.commands[0])?0:1;return function Gm(t,n,e){let i=t,o=n,u=e;for(;u>o;){if(u-=o,i=i.parent,!i)throw new l.vHH(4005,!1);o=i.segments.length}return new $m(i,!1,o-u)}(e,e.segments.length-1+i,t.numberOfDoubleDots)}(u,o,t),_=h.processChildren?gp(h.segmentGroup,h.index,u.commands):ID(h.segmentGroup,h.index,u.commands);return c0(o,h.segmentGroup,_,e,i)}function Hm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function bh(t){return"object"==typeof t&&null!=t&&t.outlets}function c0(t,n,e,i,o){let h,u={};i&&Object.entries(i).forEach(([b,T])=>{u[b]=Array.isArray(T)?T.map(N=>`${N}`):`${T}`}),h=t===n?e:CD(t,n,e);const _=jm(l0(h));return new _h(_,u,o)}function CD(t,n,e){const i={};return Object.entries(t.children).forEach(([o,u])=>{i[o]=u===n?e:CD(u,n,e)}),new Sn(t.segments,i)}class TD{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Hm(i[0]))throw new l.vHH(4003,!1);const o=i.find(bh);if(o&&o!==s0(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $m{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function ID(t,n,e){if(t||(t=new Sn([],{})),0===t.segments.length&&t.hasChildren())return gp(t,n,e);const i=function sS(t,n,e){let i=0,o=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return u;const h=t.segments[o],_=e[i];if(bh(_))break;const b=`${_}`,T=i<e.length-1?e[i+1]:null;if(o>0&&void 0===b)break;if(b&&T&&"object"==typeof T&&void 0===T.outlets){if(!SD(b,T,h))return u;i+=2}else{if(!SD(b,{},h))return u;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,n,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const u=new Sn(t.segments.slice(0,i.pathIndex),{});return u.children[Ht]=new Sn(t.segments.slice(i.pathIndex),t.children),gp(u,0,o)}return i.match&&0===o.length?new Sn(t.segments,{}):i.match&&!t.hasChildren()?u0(t,n,e):i.match?gp(t,0,o):u0(t,n,e)}function gp(t,n,e){if(0===e.length)return new Sn(t.segments,{});{const i=function rS(t){return bh(t[0])?t[0].outlets:{[Ht]:t}}(e),o={};if(Object.keys(i).some(u=>u!==Ht)&&t.children[Ht]&&1===t.numberOfChildren&&0===t.children[Ht].segments.length){const u=gp(t.children[Ht],n,e);return new Sn(t.segments,u.children)}return Object.entries(i).forEach(([u,h])=>{"string"==typeof h&&(h=[h]),null!==h&&(o[u]=ID(t.children[u],n,h))}),Object.entries(t.children).forEach(([u,h])=>{void 0===i[u]&&(o[u]=h)}),new Sn(t.segments,o)}}function u0(t,n,e){const i=t.segments.slice(0,n);let o=0;for(;o<e.length;){const u=e[o];if(bh(u)){const b=oS(u.outlets);return new Sn(i,b)}if(0===o&&Hm(e[0])){i.push(new vh(t.segments[n].path,Wm(e[0]))),o++;continue}const h=bh(u)?u.outlets[Ht]:`${u}`,_=o<e.length-1?e[o+1]:null;h&&_&&Hm(_)?(i.push(new vh(h,Wm(_))),o+=2):(i.push(new vh(h,{})),o++)}return new Sn(i,{})}function oS(t){const n={};return Object.entries(t).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[e]=u0(new Sn([],{}),0,i))}),n}function Wm(t){const n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function SD(t,n,e){return t==e.path&&Ms(n,e.parameters)}const mp="imperative";class Yo{constructor(n,e){this.id=n,this.url=e}}class zm extends Yo{constructor(n,e,i="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nc extends Yo{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _p extends Yo{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Eh extends Yo{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=16}}class Zm extends Yo{constructor(n,e,i,o){super(n,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AD extends Yo{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ND extends Yo{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d0 extends Yo{constructor(n,e,i,o,u){super(n,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aS extends Yo{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lS extends Yo{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MD{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RD{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pN{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OD{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PD{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xD{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ym{}class h0{constructor(n){this.url=n}}class ic{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wh,this.attachRef=null}}let wh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new ic,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qm{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=vp(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=vp(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=f0(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return f0(n,this._root).map(e=>e.value)}}function vp(t,n){if(t===n.value)return n;for(const e of n.children){const i=vp(t,e);if(i)return i}return null}function f0(t,n){if(t===n.value)return[n];for(const e of n.children){const i=f0(t,e);if(i.length)return i.unshift(n),i}return[]}class rc{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ou(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class FD extends qm{constructor(n,e){super(n),this.snapshot=e,Km(this,n)}toString(){return this.snapshot.toString()}}function LD(t,n){const e=function cS(t,n){const h=new yp([],{},{},"",{},Ht,n,null,{});return new BD("",new rc(h,[]))}(0,n),i=new Ns.X([new vh("",{})]),o=new Ns.X({}),u=new Ns.X({}),h=new Ns.X({}),_=new Ns.X(""),b=new Dh(i,o,h,_,u,Ht,n,e.root);return b.snapshot=e.root,new FD(new rc(b,[]),e)}class Dh{constructor(n,e,i,o,u,h,_,b){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=u,this.outlet=h,this.component=_,this._futureSnapshot=b,this.title=this.dataSubject?.pipe((0,Dt.U)(T=>T[up]))??(0,Tt.of)(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(n=>Nu(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(n=>Nu(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function p0(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const o=e[i],u=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(u.component)break;i--}}return function gN(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class yp{get title(){return this.data?.[up]}constructor(n,e,i,o,u,h,_,b,T){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=u,this.outlet=h,this.component=_,this.routeConfig=b,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BD extends qm{constructor(n,e){super(e),this.url=n,Km(this,e)}toString(){return uS(this._root)}}function Km(t,n){n.value._routerState=t,n.children.forEach(e=>Km(t,e))}function uS(t){const n=t.children.length>0?` { ${t.children.map(uS).join(", ")} } `:"";return`${t.value}${n}`}function bp(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Ms(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Ms(n.params,e.params)||t.paramsSubject.next(e.params),function Fm(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Ms(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),Ms(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Jm(t,n){const e=Ms(t.params,n.params)&&function _D(t,n){return Ru(t,n)&&t.every((e,i)=>Ms(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Jm(t.parent,n.parent))}let Qm=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(wh),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(Ep,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=e;const o=this.location,h=e.snapshot.component,_=this.parentContexts.getOrCreateContext(this.name).children,b=new dS(e,_,o.injector);this.activated=o.createComponent(h,{index:o.length,injector:b,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return t})();class dS{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Dh?this.route:n===wh?this.childContexts:this.parent.get(n,e)}}const Ep=new l.OlP("");let g0=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=km([i.queryParams,i.params,i.data]).pipe((0,si.w)(([u,h,_],b)=>(_={...u,...h,..._},0===b?(0,Tt.of)(_):Promise.resolve(_)))).subscribe(u=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const h=(0,l.qFp)(i.component);if(h)for(const{templateName:_}of h.inputs)e.activatedComponentRef.setInput(_,u[_]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();function sc(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const o=function VD(t,n,e){return n.children.map(i=>{for(const o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return sc(t,i,o);return sc(t,i)})}(t,n,e);return new rc(i,o)}{if(t.shouldAttach(n.value)){const u=t.retrieve(n.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(_=>sc(t,_)),h}}const i=function UD(t){return new Dh(new Ns.X(t.url),new Ns.X(t.params),new Ns.X(t.queryParams),new Ns.X(t.fragment),new Ns.X(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(u=>sc(t,u));return new rc(i,o)}}const m0="ngNavigationCancelingError";function jD(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=Zo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=hS(!1,0,n);return o.url=e,o.navigationBehaviorOptions=i,o}function hS(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[m0]=!0,i.cancellationCode=n,e&&(i.url=e),i}function $D(t){return t&&t[m0]}let GD=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(i,o){1&i&&l._UZ(0,"router-outlet")},dependencies:[Qm],encapsulation:2})}return t})();function WD(t){const n=t.children&&t.children.map(WD),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Ht&&(e.component=GD),e}function qo(t){return t.outlet||Ht}function wp(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class mS{constructor(n,e,i,o,u){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=u}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),bp(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const o=Ou(e);n.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],i),delete o[h]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(n,e,i){const o=n.value,u=e?e.value:null;if(o===u)if(o.component){const h=i.getContext(o.outlet);h&&this.deactivateChildRoutes(n,e,h.children)}else this.deactivateChildRoutes(n,e,i);else u&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,u=Ou(n);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(i&&i.outlet){const h=i.outlet.detach(),_=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:_})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,u=Ou(n);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){const o=Ou(e);n.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],i),this.forwardEvent(new PD(u.value.snapshot))}),n.children.length&&this.forwardEvent(new Ur(n.value.snapshot))}activateRoutes(n,e,i){const o=n.value,u=e?e.value:null;if(bp(o),o===u)if(o.component){const h=i.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,h.children)}else this.activateChildRoutes(n,e,i);else if(o.component){const h=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(_.contexts),h.attachRef=_.componentRef,h.route=_.route.value,h.outlet&&h.outlet.attach(_.componentRef,_.route.value),bp(_.route.value),this.activateChildRoutes(n,null,h.children)}else{const _=wp(o.snapshot);h.attachRef=null,h.route=o,h.injector=_,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,i)}}class v0{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Ko{constructor(n,e){this.component=n,this.route=e}}function zD(t,n,e){const i=t._root;return Dp(i,n?n._root:null,e,[i.value])}function oc(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||(0,l.Z0I)(t)?n.get(t):t:i}function Dp(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ou(n);return t.children.forEach(h=>{(function b0(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=t.value,h=n?n.value:null,_=e?e.getContext(t.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const b=function E0(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Ru(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Ru(t.url,n.url)||!Ms(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jm(t,n)||!Ms(t.queryParams,n.queryParams);default:return!Jm(t,n)}}(h,u,u.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new v0(i)):(u.data=h.data,u._resolvedData=h._resolvedData),Dp(t,n,u.component?_?_.children:null:e,i,o),b&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new Ko(_.outlet.component,h))}else h&&ac(n,_,o),o.canActivateChecks.push(new v0(i)),Dp(t,null,u.component?_?_.children:null:e,i,o)})(h,u[h.value.outlet],e,i.concat([h.value]),o),delete u[h.value.outlet]}),Object.entries(u).forEach(([h,_])=>ac(_,e.getContext(h),o)),o}function ac(t,n,e){const i=Ou(t),o=t.value;Object.entries(i).forEach(([u,h])=>{ac(h,o.component?n?n.children.getContext(u):null:n,e)}),e.canDeactivateChecks.push(new Ko(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function Xm(t){return"function"==typeof t}function w0(t){return t instanceof ec||"EmptyError"===t?.name}const Cp=Symbol("INITIAL_VALUE");function Th(){return(0,si.w)(t=>km(t.map(n=>n.pipe(er(1),function Z1(...t){const n=(0,pi.yG)(t);return(0,br.e)((e,i)=>{(n?ap(t,e,n):ap(t,e)).subscribe(i)})}(Cp)))).pipe((0,Dt.U)(n=>{for(const e of n)if(!0!==e){if(e===Cp)return Cp;if(!1===e||e instanceof _h)return e}return!0}),_i(n=>n!==Cp),er(1)))}function DS(t){return(0,iN.z)((0,ai.b)(n=>{if(Zo(n))throw jD(0,n)}),(0,Dt.U)(n=>!0===n))}class e_{constructor(n){this.segmentGroup=n||null}}class JD{constructor(n){this.urlTree=n}}function Ih(t){return mh(new e_(t))}function T0(t){return mh(new JD(t))}class XD{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new l.vHH(4002,!1)}lineralizeSegments(n,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return(0,Tt.of)(i);if(o.numberOfChildren>1||!o.children[Ht])return mh(new l.vHH(4e3,!1));o=o.children[Ht]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,o){const u=this.createSegmentGroup(n,e.root,i,o);return new _h(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Object.entries(n).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const _=u.substring(1);i[o]=e[_]}else i[o]=u}),i}createSegmentGroup(n,e,i,o){const u=this.createSegments(n,e.segments,i,o);let h={};return Object.entries(e.children).forEach(([_,b])=>{h[_]=this.createSegmentGroup(n,b,i,o)}),new Sn(u,h)}createSegments(n,e,i,o){return e.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,o):this.findOrReturn(u,i))}findPosParam(n,e,i){const o=i[e.path.substring(1)];if(!o)throw new l.vHH(4001,!1);return o}findOrReturn(n,e){let i=0;for(const o of e){if(o.path===n.path)return e.splice(i),o;i++}return n}}const t_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SN(t,n,e,i,o){const u=I0(t,n,e);return u.matched?(i=function mN(t,n){return t.providers&&!t._injector&&(t._injector=(0,l.MMx)(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,i),function CS(t,n,e,i){const o=n.canMatch;if(!o||0===o.length)return(0,Tt.of)(!0);const u=o.map(h=>{const _=oc(h,t);return tc(function yS(t){return t&&Xm(t.canMatch)}(_)?_.canMatch(n,e):t.runInContext(()=>_(n,e)))});return(0,Tt.of)(u).pipe(Th(),DS())}(i,n,e).pipe((0,Dt.U)(h=>!0===h?u:{...t_}))):(0,Tt.of)(u)}function I0(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...t_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||q1)(e,t,n);if(!o)return{...t_};const u={};Object.entries(o.posParams??{}).forEach(([_,b])=>{u[_]=b.path});const h=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function n_(t,n,e,i){return e.length>0&&function IS(t,n,e){return e.some(i=>r_(t,n,i)&&qo(i)!==Ht)}(t,e,i)?{segmentGroup:new Sn(n,tC(i,new Sn(e,t.children))),slicedSegments:[]}:0===e.length&&function i_(t,n,e){return e.some(i=>r_(t,n,i))}(t,e,i)?{segmentGroup:new Sn(t.segments,eC(t,0,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Sn(t.segments,t.children),slicedSegments:e}}function eC(t,n,e,i,o){const u={};for(const h of i)if(r_(t,e,h)&&!o[qo(h)]){const _=new Sn([],{});u[qo(h)]=_}return{...o,...u}}function tC(t,n){const e={};e[Ht]=n;for(const i of t)if(""===i.path&&qo(i)!==Ht){const o=new Sn([],{});e[qo(i)]=o}return e}function r_(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class AN{constructor(n,e,i,o,u,h,_){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=h,this.urlSerializer=_,this.allowRedirects=!0,this.applyRedirects=new XD(this.urlSerializer,this.urlTree)}noMatchError(n){return new l.vHH(4002,!1)}recognize(){const n=n_(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Ht).pipe(Au(e=>{if(e instanceof JD)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof e_?this.noMatchError(e):e}),(0,Dt.U)(e=>{const i=new yp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,{}),o=new rc(i,e),u=new BD("",o),h=function tS(t,n,e=null,i=null){return iS(nS(t),n,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(u._root),{state:u,tree:h}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Ht).pipe(Au(i=>{throw i instanceof e_?this.noMatchError(i):i}))}inheritParamsAndData(n){const e=n.value,i=p0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,o,!0)}processChildren(n,e,i){const o=[];for(const u of Object.keys(i.children))"primary"===u?o.unshift(u):o.push(u);return(0,Pn.D)(o).pipe(vd(u=>{const h=i.children[u],_=function EN(t,n){const e=t.filter(i=>qo(i)===n);return e.push(...t.filter(i=>qo(i)!==n)),e}(e,u);return this.processSegmentGroup(n,_,h,u)}),H_((u,h)=>(u.push(...h),u)),um(null),function Y1(t,n){const e=arguments.length>=2;return i=>i.pipe(t?_i((o,u)=>t(o,u,i)):Id.y,cp(1),e?um(n):Sy(()=>new ec))}(),(0,Ji.z)(u=>{if(null===u)return Ih(i);const h=rC(u);return function AS(t){t.sort((n,e)=>n.value.outlet===Ht?-1:e.value.outlet===Ht?1:n.value.outlet.localeCompare(e.value.outlet))}(h),(0,Tt.of)(h)}))}processSegment(n,e,i,o,u,h){return(0,Pn.D)(e).pipe(vd(_=>this.processSegmentAgainstRoute(_._injector??n,e,_,i,o,u,h).pipe(Au(b=>{if(b instanceof e_)return(0,Tt.of)(null);throw b}))),xa(_=>!!_),Au(_=>{if(w0(_))return function nC(t,n,e){return 0===n.length&&!t.children[e]}(i,o,u)?(0,Tt.of)([]):Ih(i);throw _}))}processSegmentAgainstRoute(n,e,i,o,u,h,_){return function SS(t,n,e,i){return!!(qo(t)===i||i!==Ht&&r_(n,e,t))&&("**"===t.path||I0(n,t,e).matched)}(i,o,u,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,o,i,u,h,_):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,i,u,h):Ih(o):Ih(o)}expandSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,o){const u=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?T0(u):this.applyRedirects.lineralizeSegments(i,u).pipe((0,Ji.z)(h=>{const _=new Sn(h,{});return this.processSegment(n,e,_,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h){const{matched:_,consumedSegments:b,remainingSegments:T,positionalParamSegments:N}=I0(e,o,u);if(!_)return Ih(e);const L=this.applyRedirects.applyRedirectCommands(b,o.redirectTo,N);return o.redirectTo.startsWith("/")?T0(L):this.applyRedirects.lineralizeSegments(o,L).pipe((0,Ji.z)(U=>this.processSegment(n,i,e,U.concat(T),h,!1)))}matchSegmentAgainstRoute(n,e,i,o,u,h){let _;if("**"===i.path){const b=o.length>0?s0(o).parameters:{},T=new yp(o,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,NS(i),qo(i),i.component??i._loadedComponent??null,i,sC(i));_=(0,Tt.of)({snapshot:T,consumedSegments:[],remainingSegments:[]}),e.children={}}else _=SN(e,i,o,n).pipe((0,Dt.U)(({matched:b,consumedSegments:T,remainingSegments:N,parameters:L})=>b?{snapshot:new yp(T,L,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,NS(i),qo(i),i.component??i._loadedComponent??null,i,sC(i)),consumedSegments:T,remainingSegments:N}:null));return _.pipe((0,si.w)(b=>null===b?Ih(e):this.getChildConfig(n=i._injector??n,i,o).pipe((0,si.w)(({routes:T})=>{const N=i._loadedInjector??n,{snapshot:L,consumedSegments:U,remainingSegments:te}=b,{segmentGroup:Ae,slicedSegments:Fe}=n_(e,U,te,T);if(0===Fe.length&&Ae.hasChildren())return this.processChildren(N,T,Ae).pipe((0,Dt.U)(ct=>null===ct?null:[new rc(L,ct)]));if(0===T.length&&0===Fe.length)return(0,Tt.of)([new rc(L,[])]);const Le=qo(i)===u;return this.processSegment(N,T,Ae,Fe,Le?Ht:u,!0).pipe((0,Dt.U)(ct=>[new rc(L,ct)]))}))))}getChildConfig(n,e,i){return e.children?(0,Tt.of)({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?(0,Tt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function IN(t,n,e,i){const o=n.canLoad;if(void 0===o||0===o.length)return(0,Tt.of)(!0);const u=o.map(h=>{const _=oc(h,t);return tc(function DN(t){return t&&Xm(t.canLoad)}(_)?_.canLoad(n,e):t.runInContext(()=>_(n,e)))});return(0,Tt.of)(u).pipe(Th(),DS())}(n,e,i).pipe((0,Ji.z)(o=>o?this.configLoader.loadChildren(n,e).pipe((0,ai.b)(u=>{e._loadedRoutes=u.routes,e._loadedInjector=u.injector})):function TS(t){return mh(hS(!1,3))}())):(0,Tt.of)({routes:[],injector:n})}}function NN(t){const n=t.value.routeConfig;return n&&""===n.path}function rC(t){const n=[],e=new Set;for(const i of t){if(!NN(i)){n.push(i);continue}const o=n.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):n.push(i)}for(const i of e){const o=rC(i.children);n.push(new rc(i.value,o))}return n.filter(i=>!e.has(i))}function NS(t){return t.data||{}}function sC(t){return t.resolve||{}}function MN(t,n){return(0,Ji.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,Tt.of)(e);let u=0;return(0,Pn.D)(o).pipe(vd(h=>function RN(t,n,e,i){const o=t.routeConfig,u=t._resolve;return void 0!==o?.title&&!oC(o)&&(u[up]=o.title),function ON(t,n,e,i){const o=function PN(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return(0,Tt.of)({});const u={};return(0,Pn.D)(o).pipe((0,Ji.z)(h=>function xN(t,n,e,i){const o=wp(n)??i,u=oc(t,o);return tc(u.resolve?u.resolve(n,e):o.runInContext(()=>u(n,e)))}(t[h],n,e,i).pipe(xa(),(0,ai.b)(_=>{u[h]=_}))),cp(1),function n0(t){return(0,Dt.U)(()=>t)}(u),Au(h=>w0(h)?Wo.E:mh(h)))}(u,t,n,i).pipe((0,Dt.U)(h=>(t._resolvedData=h,t.data=p0(t,e).resolve,o&&oC(o)&&(t.data[up]=o.title),null)))}(h.route,i,t,n)),(0,ai.b)(()=>u++),cp(1),(0,Ji.z)(h=>u===o.length?(0,Tt.of)(e):Wo.E))})}function oC(t){return"string"==typeof t.title||null===t.title}function aC(t){return(0,si.w)(n=>{const e=t(n);return e?(0,Pn.D)(e).pipe((0,Dt.U)(()=>n)):(0,Tt.of)(n)})}const Tp=new l.OlP("ROUTES");let lC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Tt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=tc(e.loadComponent()).pipe((0,Dt.U)(cC),(0,ai.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=u}),Ml(()=>{this.componentLoaders.delete(e)})),o=new z1(i,()=>new Rn.x).pipe(hD());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Tt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const u=function kN(t,n,e,i){return tc(t.loadChildren()).pipe((0,Dt.U)(cC),(0,Ji.z)(o=>o instanceof l.YKP||Array.isArray(o)?(0,Tt.of)(o):(0,Pn.D)(n.compileModuleAsync(o))),(0,Dt.U)(o=>{i&&i(t);let u,h,_=!1;return Array.isArray(o)?(h=o,!0):(u=o.create(e).injector,h=u.get(Tp,[],{optional:!0,self:!0}).flat()),{routes:h.map(WD),injector:u}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Ml(()=>{this.childrenLoaders.delete(i)})),h=new z1(u,()=>new Rn.x).pipe(hD());return this.childrenLoaders.set(i,h),h}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cC(t){return function RS(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let S0=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Rn.x,this.transitionAbortSubject=new Rn.x,this.configLoader=(0,l.f3M)(lC),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(yh),this.rootContexts=(0,l.f3M)(wh),this.inputBindingEnabled=null!==(0,l.f3M)(Ep,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Tt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new RD(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new MD(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,o){return this.transitions=new Ns.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mp,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_i(u=>0!==u.id),(0,Dt.U)(u=>({...u,extractedUrl:e.urlHandlingStrategy.extract(u.rawUrl)})),(0,si.w)(u=>{this.currentTransition=u;let h=!1,_=!1;return(0,Tt.of)(u).pipe((0,ai.b)(b=>{this.currentNavigation={id:b.id,initialUrl:b.rawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,si.w)(b=>{const T=b.currentBrowserUrl.toString(),N=!e.navigated||b.extractedUrl.toString()!==T||T!==b.currentUrlTree.toString();if(!N&&"reload"!==(b.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const U="";return this.events.next(new Eh(b.id,this.urlSerializer.serialize(b.rawUrl),U,0)),b.resolve(null),Wo.E}if(e.urlHandlingStrategy.shouldProcessUrl(b.rawUrl))return(0,Tt.of)(b).pipe((0,si.w)(U=>{const te=this.transitions?.getValue();return this.events.next(new zm(U.id,this.urlSerializer.serialize(U.extractedUrl),U.source,U.restoredState)),te!==this.transitions?.getValue()?Wo.E:Promise.resolve(U)}),function MS(t,n,e,i,o,u){return(0,Ji.z)(h=>function iC(t,n,e,i,o,u,h="emptyOnly"){return new AN(t,n,e,i,o,h,u).recognize()}(t,n,e,i,h.extractedUrl,o,u).pipe((0,Dt.U)(({state:_,tree:b})=>({...h,targetSnapshot:_,urlAfterRedirects:b}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,ai.b)(U=>{u.targetSnapshot=U.targetSnapshot,u.urlAfterRedirects=U.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects};const te=new AD(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(te)}));if(N&&e.urlHandlingStrategy.shouldProcessUrl(b.currentRawUrl)){const{id:U,extractedUrl:te,source:Ae,restoredState:Fe,extras:Le}=b,ct=new zm(U,this.urlSerializer.serialize(te),Ae,Fe);this.events.next(ct);const gt=LD(0,this.rootComponentType).snapshot;return this.currentTransition=u={...b,targetSnapshot:gt,urlAfterRedirects:te,extras:{...Le,skipLocationChange:!1,replaceUrl:!1}},(0,Tt.of)(u)}{const U="";return this.events.next(new Eh(b.id,this.urlSerializer.serialize(b.extractedUrl),U,1)),b.resolve(null),Wo.E}}),(0,ai.b)(b=>{const T=new ND(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(T)}),(0,Dt.U)(b=>(this.currentTransition=u={...b,guards:zD(b.targetSnapshot,b.currentSnapshot,this.rootContexts)},u)),function bS(t,n){return(0,Ji.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=e;return 0===h.length&&0===u.length?(0,Tt.of)({...e,guardsResult:!0}):function qD(t,n,e,i){return(0,Pn.D)(t).pipe((0,Ji.z)(o=>function wS(t,n,e,i,o){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Tt.of)(!0);const h=u.map(_=>{const b=wp(n)??o,T=oc(_,b);return tc(function vS(t){return t&&Xm(t.canDeactivate)}(T)?T.canDeactivate(t,n,e,i):b.runInContext(()=>T(t,n,e,i))).pipe(xa())});return(0,Tt.of)(h).pipe(Th())}(o.component,o.route,e,n,i)),xa(o=>!0!==o,!0))}(h,i,o,t).pipe((0,Ji.z)(_=>_&&function wN(t){return"boolean"==typeof t}(_)?function D0(t,n,e,i){return(0,Pn.D)(n).pipe(vd(o=>ap(function KD(t,n){return null!==t&&n&&n(new pN(t)),(0,Tt.of)(!0)}(o.route.parent,i),function TN(t,n){return null!==t&&n&&n(new OD(t)),(0,Tt.of)(!0)}(o.route,i),function ES(t,n,e){const i=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(h=>function y0(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(h)).filter(h=>null!==h).map(h=>W1(()=>{const _=h.guards.map(b=>{const T=wp(h.node)??e,N=oc(b,T);return tc(function _S(t){return t&&Xm(t.canActivateChild)}(N)?N.canActivateChild(i,t):T.runInContext(()=>N(i,t))).pipe(xa())});return(0,Tt.of)(_).pipe(Th())}));return(0,Tt.of)(u).pipe(Th())}(t,o.path,e),function C0(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Tt.of)(!0);const o=i.map(u=>W1(()=>{const h=wp(n)??e,_=oc(u,h);return tc(function ZD(t){return t&&Xm(t.canActivate)}(_)?_.canActivate(n,t):h.runInContext(()=>_(n,t))).pipe(xa())}));return(0,Tt.of)(o).pipe(Th())}(t,o.route,e))),xa(o=>!0!==o,!0))}(i,u,t,n):(0,Tt.of)(_)),(0,Dt.U)(_=>({...e,guardsResult:_})))})}(this.environmentInjector,b=>this.events.next(b)),(0,ai.b)(b=>{if(u.guardsResult=b.guardsResult,Zo(b.guardsResult))throw jD(0,b.guardsResult);const T=new d0(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.events.next(T)}),_i(b=>!!b.guardsResult||(this.cancelNavigationTransition(b,"",3),!1)),aC(b=>{if(b.guards.canActivateChecks.length)return(0,Tt.of)(b).pipe((0,ai.b)(T=>{const N=new aS(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(N)}),(0,si.w)(T=>{let N=!1;return(0,Tt.of)(T).pipe(MN(e.paramsInheritanceStrategy,this.environmentInjector),(0,ai.b)({next:()=>N=!0,complete:()=>{N||this.cancelNavigationTransition(T,"",2)}}))}),(0,ai.b)(T=>{const N=new lS(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(N)}))}),aC(b=>{const T=N=>{const L=[];N.routeConfig?.loadComponent&&!N.routeConfig._loadedComponent&&L.push(this.configLoader.loadComponent(N.routeConfig).pipe((0,ai.b)(U=>{N.component=U}),(0,Dt.U)(()=>{})));for(const U of N.children)L.push(...T(U));return L};return km(T(b.targetSnapshot.root)).pipe(um(),er(1))}),aC(()=>this.afterPreactivation()),(0,Dt.U)(b=>{const T=function Ch(t,n,e){const i=sc(t,n._root,e?e._root:void 0);return new FD(i,n)}(e.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return this.currentTransition=u={...b,targetRouterState:T},u}),(0,ai.b)(()=>{this.events.next(new Ym)}),((t,n,e,i)=>(0,Dt.U)(o=>(new mS(n,o.targetRouterState,o.currentRouterState,e,i).activate(t),o)))(this.rootContexts,e.routeReuseStrategy,b=>this.events.next(b),this.inputBindingEnabled),er(1),(0,ai.b)({next:b=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nc(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects))),e.titleStrategy?.updateTitle(b.targetRouterState.snapshot),b.resolve(!0)},complete:()=>{h=!0}}),vi(this.transitionAbortSubject.pipe((0,ai.b)(b=>{throw b}))),Ml(()=>{h||_||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Au(b=>{if(_=!0,$D(b))this.events.next(new _p(u.id,this.urlSerializer.serialize(u.extractedUrl),b.message,b.cancellationCode)),function HD(t){return $D(t)&&Zo(t.url)}(b)?this.events.next(new h0(b.url)):u.resolve(!1);else{this.events.next(new Zm(u.id,this.urlSerializer.serialize(u.extractedUrl),b,u.targetSnapshot??void 0));try{u.resolve(e.errorHandler(b))}catch(T){u.reject(T)}}return Wo.E}))}))}cancelNavigationTransition(e,i,o){const u=new _p(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(u),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function r(t){return t!==mp}let s=(()=>{class t{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(u=>u.outlet===Ht);return i}getResolvedTitleForRoute(e){return e.data[up]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(a)},providedIn:"root"})}return t})(),a=(()=>{class t extends s{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(xe))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),c=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(f)},providedIn:"root"})}return t})();class d{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let f=(()=>{class t extends d{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=l.n5z(t)))(o||t)}}();static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const m=new l.OlP("",{providedIn:"root",factory:()=>({})});let v=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(D)},providedIn:"root"})}return t})(),D=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var I=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(I||{});function M(t,n){t.events.pipe(_i(e=>e instanceof nc||e instanceof _p||e instanceof Zm||e instanceof Eh),(0,Dt.U)(e=>e instanceof nc||e instanceof Eh?I.COMPLETE:e instanceof _p&&(0===e.code||1===e.code)?I.REDIRECTING:I.FAILED),_i(e=>e!==I.REDIRECTING),er(1)).subscribe(()=>{n()})}function j(t){throw t}function K(t,n,e){return n.parse("/")}const se={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ve=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new Rn.x,this.options=(0,l.f3M)(m,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||j,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||K,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(v),this.routeReuseStrategy=(0,l.f3M)(c),this.titleStrategy=(0,l.f3M)(s),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(Tp,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(S0),this.urlSerializer=(0,l.f3M)(yh),this.location=(0,l.f3M)(qe),this.componentInputBindingEnabled=!!(0,l.f3M)(Ep,{optional:!0}),this.eventsSubscription=new lp.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _h,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(vt(i)&&this._events.next(i));if(i instanceof zm)r(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof Eh)this.rawUrlTree=o.rawUrl;else if(i instanceof AD){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof Ym)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof _p)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof h0){const u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),h={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||r(o.source)};this.scheduleNavigation(u,mp,null,h,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Zm&&this.restoreHistory(o,!0),i instanceof nc&&(this.navigated=!0),vt(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mp,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,o){const u={replaceUrl:!0},h=o?.navigationId?o:null;if(o){const b={...o};delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(u.state=b)}const _=this.parseUrl(e);this.scheduleNavigation(_,i,h,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(WD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:_,preserveFragment:b}=i,T=b?this.currentUrlTree.fragment:h;let L,N=null;switch(_){case"merge":N={...this.currentUrlTree.queryParams,...u};break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=u||null}null!==N&&(N=this.removeEmptyProps(N));try{L=nS(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),L=this.currentUrlTree.root}return iS(L,e,N,T??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Zo(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,mp,null,i)}navigate(e,i={skipLocationChange:!1}){return function rt(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new l.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...se}:!1===i?{...Ie}:i,Zo(e))return pD(this.currentUrlTree,e,o);const u=this.parseUrl(e);return pD(this.currentUrlTree,u,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const u=e[o];return null!=u&&(i[o]=u),i},{})}scheduleNavigation(e,i,o,u,h){if(this.disposed)return Promise.resolve(!1);let _,b,T;h?(_=h.resolve,b=h.reject,T=h.promise):T=new Promise((L,U)=>{_=L,b=U});const N=this.pendingTasks.add();return M(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(N))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:u,resolve:_,reject:b,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(L=>Promise.reject(L))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const h={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",h)}else{const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vt(t){return!(t instanceof Ym||t instanceof h0)}let ke=(()=>{class t{constructor(e,i,o,u,h,_){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=u,this.el=h,this.locationStrategy=_,this.href=null,this.commands=null,this.onChanges=new Rn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const b=h.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===b||"area"===b,this.isAnchorElement?this.subscription=e.events.subscribe(T=>{T instanceof nc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,o,u,h){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||o||u||h||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const o=this.renderer,u=this.el.nativeElement;null!==i?o.setAttribute(u,e,i):o.removeAttribute(u,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(Ve),l.Y36(Dh),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ue))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){1&i&&l.NdJ("click",function(h){return o.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&i&&l.uIk("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return t})();class Tn{}let Sh=(()=>{class t{constructor(e,i,o,u,h){this.router=e,this.injector=o,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(_i(e=>e instanceof nc),vd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const u of i){u.providers&&!u._injector&&(u._injector=(0,l.MMx)(u.providers,e,`Route: ${u.path}`));const h=u._injector??e,_=u._loadedInjector??h;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(_,u.children??u._loadedRoutes))}return(0,Pn.D)(o).pipe((0,zo.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,Tt.of)(null);const u=o.pipe((0,Ji.z)(h=>null===h?(0,Tt.of)(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(i.loadComponent&&!i._loadedComponent){const h=this.loader.loadComponent(i);return(0,Pn.D)([u,h]).pipe((0,zo.J)())}return u})}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(Ve),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Tn),l.LFG(lC))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ip=new l.OlP("");let uC=(()=>{class t{constructor(e,i,o,u,h={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=u,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof zm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof nc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Eh&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof xD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();function Pu(t,n){return{\u0275kind:t,\u0275providers:n}}function BN(){const t=(0,l.f3M)(l.zs3);return n=>{const e=t.get(l.z2F);if(n!==e.components[0])return;const i=t.get(Ve),o=t.get(VN);1===t.get(OS)&&i.initialNavigation(),t.get(UN,null,l.XFs.Optional)?.setUpPreloading(),t.get(Ip,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const VN=new l.OlP("",{factory:()=>new Rn.x}),OS=new l.OlP("",{providedIn:"root",factory:()=>1}),UN=new l.OlP("");function ZR(t){return Pu(0,[{provide:UN,useExisting:Sh},{provide:Tn,useExisting:t}])}const jN=new l.OlP("ROUTER_FORROOT_GUARD"),qR=[qe,{provide:yh,useClass:o0},Ve,wh,{provide:Dh,useFactory:function LN(t){return t.routerState.root},deps:[Ve]},lC,[]];function KR(){return new l.PXZ("Router",Ve)}let HN=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[qR,[],{provide:Tp,multi:!0,useValue:e},{provide:jN,useFactory:eO,deps:[[Ve,new l.FiY,new l.tp0]]},{provide:m,useValue:i||{}},i?.useHash?{provide:Ue,useClass:Pe}:{provide:Ue,useClass:ze},{provide:Ip,useFactory:()=>{const t=(0,l.f3M)(Ri),n=(0,l.f3M)(l.R0b),e=(0,l.f3M)(m),i=(0,l.f3M)(S0),o=(0,l.f3M)(yh);return e.scrollOffset&&t.setOffset(e.scrollOffset),new uC(o,i,t,n,e)}},i?.preloadingStrategy?ZR(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:KR},i?.initialNavigation?tO(i):[],i?.bindToComponentInputs?Pu(8,[g0,{provide:Ep,useExisting:g0}]).\u0275providers:[],[{provide:$N,useFactory:BN},{provide:l.tb,multi:!0,useExisting:$N}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Tp,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(jN,8))};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();function eO(t){return"guarded"}function tO(t){return["disabled"===t.initialNavigation?Pu(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const n=(0,l.f3M)(Ve);return()=>{n.setUpLocationChangeListener()}}},{provide:OS,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Pu(2,[{provide:OS,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:n=>{const e=n.get(Se,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=n.get(Ve),u=n.get(VN);M(o,()=>{i(!0)}),n.get(S0).afterPreactivation=()=>(i(!0),u.closed?(0,Tt.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const $N=new l.OlP("");let iO=(()=>{class t{constructor(e){this.db=e,this.refKritikak=this.db.list("kritikak")}get(){return this.refKritikak}createNew(e){return this.refKritikak.push(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(t0))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var GN=x(6710);let s_=(()=>{class t{constructor(e,i,o){this.afAuth=e,this.router=i,this.http=o,this.url=" https://us-central1-etteremajanlo-22864.cloudfunctions.net/api/",this.getUsers()}getUsers(){this.getLoggedUser().subscribe(e=>{console.log("Felhaszn\xe1l\xf3",e),e?.getIdToken().then(i=>{let o=(new so).set("Authorization",i);this.http.get(this.url+"users",{headers:o}).subscribe({next:u=>console.log("Felhaszn\xe1l\xf3k:",u),error:u=>console.log(u)})})})}signUp(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i)}signIn(e,i){return this.afAuth.signInWithEmailAndPassword(e,i)}sendVerificationEmail(){this.afAuth.currentUser.then(e=>{console.log("Regelt user:",e),e?.sendEmailVerification()}).then(()=>this.router.navigate(["/verifyemail"])).catch(e=>{alert(e)})}googleAuth(){return this.afAuth.signInWithPopup(new GN.V)}getLoggedUser(){return this.afAuth.authState}signOut(){return this.afAuth.signOut()}forgotPassword(e){return this.afAuth.sendPasswordResetEmail(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(ph),l.LFG(Ve),l.LFG(bb))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rO(t,n){if(1&t&&(l.ynx(0),l.TgZ(1,"div"),l._uU(2),l.qZA(),l.TgZ(3,"div"),l._uU(4),l.qZA(),l.TgZ(5,"div"),l._uU(6),l.qZA(),l.BQk()),2&t){const e=n.$implicit;l.xp6(2),l.Oqu(e.szerzo),l.xp6(2),l.Oqu(e.etterem),l.xp6(2),l.Oqu(e.velemeny)}}const sO=[{path:"signup",component:(()=>{class t{constructor(e,i){this.auth=e,this.router=i,this.userEmail="",this.pass1="",this.pass2=""}googleAuth(){this.auth.googleAuth().then(()=>this.router.navigate(["/ajanlo"]))}signUp(){this.auth.signUp(this.userEmail,this.pass1).then(()=>{console.log("Sikeres regiszr\xe1ci\xf3!"),this.auth.sendVerificationEmail()}).catch(e=>console.log("Reg Hiba:",e))}validUser(){return console.log(this.userEmail?.length),0==this.userEmail?.length||0==this.pass1?.length||this.pass1!=this.pass2}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(s_),l.Y36(Ve))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-sign-up"]],decls:26,vars:4,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],[1,"form-floating"],["type","password","id","Password","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],["type","password","id","RePassword","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-primary","my-3",3,"click"],[1,"my-3"],["routerLink","/signin","type","button",1,"btn","btn-primary"]],template:function(i,o){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),l._uU(3," User Registration "),l.qZA(),l.TgZ(4,"div",3)(5,"input",4),l.NdJ("ngModelChange",function(h){return o.userEmail=h}),l.qZA(),l.TgZ(6,"label",5),l._uU(7,"Email address"),l.qZA()(),l.TgZ(8,"div",6)(9,"input",7),l.NdJ("ngModelChange",function(h){return o.pass1=h}),l.qZA(),l.TgZ(10,"label",8),l._uU(11,"Password"),l.qZA()(),l.TgZ(12,"div",6)(13,"input",9),l.NdJ("ngModelChange",function(h){return o.pass2=h}),l.qZA(),l.TgZ(14,"label",8),l._uU(15,"Agree Password"),l.qZA()(),l.TgZ(16,"button",10),l.NdJ("click",function(){return o.signUp()}),l._uU(17,"Registration"),l.qZA(),l.TgZ(18,"div")(19,"button",11),l.NdJ("click",function(){return o.googleAuth()}),l._uU(20," Contiune with Google "),l.qZA()(),l.TgZ(21,"div",12)(22,"div"),l._uU(23,"Alredy have an account?"),l.qZA(),l.TgZ(24,"button",13),l._uU(25,"Log In"),l.qZA()()()()),2&i&&(l.xp6(5),l.Q6J("ngModel",o.userEmail),l.xp6(4),l.Q6J("ngModel",o.pass1),l.xp6(4),l.Q6J("ngModel",o.pass2),l.xp6(3),l.Q6J("disabled",o.validUser()))},dependencies:[ke,Or,no,Kc]})}return t})()},{path:"signin",component:(()=>{class t{constructor(e,i){this.auth=e,this.router=i}googleAuth(){this.auth.googleAuth().then(()=>{console.log("Sikeres Google bel\xe9p\xe9s!"),this.router.navigate(["/ajanlo"])}).catch(e=>console.log("Hiba:",e))}signIn(){this.auth.signIn(this.userEmail,this.password).then(()=>console.log("Sikeres bel\xe9p\xe9s")).catch(e=>console.log("Hiba a bel\xe9p\xe9sn\xe9l",e))}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(s_),l.Y36(Ve))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-sign-in"]],decls:19,vars:2,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],["routerLink","/forgotpassword","type","button",1,"mb-3","btn","btn-primary"],["type","button",1,"mb-3","btn","btn-primary",3,"click"],["type","button",1,"ms-3","mb-3","btn","btn-primary",3,"click"]],template:function(i,o){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),l._uU(3," Login User "),l.qZA(),l.TgZ(4,"div",3)(5,"input",4),l.NdJ("ngModelChange",function(h){return o.userEmail=h}),l.qZA(),l.TgZ(6,"label",5),l._uU(7,"Email address"),l.qZA()(),l.TgZ(8,"div",3)(9,"input",6),l.NdJ("ngModelChange",function(h){return o.password=h}),l.qZA(),l.TgZ(10,"label",7),l._uU(11,"Password"),l.qZA()(),l.TgZ(12,"div")(13,"button",8),l._uU(14,"Forgot Password?"),l.qZA()(),l.TgZ(15,"button",9),l.NdJ("click",function(){return o.signIn()}),l._uU(16,"Log In"),l.qZA(),l.TgZ(17,"button",10),l.NdJ("click",function(){return o.googleAuth()}),l._uU(18," Login with Google "),l.qZA()()()),2&i&&(l.xp6(5),l.Q6J("ngModel",o.userEmail),l.xp6(4),l.Q6J("ngModel",o.password))},dependencies:[ke,Or,no,Kc]})}return t})()},{path:"ajanlo",component:(()=>{class t{constructor(e,i){this.base=e,this.auth=i,this.base.get().snapshotChanges().pipe((0,Dt.U)(o=>o.map(u=>({key:u.payload.key,...u.payload.val()})))).subscribe(o=>this.kritikak=o),this.auth.getLoggedUser().subscribe({next:o=>{console.log("User:",o),this.user=o},error:o=>console.log("Hib\xe1s bel\xe9p\xe9s: ",o)}),this.auth.getUsers()}ment(){let e={etterem:"KFC"};e.szerzo=this.user.email,e.velemeny=this.newKritika,this.base.createNew(e).then(()=>this.newKritika="")}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(iO),l.Y36(s_))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-ajanlasok"]],decls:7,vars:3,consts:[[1,"form-floating"],["placeholder","Leave a comment here","id","floatingTextarea",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingTextarea"],["type","button",1,"btn","btn-warning",3,"disabled","click"],[4,"ngFor","ngForOf"]],template:function(i,o){1&i&&(l.TgZ(0,"div",0)(1,"textarea",1),l.NdJ("ngModelChange",function(h){return o.newKritika=h}),l.qZA(),l.TgZ(2,"label",2),l._uU(3,"Comments"),l.qZA()(),l.TgZ(4,"button",3),l.NdJ("click",function(){return o.ment()}),l._uU(5,"Save"),l.qZA(),l.YNc(6,rO,7,3,"ng-container",4)),2&i&&(l.xp6(1),l.Q6J("ngModel",o.newKritika),l.xp6(3),l.Q6J("disabled",!o.user),l.xp6(2),l.Q6J("ngForOf",o.kritikak))},dependencies:[sr,Or,no,Kc]})}return t})()},{path:"verifyemail",component:(()=>{class t{constructor(e){this.auth=e}reSendVerification(){this.auth.sendVerificationEmail()}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(s_))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-verify-email"]],decls:15,vars:0,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"my-3"],["routerLink","/signin","type","button",1,"btn","btn-primary"]],template:function(i,o){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),l._uU(3,"Thank You for Registering"),l.qZA(),l.TgZ(4,"p",3),l._uU(5," We have sent confirmation email. "),l.qZA(),l.TgZ(6,"p",3),l._uU(7," Please check your email and click the link to verify email address. "),l.qZA(),l.TgZ(8,"button",4),l.NdJ("click",function(){return o.reSendVerification()}),l._uU(9,"Resend Verification email"),l.qZA(),l.TgZ(10,"div",5)(11,"p"),l._uU(12,"Go back to?"),l.qZA(),l.TgZ(13,"button",6),l._uU(14," Log In"),l.qZA()()()())},dependencies:[ke]})}return t})()},{path:"forgotpassword",component:(()=>{class t{constructor(e,i){this.auth=e,this.router=i}validUser(){return!this.userEmail}forgotPassword(){this.auth.forgotPassword(this.userEmail).then(()=>this.router.navigate(["/signin"]))}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(s_),l.Y36(Ve))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-forgot-password"]],decls:17,vars:2,consts:[[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","name@example.com",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"my-3"],["routerLink","/signin","type","button",1,"btn","btn-primary"]],template:function(i,o){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),l._uU(3," Reset Password "),l.qZA(),l.TgZ(4,"p",3),l._uU(5," Please enter your email to request password reset. "),l.qZA(),l.TgZ(6,"div",4)(7,"input",5),l.NdJ("ngModelChange",function(h){return o.userEmail=h}),l.qZA(),l.TgZ(8,"label",6),l._uU(9,"Email address"),l.qZA()(),l.TgZ(10,"button",7),l.NdJ("click",function(){return o.forgotPassword()}),l._uU(11,"Registration"),l.qZA(),l.TgZ(12,"div",8)(13,"div"),l._uU(14,"Alredy have an account?"),l.qZA(),l.TgZ(15,"button",9),l._uU(16,"Log In"),l.qZA()()()()),2&i&&(l.xp6(7),l.Q6J("ngModel",o.userEmail),l.xp6(3),l.Q6J("disabled",o.validUser()))},dependencies:[ke,Or,no,Kc]})}return t})()},{path:"",redirectTo:"ajanlo",pathMatch:"full"},{path:"**",redirectTo:"ajanlo",pathMatch:"full"}];let oO=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({imports:[HN.forRoot(sO),HN]})}return t})();var aO=x(4266);const lO=["addListener","removeListener"],cO=["addEventListener","removeEventListener"],uO=["on","off"];function wr(t,n,e,i){if((0,ms.m)(e)&&(i=e,e=void 0),i)return wr(t,n,e).pipe(ml(i));const[o,u]=function fO(t){return(0,ms.m)(t.addEventListener)&&(0,ms.m)(t.removeEventListener)}(t)?cO.map(h=>_=>t[h](n,_,e)):function dO(t){return(0,ms.m)(t.addListener)&&(0,ms.m)(t.removeListener)}(t)?lO.map(WN(t,n)):function hO(t){return(0,ms.m)(t.on)&&(0,ms.m)(t.off)}(t)?uO.map(WN(t,n)):[];if(!o&&(0,aO.z)(t))return(0,Ji.z)(h=>wr(h,n,e))((0,Nn.Xf)(t));if(!o)throw new TypeError("Invalid event target");return new ri.y(h=>{const _=(...b)=>h.next(1<b.length?b:b[0]);return o(_),()=>u(_)})}function WN(t,n){return e=>i=>t[e](n,i)}var pO=x(671);const{isArray:mO}=Array;function ZN(t){return 1===t.length&&mO(t[0])?t[0]:t}function PS(...t){const n=(0,pi.jO)(t),e=ZN(t);return e.length?new ri.y(i=>{let o=e.map(()=>[]),u=e.map(()=>!1);i.add(()=>{o=u=null});for(let h=0;!i.closed&&h<e.length;h++)(0,Nn.Xf)(e[h]).subscribe((0,Vt.x)(i,_=>{if(o[h].push(_),o.every(b=>b.length)){const b=o.map(T=>T.shift());i.next(n?n(...b):b),o.some((T,N)=>!T.length&&u[N])&&i.complete()}},()=>{u[h]=!0,!o[h].length&&i.complete()}));return()=>{o=u=null}}):Wo.E}Math,Math,Math;const OP=["*"],lx=["dialog"];function Np(t){return"string"==typeof t}function Mp(t){return null!=t}function u_(t){return(t||document.body).getBoundingClientRect()}const _M={animation:!0,transitionTimerDelayMs:5},ek=()=>{},{transitionTimerDelayMs:tk}=_M,x0=new Map,Ps=(t,n,e,i)=>{let o=i.context||{};const u=x0.get(n);if(u)switch(i.runningTransition){case"continue":return Wo.E;case"stop":t.run(()=>u.transition$.complete()),o=Object.assign(u.context,o),x0.delete(n)}const h=e(n,i.animation,o)||ek;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>h()),(0,Tt.of)(void 0).pipe(function Qx(t){return n=>new ri.y(e=>n.subscribe({next:h=>t.run(()=>e.next(h)),error:h=>t.run(()=>e.error(h)),complete:()=>t.run(()=>e.complete())}))}(t));const _=new Rn.x,b=new Rn.x,T=_.pipe(function vO(...t){return n=>ap(n,(0,Tt.of)(...t))}(!0));x0.set(n,{transition$:_,complete:()=>{b.next(),b.complete()},context:o});const N=function Xx(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const L=wr(n,"transitionend").pipe(vi(T),_i(({target:te})=>te===n));(function YN(...t){return 1===(t=ZN(t)).length?(0,Nn.Xf)(t[0]):new ri.y(function _O(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push((0,Nn.Xf)(t[i]).subscribe((0,Vt.x)(n,o=>{if(e){for(let u=0;u<e.length;u++)u!==i&&e[u].unsubscribe();e=null}n.next(o)})))}}(t))})(function zN(t=0,n,e=j_.P){let i=-1;return null!=n&&((0,pO.K)(n)?e=n:i=n),new ri.y(o=>{let u=function gO(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;u<0&&(u=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=i?this.schedule(void 0,i):o.complete())},u)})}(N+tk).pipe(vi(T)),L,b).pipe(vi(T)).subscribe(()=>{x0.delete(n),t.run(()=>{h(),_.next(),_.complete()})})}),_.asObservable()},WS=(t,n,e)=>{let{direction:i,maxSize:o,dimension:u}=e;const{classList:h}=t;function _(){h.add("collapse"),"show"===i?h.add("show"):h.remove("show")}if(n)return o||(o=function nk(t,n){if(typeof navigator>"u")return"0px";const{classList:e}=t,i=e.contains("show");i||e.add("show"),t.style[n]="";const o=t.getBoundingClientRect()[n]+"px";return i||e.remove("show"),o}(t,u),e.maxSize=o,t.style[u]="show"!==i?o:"0px",h.remove("collapse"),h.remove("collapsing"),h.remove("show"),u_(t),h.add("collapsing")),t.style[u]="show"===i?o:"0px",()=>{_(),h.remove("collapsing"),t.style[u]=""};_()};let gC=(()=>{class t{constructor(){this.animation=_M.animation}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sk=(()=>{class t{constructor(e){this._ngbConfig=e,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(gC))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YS=(()=>{class t{set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}constructor(e,i,o){this._element=e,this._zone=o,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=i.animation,this.horizontal=i.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return Ps(this._zone,this._element.nativeElement,WS,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.SBq),l.Y36(sk),l.Y36(l.R0b))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,o){2&i&&l.ekj("collapse-horizontal",o.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}return t})(),TM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),IM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),NM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),MM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();var Hn=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(Hn||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const LM=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function BM(t){const n=Array.from(t.querySelectorAll(LM)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let JM=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),eR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();class kp{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let eF=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(er(1)).subscribe(()=>{Ps(this._zone,this._el.nativeElement,(e,i)=>{i&&u_(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ps(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(l.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),l.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return t})();class tR{update(n){}close(n){}dismiss(n){}}const tF=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],nF=["animation","backdropClass"];class iF{_applyWindowOptions(n,e){tF.forEach(i=>{Mp(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){nF.forEach(i=>{Mp(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(vi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(vi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Rn.x,this._dismissed=new Rn.x,this._hidden=new Rn.x,n.instance.dismissEvent.subscribe(u=>{this.dismiss(u)}),this.result=new Promise((u,h)=>{this._resolve=u,this._reject=h}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function fM(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Tt.of)(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),PS(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var rA=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(rA||{});let rF=(()=>{class t{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new Rn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Rn.x,this.hidden=new Rn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Np(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(er(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},h=PS(Ps(this._zone,e,()=>e.classList.remove("show"),i),Ps(this._zone,this._dialogEl.nativeElement,()=>{},i));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};PS(Ps(this._zone,this._elRef.nativeElement,(u,h)=>{h&&u_(u),u.classList.add("show")},e),Ps(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{wr(e,"keydown").pipe(vi(this._closed$),_i(o=>o.which===Hn.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(rA.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;wr(this._dialogEl.nativeElement,"mousedown").pipe(vi(this._closed$),(0,ai.b)(()=>i=!1),(0,si.w)(()=>wr(e,"mouseup").pipe(vi(this._closed$),er(1))),_i(({target:o})=>e===o)).subscribe(()=>{i=!0}),wr(e,"click").pipe(vi(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(rA.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=BM(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ps(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(de),l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&l.Gf(lx,7),2&i){let u;l.iGM(u=l.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){2&i&&(l.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),l.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),l.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:OP,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){1&i&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&i&&l.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),sF=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:u,paddingRight:h}=o;if(e>0){const _=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${_+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=h),o.overflow=u}}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oF=(()=>{class t{constructor(e,i,o,u,h,_,b){this._applicationRef=e,this._injector=i,this._environmentInjector=o,this._document=u,this._scrollBar=h,this._rendererFactory=_,this._ngZone=b,this._activeWindowCmptHasChanged=new Rn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const T=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const o=wr(n,"focusin").pipe(vi(e),(0,Dt.U)(u=>u.target));wr(n,"keydown").pipe(vi(e),_i(u=>u.which===Hn.Tab),Eg(o)).subscribe(([u,h])=>{const[_,b]=BM(n);(h===_||h===n)&&u.shiftKey&&(b.focus(),u.preventDefault()),h===b&&!u.shiftKey&&(_.focus(),u.preventDefault())}),i&&wr(n,"click").pipe(vi(e),Eg(o),(0,Dt.U)(u=>u[1])).subscribe(u=>u.focus())})})(this._ngZone,T.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(T.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const u=o.container instanceof HTMLElement?o.container:Mp(o.container)?this._document.querySelector(o.container):this._document.body,h=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const _=new tR,b=(e=o.injector||e).get(l.lqb,null)||this._environmentInjector,T=this._getContentRef(e,b,i,_,o);let N=!1!==o.backdrop?this._attachBackdrop(u):void 0,L=this._attachWindowComponent(u,T.nodes),U=new iF(L,T,N,o.beforeDismiss);return this._registerModalRef(U),this._registerWindowCmpt(L),U.hidden.pipe(er(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),_.close=te=>{U.close(te)},_.dismiss=te=>{U.dismiss(te)},_.update=te=>{U.update(te)},U.update(o),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),N&&N.instance&&N.changeDetectorRef.detectChanges(),L.changeDetectorRef.detectChanges(),U}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,l.LMc)(eF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=(0,l.LMc)(rF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,u,h){return o?o instanceof l.Rgc?this._createFromTemplateRef(o,u):Np(o)?this._createFromString(o):this._createFromComponent(e,i,o,u,h):new kp([])}_createFromTemplateRef(e,i){const u=e.createEmbeddedView({$implicit:i,close(h){i.close(h)},dismiss(h){i.dismiss(h)}});return this._applicationRef.attachView(u),new kp([u.rootNodes],u)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new kp([[i]])}_createFromComponent(e,i,o,u,h){const _=l.zs3.create({providers:[{provide:tR,useValue:u}],parent:e}),b=(0,l.LMc)(o,{environmentInjector:i,elementInjector:_}),T=b.location.nativeElement;return h.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(b.hostView),new kp([[T]],b.hostView,b)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(de),l.LFG(sF),l.LFG(l.FYo),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aF=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(gC))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lF=(()=>{class t{constructor(e,i,o){this._injector=e,this._modalStack=i,this._config=o}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(l.zs3),l.LFG(oF),l.LFG(aF))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({providers:[lF]})}return t})(),sR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),fR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),gR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),mR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),_R=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),vR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),yR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),bR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),ER=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();new l.OlP("live announcer delay",{providedIn:"root",factory:function IF(){return 100}});let wR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),DR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();const AF=[TM,IM,NM,MM,JM,eR,nR,sR,DR,fR,gR,mR,_R,vR,yR,bR,ER,wR];let NF=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({imports:[AF,TM,IM,NM,MM,JM,eR,nR,sR,DR,fR,gR,mR,_R,vR,yR,bR,ER,wR]})}return t})();function MF(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"li",7)(1,"a",12),l.NdJ("click",function(){l.CHM(e);const o=l.oxw();return l.KtG(o.signOut())}),l._uU(2,"Kil\xe9p\xe9s"),l.qZA()()}}let RF=(()=>{class t{constructor(e){this.auth=e,this.csukva=!0,this.user=null,this.auth.getLoggedUser().subscribe({next:i=>{console.log("User:",i),this.user=i},error:i=>console.log("Hib\xe1s bel\xe9p\xe9s: ",i)})}signOut(){this.auth.signOut()}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(s_))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-nav"]],decls:18,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/ajanlo",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/ajanlo",1,"nav-link"],["routerLink","/signin",1,"nav-link"],["routerLink","/signup",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"nav-link",3,"click"]],template:function(i,o){1&i&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._uU(3,"Remi"),l.qZA(),l.TgZ(4,"button",3),l.NdJ("click",function(){return o.csukva=!o.csukva}),l._UZ(5,"span",4),l.qZA(),l.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),l._uU(10,"Aj\xe1nl\xe1sok"),l.qZA()(),l.TgZ(11,"li",7)(12,"a",9),l._uU(13,"Bejelentkez\xe9s"),l.qZA()(),l.TgZ(14,"li",7)(15,"a",10),l._uU(16,"Regisztr\xe1ci\xf3"),l.qZA()(),l.YNc(17,MF,3,0,"li",11),l.qZA()()()()),2&i&&(l.xp6(6),l.Q6J("ngbCollapse",o.csukva),l.xp6(11),l.Q6J("ngIf",o.user))},dependencies:[gr,ke,YS]})}return t})(),OF=(()=>{class t{constructor(){this.title="EtteremAjanlo"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(i,o){1&i&&(l._UZ(0,"app-nav"),l.TgZ(1,"div",0),l._UZ(2,"router-outlet"),l.qZA())},dependencies:[Qm,RF]})}return t})();const PF_firebaseConfig={apiKey:"AIzaSyCzik6oYkBADx78yxEXh3G888YET0v0rsk",authDomain:"etteremajanlo-22864.firebaseapp.com",databaseURL:"https://etteremajanlo-22864-default-rtdb.europe-west1.firebasedatabase.app",projectId:"etteremajanlo-22864",storageBucket:"etteremajanlo-22864.appspot.com",messagingSenderId:"792339124096",appId:"1:792339124096:web:3e171685a7851f2fbbfb65"};let xF=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t,bootstrap:[OF]});static#n=this.\u0275inj=l.cJS({imports:[No,oO,NF,fg,H1,kr.hO.initializeApp(PF_firebaseConfig),V_]})}return t})();ti().bootstrapModule(xF).catch(t=>console.error(t))},5619:(lt,De,x)=>{x.d(De,{X:()=>$});var l=x(8645);class $ extends l.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const ae=super._subscribe(ee);return!ae.closed&&ee.next(this._value),ae}getValue(){const{hasError:ee,thrownError:ae,_value:de}=this;if(ee)throw ae;return this._throwIfClosed(),de}next(ee){super.next(this._value=ee)}}},5592:(lt,De,x)=>{x.d(De,{y:()=>Se});var l=x(305),$=x(7394),R=x(4850),ee=x(8407),ae=x(2653),de=x(4674),ye=x(1441);let Se=(()=>{class oe{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const ze=new oe;return ze.source=this,ze.operator=Oe,ze}subscribe(Oe,ze,Pe){const qe=function Z(oe){return oe&&oe instanceof l.Lv||function H(oe){return oe&&(0,de.m)(oe.next)&&(0,de.m)(oe.error)&&(0,de.m)(oe.complete)}(oe)&&(0,$.Nn)(oe)}(Oe)?Oe:new l.Hp(Oe,ze,Pe);return(0,ye.x)(()=>{const{operator:Me,source:ht}=this;qe.add(Me?Me.call(qe,ht):ht?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(ze){Oe.error(ze)}}forEach(Oe,ze){return new(ze=pe(ze))((Pe,qe)=>{const Me=new l.Hp({next:ht=>{try{Oe(ht)}catch(ot){qe(ot),Me.unsubscribe()}},error:qe,complete:Pe});this.subscribe(Me)})}_subscribe(Oe){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(Oe)}[R.L](){return this}pipe(...Oe){return(0,ee.U)(Oe)(this)}toPromise(Oe){return new(Oe=pe(Oe))((ze,Pe)=>{let qe;this.subscribe(Me=>qe=Me,Me=>Pe(Me),()=>ze(qe))})}}return oe.create=Ue=>new oe(Ue),oe})();function pe(oe){var Ue;return null!==(Ue=oe??ae.config.Promise)&&void 0!==Ue?Ue:Promise}},8645:(lt,De,x)=>{x.d(De,{x:()=>ye});var l=x(5592),$=x(7394);const ee=(0,x(2306).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=x(9039),de=x(1441);let ye=(()=>{class pe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const oe=new Se(this,this);return oe.operator=Z,oe}_throwIfClosed(){if(this.closed)throw new ee}next(Z){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(Z)}})}error(Z){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:oe}=this;for(;oe.length;)oe.shift().error(Z)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:oe,isStopped:Ue,observers:Oe}=this;return oe||Ue?$.Lc:(this.currentObservers=null,Oe.push(Z),new $.w0(()=>{this.currentObservers=null,(0,ae.P)(Oe,Z)}))}_checkFinalizedStatuses(Z){const{hasError:oe,thrownError:Ue,isStopped:Oe}=this;oe?Z.error(Ue):Oe&&Z.complete()}asObservable(){const Z=new l.y;return Z.source=this,Z}}return pe.create=(H,Z)=>new Se(H,Z),pe})();class Se extends ye{constructor(H,Z){super(),this.destination=H,this.source=Z}next(H){var Z,oe;null===(oe=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===oe||oe.call(Z,H)}error(H){var Z,oe;null===(oe=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===oe||oe.call(Z,H)}complete(){var H,Z;null===(Z=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===Z||Z.call(H)}_subscribe(H){var Z,oe;return null!==(oe=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(H))&&void 0!==oe?oe:$.Lc}}},305:(lt,De,x)=>{x.d(De,{Hp:()=>Pe,Lv:()=>oe});var l=x(4674),$=x(7394),R=x(2653),ee=x(3894),ae=x(2420);const de=pe("C",void 0,void 0);function pe(re,be,ce){return{kind:re,value:be,error:ce}}var H=x(7599),Z=x(1441);class oe extends $.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,$.Nn)(be)&&be.add(this)):this.destination=ot}static create(be,ce,we){return new Pe(be,ce,we)}next(be){this.isStopped?ht(function Se(re){return pe("N",re,void 0)}(be),this):this._next(be)}error(be){this.isStopped?ht(function ye(re){return pe("E",void 0,re)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?ht(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Oe(re,be){return Ue.call(re,be)}class ze{constructor(be){this.partialObserver=be}next(be){const{partialObserver:ce}=this;if(ce.next)try{ce.next(be)}catch(we){qe(we)}}error(be){const{partialObserver:ce}=this;if(ce.error)try{ce.error(be)}catch(we){qe(we)}else qe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(ce){qe(ce)}}}class Pe extends oe{constructor(be,ce,we){let Be;if(super(),(0,l.m)(be)||!be)Be={next:be??void 0,error:ce??void 0,complete:we??void 0};else{let G;this&&R.config.useDeprecatedNextContext?(G=Object.create(be),G.unsubscribe=()=>this.unsubscribe(),Be={next:be.next&&Oe(be.next,G),error:be.error&&Oe(be.error,G),complete:be.complete&&Oe(be.complete,G)}):Be=be}this.destination=new ze(Be)}}function qe(re){R.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(re):(0,ee.h)(re)}function ht(re,be){const{onStoppedNotification:ce}=R.config;ce&&H.z.setTimeout(()=>ce(re,be))}const ot={closed:!0,next:ae.Z,error:function Me(re){throw re},complete:ae.Z}},7394:(lt,De,x)=>{x.d(De,{Lc:()=>de,w0:()=>ae,Nn:()=>ye});var l=x(4674);const R=(0,x(2306).d)(pe=>function(Z){pe(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((oe,Ue)=>`${Ue+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var ee=x(9039);class ae{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Oe of Z)Oe.remove(this);else Z.remove(this);const{initialTeardown:oe}=this;if((0,l.m)(oe))try{oe()}catch(Oe){H=Oe instanceof R?Oe.errors:[Oe]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Oe of Ue)try{Se(Oe)}catch(ze){H=H??[],ze instanceof R?H=[...H,...ze.errors]:H.push(ze)}}if(H)throw new R(H)}}add(H){var Z;if(H&&H!==this)if(this.closed)Se(H);else{if(H instanceof ae){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(H)}}_hasParent(H){const{_parentage:Z}=this;return Z===H||Array.isArray(Z)&&Z.includes(H)}_addParent(H){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(H),Z):Z?[Z,H]:H}_removeParent(H){const{_parentage:Z}=this;Z===H?this._parentage=null:Array.isArray(Z)&&(0,ee.P)(Z,H)}remove(H){const{_finalizers:Z}=this;Z&&(0,ee.P)(Z,H),H instanceof ae&&H._removeParent(this)}}ae.EMPTY=(()=>{const pe=new ae;return pe.closed=!0,pe})();const de=ae.EMPTY;function ye(pe){return pe instanceof ae||pe&&"closed"in pe&&(0,l.m)(pe.remove)&&(0,l.m)(pe.add)&&(0,l.m)(pe.unsubscribe)}function Se(pe){(0,l.m)(pe)?pe():pe.unsubscribe()}},2653:(lt,De,x)=>{x.d(De,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(lt,De,x)=>{x.d(De,{E:()=>$});const $=new(x(5592).y)(ae=>ae.complete())},2459:(lt,De,x)=>{x.d(De,{D:()=>be});var l=x(4829),$=x(3093),R=x(5137),de=x(5592),Se=x(4971),pe=x(4674),H=x(7103);function oe(ce,we){if(!ce)throw new Error("Iterable cannot be null");return new de.y(Be=>{(0,H.f)(Be,we,()=>{const G=ce[Symbol.asyncIterator]();(0,H.f)(Be,we,()=>{G.next().then(Ne=>{Ne.done?Be.complete():Be.next(Ne.value)})},0,!0)})})}var Ue=x(8382),Oe=x(4026),ze=x(4266),Pe=x(3664),qe=x(5726),Me=x(9853),ht=x(541);function be(ce,we){return we?function re(ce,we){if(null!=ce){if((0,Ue.c)(ce))return function ee(ce,we){return(0,l.Xf)(ce).pipe((0,R.R)(we),(0,$.Q)(we))}(ce,we);if((0,ze.z)(ce))return function ye(ce,we){return new de.y(Be=>{let G=0;return we.schedule(function(){G===ce.length?Be.complete():(Be.next(ce[G++]),Be.closed||this.schedule())})})}(ce,we);if((0,Oe.t)(ce))return function ae(ce,we){return(0,l.Xf)(ce).pipe((0,R.R)(we),(0,$.Q)(we))}(ce,we);if((0,qe.D)(ce))return oe(ce,we);if((0,Pe.T)(ce))return function Z(ce,we){return new de.y(Be=>{let G;return(0,H.f)(Be,we,()=>{G=ce[Se.h](),(0,H.f)(Be,we,()=>{let Ne,Ge;try{({value:Ne,done:Ge}=G.next())}catch(mt){return void Be.error(mt)}Ge?Be.complete():Be.next(Ne)},0,!0)}),()=>(0,pe.m)(G?.return)&&G.return()})}(ce,we);if((0,ht.L)(ce))return function ot(ce,we){return oe((0,ht.Q)(ce),we)}(ce,we)}throw(0,Me.z)(ce)}(ce,we):(0,l.Xf)(ce)}},4829:(lt,De,x)=>{x.d(De,{Xf:()=>Ue});var l=x(7582),$=x(4266),R=x(4026),ee=x(5592),ae=x(8382),de=x(5726),ye=x(9853),Se=x(3664),pe=x(541),H=x(4674),Z=x(3894),oe=x(4850);function Ue(re){if(re instanceof ee.y)return re;if(null!=re){if((0,ae.c)(re))return function Oe(re){return new ee.y(be=>{const ce=re[oe.L]();if((0,H.m)(ce.subscribe))return ce.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,$.z)(re))return function ze(re){return new ee.y(be=>{for(let ce=0;ce<re.length&&!be.closed;ce++)be.next(re[ce]);be.complete()})}(re);if((0,R.t)(re))return function Pe(re){return new ee.y(be=>{re.then(ce=>{be.closed||(be.next(ce),be.complete())},ce=>be.error(ce)).then(null,Z.h)})}(re);if((0,de.D)(re))return Me(re);if((0,Se.T)(re))return function qe(re){return new ee.y(be=>{for(const ce of re)if(be.next(ce),be.closed)return;be.complete()})}(re);if((0,pe.L)(re))return function ht(re){return Me((0,pe.Q)(re))}(re)}throw(0,ye.z)(re)}function Me(re){return new ee.y(be=>{(function ot(re,be){var ce,we,Be,G;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ce=(0,l.KL)(re);!(we=yield ce.next()).done;)if(be.next(we.value),be.closed)return}catch(Ne){Be={error:Ne}}finally{try{we&&!we.done&&(G=ce.return)&&(yield G.call(ce))}finally{if(Be)throw Be.error}}be.complete()})})(re,be).catch(ce=>be.error(ce))})}},3019:(lt,De,x)=>{x.d(De,{T:()=>de});var l=x(7537),$=x(4829),R=x(6232),ee=x(9940),ae=x(2459);function de(...ye){const Se=(0,ee.yG)(ye),pe=(0,ee._6)(ye,1/0),H=ye;return H.length?1===H.length?(0,$.Xf)(H[0]):(0,l.J)(pe)((0,ae.D)(H,Se)):R.E}},2096:(lt,De,x)=>{x.d(De,{of:()=>R});var l=x(9940),$=x(2459);function R(...ee){const ae=(0,l.yG)(ee);return(0,$.D)(ee,ae)}},8251:(lt,De,x)=>{x.d(De,{x:()=>$});var l=x(305);function $(ee,ae,de,ye,Se){return new R(ee,ae,de,ye,Se)}class R extends l.Lv{constructor(ae,de,ye,Se,pe,H){super(ae),this.onFinalize=pe,this.shouldUnsubscribe=H,this._next=de?function(Z){try{de(Z)}catch(oe){ae.error(oe)}}:super._next,this._error=Se?function(Z){try{Se(Z)}catch(oe){ae.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=ye?function(){try{ye()}catch(Z){ae.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},3997:(lt,De,x)=>{x.d(De,{x:()=>ee});var l=x(2737),$=x(9360),R=x(8251);function ee(de,ye=l.y){return de=de??ae,(0,$.e)((Se,pe)=>{let H,Z=!0;Se.subscribe((0,R.x)(pe,oe=>{const Ue=ye(oe);(Z||!de(H,Ue))&&(Z=!1,H=Ue,pe.next(oe))}))})}function ae(de,ye){return de===ye}},7398:(lt,De,x)=>{x.d(De,{U:()=>R});var l=x(9360),$=x(8251);function R(ee,ae){return(0,l.e)((de,ye)=>{let Se=0;de.subscribe((0,$.x)(ye,pe=>{ye.next(ee.call(ae,pe,Se++))}))})}},7537:(lt,De,x)=>{x.d(De,{J:()=>R});var l=x(1631),$=x(2737);function R(ee=1/0){return(0,l.z)($.y,ee)}},1631:(lt,De,x)=>{x.d(De,{z:()=>Se});var l=x(7398),$=x(4829),R=x(9360),ee=x(7103),ae=x(8251),ye=x(4674);function Se(pe,H,Z=1/0){return(0,ye.m)(H)?Se((oe,Ue)=>(0,l.U)((Oe,ze)=>H(oe,Oe,Ue,ze))((0,$.Xf)(pe(oe,Ue))),Z):("number"==typeof H&&(Z=H),(0,R.e)((oe,Ue)=>function de(pe,H,Z,oe,Ue,Oe,ze,Pe){const qe=[];let Me=0,ht=0,ot=!1;const re=()=>{ot&&!qe.length&&!Me&&H.complete()},be=we=>Me<oe?ce(we):qe.push(we),ce=we=>{Oe&&H.next(we),Me++;let Be=!1;(0,$.Xf)(Z(we,ht++)).subscribe((0,ae.x)(H,G=>{Ue?.(G),Oe?be(G):H.next(G)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Me--;qe.length&&Me<oe;){const G=qe.shift();ze?(0,ee.f)(H,ze,()=>ce(G)):ce(G)}re()}catch(G){H.error(G)}}))};return pe.subscribe((0,ae.x)(H,be,()=>{ot=!0,re()})),()=>{Pe?.()}}(oe,Ue,pe,Z)))}},3093:(lt,De,x)=>{x.d(De,{Q:()=>ee});var l=x(7103),$=x(9360),R=x(8251);function ee(ae,de=0){return(0,$.e)((ye,Se)=>{ye.subscribe((0,R.x)(Se,pe=>(0,l.f)(Se,ae,()=>Se.next(pe),de),()=>(0,l.f)(Se,ae,()=>Se.complete(),de),pe=>(0,l.f)(Se,ae,()=>Se.error(pe),de)))})}},3020:(lt,De,x)=>{x.d(De,{B:()=>ae});var l=x(4829),$=x(8645),R=x(305),ee=x(9360);function ae(ye={}){const{connector:Se=(()=>new $.x),resetOnError:pe=!0,resetOnComplete:H=!0,resetOnRefCountZero:Z=!0}=ye;return oe=>{let Ue,Oe,ze,Pe=0,qe=!1,Me=!1;const ht=()=>{Oe?.unsubscribe(),Oe=void 0},ot=()=>{ht(),Ue=ze=void 0,qe=Me=!1},re=()=>{const be=Ue;ot(),be?.unsubscribe()};return(0,ee.e)((be,ce)=>{Pe++,!Me&&!qe&&ht();const we=ze=ze??Se();ce.add(()=>{Pe--,0===Pe&&!Me&&!qe&&(Oe=de(re,Z))}),we.subscribe(ce),!Ue&&Pe>0&&(Ue=new R.Hp({next:Be=>we.next(Be),error:Be=>{Me=!0,ht(),Oe=de(ot,pe,Be),we.error(Be)},complete:()=>{qe=!0,ht(),Oe=de(ot,H),we.complete()}}),(0,l.Xf)(be).subscribe(Ue))})(oe)}}function de(ye,Se,...pe){if(!0===Se)return void ye();if(!1===Se)return;const H=new R.Hp({next:()=>{H.unsubscribe(),ye()}});return(0,l.Xf)(Se(...pe)).subscribe(H)}},5137:(lt,De,x)=>{x.d(De,{R:()=>$});var l=x(9360);function $(R,ee=0){return(0,l.e)((ae,de)=>{de.add(R.schedule(()=>ae.subscribe(de),ee))})}},4664:(lt,De,x)=>{x.d(De,{w:()=>ee});var l=x(4829),$=x(9360),R=x(8251);function ee(ae,de){return(0,$.e)((ye,Se)=>{let pe=null,H=0,Z=!1;const oe=()=>Z&&!pe&&Se.complete();ye.subscribe((0,R.x)(Se,Ue=>{pe?.unsubscribe();let Oe=0;const ze=H++;(0,l.Xf)(ae(Ue,ze)).subscribe(pe=(0,R.x)(Se,Pe=>Se.next(de?de(Ue,Pe,ze,Oe++):Pe),()=>{pe=null,oe()}))},()=>{Z=!0,oe()}))})}},9397:(lt,De,x)=>{x.d(De,{b:()=>ae});var l=x(4674),$=x(9360),R=x(8251),ee=x(2737);function ae(de,ye,Se){const pe=(0,l.m)(de)||ye||Se?{next:de,error:ye,complete:Se}:de;return pe?(0,$.e)((H,Z)=>{var oe;null===(oe=pe.subscribe)||void 0===oe||oe.call(pe);let Ue=!0;H.subscribe((0,R.x)(Z,Oe=>{var ze;null===(ze=pe.next)||void 0===ze||ze.call(pe,Oe),Z.next(Oe)},()=>{var Oe;Ue=!1,null===(Oe=pe.complete)||void 0===Oe||Oe.call(pe),Z.complete()},Oe=>{var ze;Ue=!1,null===(ze=pe.error)||void 0===ze||ze.call(pe,Oe),Z.error(Oe)},()=>{var Oe,ze;Ue&&(null===(Oe=pe.unsubscribe)||void 0===Oe||Oe.call(pe)),null===(ze=pe.finalize)||void 0===ze||ze.call(pe)}))}):ee.y}},1954:(lt,De,x)=>{x.d(De,{o:()=>ae});var l=x(7394);class $ extends l.w0{constructor(ye,Se){super()}schedule(ye,Se=0){return this}}const R={setInterval(de,ye,...Se){const{delegate:pe}=R;return pe?.setInterval?pe.setInterval(de,ye,...Se):setInterval(de,ye,...Se)},clearInterval(de){const{delegate:ye}=R;return(ye?.clearInterval||clearInterval)(de)},delegate:void 0};var ee=x(9039);class ae extends ${constructor(ye,Se){super(ye,Se),this.scheduler=ye,this.work=Se,this.pending=!1}schedule(ye,Se=0){var pe;if(this.closed)return this;this.state=ye;const H=this.id,Z=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(Z,H,Se)),this.pending=!0,this.delay=Se,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(Z,this.id,Se),this}requestAsyncId(ye,Se,pe=0){return R.setInterval(ye.flush.bind(ye,this),pe)}recycleAsyncId(ye,Se,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return Se;null!=Se&&R.clearInterval(Se)}execute(ye,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(ye,Se);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ye,Se){let H,pe=!1;try{this.work(ye)}catch(Z){pe=!0,H=Z||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ye,scheduler:Se}=this,{actions:pe}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(pe,this),null!=ye&&(this.id=this.recycleAsyncId(Se,ye,null)),this.delay=null,super.unsubscribe()}}}},2631:(lt,De,x)=>{x.d(De,{v:()=>R});var l=x(4552);class ${constructor(ae,de=$.now){this.schedulerActionCtor=ae,this.now=de}schedule(ae,de=0,ye){return new this.schedulerActionCtor(this,ae).schedule(ye,de)}}$.now=l.l.now;class R extends ${constructor(ae,de=$.now){super(ae,de),this.actions=[],this._active=!1}flush(ae){const{actions:de}=this;if(this._active)return void de.push(ae);let ye;this._active=!0;do{if(ye=ae.execute(ae.state,ae.delay))break}while(ae=de.shift());if(this._active=!1,ye){for(;ae=de.shift();)ae.unsubscribe();throw ye}}}},6321:(lt,De,x)=>{x.d(De,{P:()=>ee,z:()=>R});var l=x(1954);const R=new(x(2631).v)(l.o),ee=R},4552:(lt,De,x)=>{x.d(De,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(lt,De,x)=>{x.d(De,{z:()=>l});const l={setTimeout($,R,...ee){const{delegate:ae}=l;return ae?.setTimeout?ae.setTimeout($,R,...ee):setTimeout($,R,...ee)},clearTimeout($){const{delegate:R}=l;return(R?.clearTimeout||clearTimeout)($)},delegate:void 0}},4971:(lt,De,x)=>{x.d(De,{h:()=>$});const $=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(lt,De,x)=>{x.d(De,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(lt,De,x)=>{x.d(De,{_6:()=>de,jO:()=>ee,yG:()=>ae});var l=x(4674),$=x(671);function R(ye){return ye[ye.length-1]}function ee(ye){return(0,l.m)(R(ye))?ye.pop():void 0}function ae(ye){return(0,$.K)(R(ye))?ye.pop():void 0}function de(ye,Se){return"number"==typeof R(ye)?ye.pop():Se}},9039:(lt,De,x)=>{function l($,R){if($){const ee=$.indexOf(R);0<=ee&&$.splice(ee,1)}}x.d(De,{P:()=>l})},2306:(lt,De,x)=>{function l($){const ee=$(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}x.d(De,{d:()=>l})},1441:(lt,De,x)=>{x.d(De,{O:()=>ee,x:()=>R});var l=x(2653);let $=null;function R(ae){if(l.config.useDeprecatedSynchronousErrorHandling){const de=!$;if(de&&($={errorThrown:!1,error:null}),ae(),de){const{errorThrown:ye,error:Se}=$;if($=null,ye)throw Se}}else ae()}function ee(ae){l.config.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ae)}},7103:(lt,De,x)=>{function l($,R,ee,ae=0,de=!1){const ye=R.schedule(function(){ee(),de?$.add(this.schedule(null,ae)):this.unsubscribe()},ae);if($.add(ye),!de)return ye}x.d(De,{f:()=>l})},2737:(lt,De,x)=>{function l($){return $}x.d(De,{y:()=>l})},4266:(lt,De,x)=>{x.d(De,{z:()=>l});const l=$=>$&&"number"==typeof $.length&&"function"!=typeof $},5726:(lt,De,x)=>{x.d(De,{D:()=>$});var l=x(4674);function $(R){return Symbol.asyncIterator&&(0,l.m)(R?.[Symbol.asyncIterator])}},4674:(lt,De,x)=>{function l($){return"function"==typeof $}x.d(De,{m:()=>l})},8382:(lt,De,x)=>{x.d(De,{c:()=>R});var l=x(4850),$=x(4674);function R(ee){return(0,$.m)(ee[l.L])}},3664:(lt,De,x)=>{x.d(De,{T:()=>R});var l=x(4971),$=x(4674);function R(ee){return(0,$.m)(ee?.[l.h])}},4026:(lt,De,x)=>{x.d(De,{t:()=>$});var l=x(4674);function $(R){return(0,l.m)(R?.then)}},541:(lt,De,x)=>{x.d(De,{L:()=>ee,Q:()=>R});var l=x(7582),$=x(4674);function R(ae){return(0,l.FC)(this,arguments,function*(){const ye=ae.getReader();try{for(;;){const{value:Se,done:pe}=yield(0,l.qq)(ye.read());if(pe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Se)}}finally{ye.releaseLock()}})}function ee(ae){return(0,$.m)(ae?.getReader)}},671:(lt,De,x)=>{x.d(De,{K:()=>$});var l=x(4674);function $(R){return R&&(0,l.m)(R.schedule)}},9360:(lt,De,x)=>{x.d(De,{A:()=>$,e:()=>R});var l=x(4674);function $(ee){return(0,l.m)(ee?.lift)}function R(ee){return ae=>{if($(ae))return ae.lift(function(de){try{return ee(de,this)}catch(ye){this.error(ye)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(lt,De,x)=>{function l(){}x.d(De,{Z:()=>l})},8407:(lt,De,x)=>{x.d(De,{U:()=>R,z:()=>$});var l=x(2737);function $(...ee){return R(ee)}function R(ee){return 0===ee.length?l.y:1===ee.length?ee[0]:function(de){return ee.reduce((ye,Se)=>Se(ye),de)}}},3894:(lt,De,x)=>{x.d(De,{h:()=>R});var l=x(2653),$=x(7599);function R(ee){$.z.setTimeout(()=>{const{onUnhandledError:ae}=l.config;if(!ae)throw ee;ae(ee)})}},9853:(lt,De,x)=>{function l($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(De,{z:()=>l})},5879:(lt,De,x)=>{x.d(De,{$8M:()=>hd,$WT:()=>Eo,$Z:()=>Ut,AFp:()=>q_,AaK:()=>oe,BQk:()=>tm,CHM:()=>Zi,CRH:()=>t0,EJc:()=>tS,EpF:()=>nh,F$t:()=>VE,F4k:()=>ih,FYo:()=>Wb,FiY:()=>fe,Gf:()=>lD,GfV:()=>iv,Gpc:()=>ze,HDt:()=>bh,Hsn:()=>jf,Ikx:()=>Dy,JOm:()=>tf,KtG:()=>xc,LFG:()=>Ke,LMc:()=>RS,Lbi:()=>K_,Lck:()=>Ly,MAs:()=>Lf,MGl:()=>dr,MMx:()=>Uy,MR2:()=>wg,NdJ:()=>Xv,Ojb:()=>bT,OlP:()=>B,Oqu:()=>uh,P3R:()=>Pb,PXZ:()=>LD,Q6J:()=>Ra,QGY:()=>Ts,Qsj:()=>PT,R0b:()=>Zt,RDi:()=>Db,Rgc:()=>sp,SBq:()=>ys,SDv:()=>Py,Sil:()=>CD,Suo:()=>cD,TTD:()=>il,TgZ:()=>Qg,Tol:()=>JE,VKq:()=>Sm,VuI:()=>MS,W1O:()=>dD,WLB:()=>Uw,X6Q:()=>GD,XFs:()=>Xe,Xpm:()=>Ga,Xq5:()=>Fv,Xts:()=>kl,Y36:()=>jo,YKP:()=>wm,YNc:()=>OE,Yjl:()=>mc,Yz7:()=>ft,Z0I:()=>X,ZZ4:()=>D0,_Bn:()=>Em,_UZ:()=>Xg,_c5:()=>CS,_uU:()=>nw,aQg:()=>C0,c2e:()=>l0,cJS:()=>bn,cg1:()=>hw,dDg:()=>xD,dqk:()=>Ct,eFA:()=>yp,eJc:()=>lp,ekj:()=>uy,eoX:()=>Ym,f3M:()=>it,g9A:()=>Vb,h0i:()=>ka,hGG:()=>e_,hij:()=>Xl,iGM:()=>aD,ifc:()=>Tr,ip1:()=>DD,jDz:()=>Tm,kEZ:()=>jw,kL8:()=>fw,lG2:()=>bo,lqb:()=>Vo,lri:()=>OD,n5z:()=>xr,oAB:()=>gc,oxw:()=>Xr,q4F:()=>zb,qFp:()=>cC,qLn:()=>Ta,qOj:()=>Ov,qZA:()=>Eu,rWj:()=>PD,rg0:()=>Ac,s9C:()=>im,sBO:()=>_N,s_b:()=>ph,soG:()=>Zo,tb:()=>vp,tp0:()=>nt,uIk:()=>zg,vHH:()=>re,vpe:()=>Es,wAp:()=>hh,xp6:()=>cu,ynx:()=>em,z2F:()=>Ch,zSh:()=>Si,zW0:()=>wE,zs3:()=>bs});var l=x(8645),$=x(7394),R=x(5592),ee=x(3019),ae=x(5619),de=x(2096),ye=x(3020),Se=x(4664),pe=x(3997);function H(r){for(let s in r)if(r[s]===H)return s;throw Error("Could not find renamed property on target object.")}function Z(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function oe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(oe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ue(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Oe=H({__forward_ref__:H});function ze(r){return r.__forward_ref__=ze,r.toString=function(){return oe(this())},r}function Pe(r){return qe(r)?r():r}function qe(r){return"function"==typeof r&&r.hasOwnProperty(Oe)&&r.__forward_ref__===ze}function Me(r){return r&&!!r.\u0275providers}const ot="https://g.co/ng/security#xss";class re extends Error{constructor(s,a){super(function be(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function ce(r){return"string"==typeof r?r:null==r?"":String(r)}function Ge(r,s){throw new re(-201,!1)}function We(r,s,a,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}function ft(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function bn(r){return{providers:r.providers||[],imports:r.imports||[]}}function pn(r){return J(r,je)||J(r,rn)}function X(r){return null!==pn(r)}function J(r,s){return r.hasOwnProperty(s)?r[s]:null}function Ce(r){return r&&(r.hasOwnProperty(Ze)||r.hasOwnProperty(jt))?r[Ze]:null}const je=H({\u0275prov:H}),Ze=H({\u0275inj:H}),rn=H({ngInjectableDef:H}),jt=H({ngInjectorDef:H});var Xe=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Xe||{});let st;function Ot(r){const s=st;return st=r,s}function wn(r,s,a){const c=pn(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&Xe.Optional?null:void 0!==s?s:void Ge(oe(r))}const Ct=globalThis,$e={},at="__NG_DI_FLAG__",pt="ngTempTokenPath",z=/\n/gm,k="__source";let F;function ne(r){const s=F;return F=r,s}function Re(r,s=Xe.Default){if(void 0===F)throw new re(-203,!1);return null===F?wn(r,void 0,s):F.get(r,s&Xe.Optional?null:void 0,s)}function Ke(r,s=Xe.Default){return(function wt(){return st}()||Re)(Pe(r),s)}function it(r,s=Xe.Default){return Ke(r,cn(s))}function cn(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Rt(r){const s=[];for(let a=0;a<r.length;a++){const c=Pe(r[a]);if(Array.isArray(c)){if(0===c.length)throw new re(900,!1);let d,f=Xe.Default;for(let m=0;m<c.length;m++){const v=c[m],D=Bt(v);"number"==typeof D?-1===D?d=v.token:f|=D:d=v}s.push(Ke(d,f))}else s.push(Ke(c))}return s}function _n(r,s){return r[at]=s,r.prototype[at]=s,r}function Bt(r){return r[at]}function Hr(r){return{toString:r}.toString()}var Cr=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Cr||{}),Tr=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Tr||{});const rr={},Xt=[],is=H({\u0275cmp:H}),mo=H({\u0275dir:H}),ja=H({\u0275pipe:H}),Ha=H({\u0275mod:H}),$r=H({\u0275fac:H}),_o=H({__NG_ELEMENT_ID__:H}),vo=H({__NG_ENV_ID__:H});function dc(r,s,a){let c=r.length;for(;;){const d=r.indexOf(s,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||r.charCodeAt(d+f)<=32)return d}a=d+1}}function yo(r,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const f=a[c++],m=a[c++],v=a[c++];r.setAttribute(s,m,v,f)}else{const f=d,m=a[++c];ks(f)?r.setProperty(s,f,m):r.setAttribute(s,f,m),c++}}return c}function Gr(r){return 3===r||4===r||6===r}function ks(r){return 64===r.charCodeAt(0)}function Qo(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||sr(r,a,d,null,-1===a||2===a?s[++c]:null)}}return r}function sr(r,s,a,c,d){let f=0,m=r.length;if(-1===s)m=-1;else for(;f<r.length;){const v=r[f++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=f-1;break}}}for(;f<r.length;){const v=r[f];if("number"==typeof v)break;if(v===a){if(null===c)return void(null!==d&&(r[f+1]=d));if(c===r[f+1])return void(r[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==m&&(r.splice(m,0,s),f=m+1),r.splice(f++,0,a),null!==c&&r.splice(f++,0,c),null!==d&&r.splice(f++,0,d)}const Fn="ng-template";function jp(r,s,a){let c=0,d=!0;for(;c<r.length;){let f=r[c++];if("string"==typeof f&&d){const m=r[c++];if(a&&"class"===f&&-1!==dc(m.toLowerCase(),s,0))return!0}else{if(1===f){for(;c<r.length&&"string"==typeof(f=r[c++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function gr(r){return 4===r.type&&r.value!==Fn}function Hp(r,s,a){return s===(4!==r.type||a?r.value:Fn)}function ku(r,s,a){let c=4;const d=r.attrs||[],f=function ea(r){for(let s=0;s<r.length;s++)if(Gr(r[s]))return s;return r.length}(d);let m=!1;for(let v=0;v<s.length;v++){const D=s[v];if("number"!=typeof D){if(!m)if(4&c){if(c=2|1&c,""!==D&&!Hp(r,D,a)||""===D&&1===s.length){if(Li(c))return!1;m=!0}}else{const I=8&c?D:s[++v];if(8&c&&null!==r.attrs){if(!jp(r.attrs,I,a)){if(Li(c))return!1;m=!0}continue}const j=Xo(8&c?"class":D,d,gr(r),a);if(-1===j){if(Li(c))return!1;m=!0;continue}if(""!==I){let K;K=j>f?"":d[j+1].toLowerCase();const se=8&c?K:null;if(se&&-1!==dc(se,I,0)||2&c&&I!==K){if(Li(c))return!1;m=!0}}}}else{if(!m&&!Li(c)&&!Li(D))return!1;if(m&&Li(D))continue;m=!1,c=D|1&c}}return Li(c)||m}function Li(r){return 0==(1&r)}function Xo(r,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const m=s[d];if(m===r)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let v=s[++d];for(;"string"==typeof v;)v=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function hc(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const c=r[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,r)}function $a(r,s,a=!1){for(let c=0;c<s.length;c++)if(ku(r,s[c],a))return!0;return!1}function fc(r,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(r.length===c.length){for(let d=0;d<r.length;d++)if(r[d]!==c[d])continue e;return!0}}return!1}function ta(r,s){return r?":not("+s.trim()+")":s}function Wr(r){let s=r[0],a=1,c=2,d="",f=!1;for(;a<r.length;){let m=r[a];if("string"==typeof m)if(2&c){const v=r[++a];d+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!Li(m)&&(s+=ta(f,d),d=""),c=m,f=f||!Li(c);a++}return""!==d&&(s+=ta(f,d)),s}function Ga(r){return Hr(()=>{const s=Rh(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Cr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Tr.Emulated,styles:r.styles||Xt,_:null,schemas:r.schemas||null,tView:null,id:""};_c(a);const c=r.dependencies;return a.directiveDefs=Fs(c,!1),a.pipeDefs=Fs(c,!0),a.id=function wo(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Wa(r){return Kt(r)||Jn(r)}function pc(r){return null!==r}function gc(r){return Hr(()=>({type:r.type,bootstrap:r.bootstrap||Xt,declarations:r.declarations||Xt,imports:r.imports||Xt,exports:r.exports||Xt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Za(r,s){if(null==r)return rr;const a={};for(const c in r)if(r.hasOwnProperty(c)){let d=r[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}function bo(r){return Hr(()=>{const s=Rh(r);return _c(s),s})}function mc(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Kt(r){return r[is]||null}function Jn(r){return r[mo]||null}function ci(r){return r[ja]||null}function Eo(r){const s=Kt(r)||Jn(r)||ci(r);return null!==s&&s.standalone}function ui(r,s){const a=r[Ha]||null;if(!a&&!0===s)throw new Error(`Type ${oe(r)} does not have '\u0275mod' property.`);return a}function Rh(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||rr,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Xt,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Za(r.inputs,s),outputs:Za(r.outputs)}}function _c(r){r.features?.forEach(s=>s(r))}function Fs(r,s){if(!r)return null;const a=s?ci:Wa;return()=>("function"==typeof r?r():r).map(c=>a(c)).filter(pc)}const Ln=0,et=1,Pt=2,Dn=3,$i=4,zr=5,Mi=6,Ls=7,Bn=8,Zr=9,ss=10,bt=11,mr=12,Oh=13,or=14,Qn=15,Do=16,Gi=17,Ri=18,os=19,Ya=20,Bs=21,ar=22,qa=23,Wi=24,Wt=25,yc=1,Co=2,di=7,as=9,Xn=11;function Ei(r){return Array.isArray(r)&&"object"==typeof r[yc]}function wi(r){return Array.isArray(r)&&!0===r[yc]}function bc(r){return 0!=(4&r.flags)}function Yr(r){return r.componentOffset>-1}function zi(r){return 1==(1&r.flags)}function Vi(r){return!!r.template}function Us(r){return 0!=(512&r[Pt])}function qr(r,s){return r.hasOwnProperty($r)?r[$r]:null}let zn=null,ia=!1;function Di(r){const s=zn;return zn=r,s}const ra={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Cc(r){if(!aa(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Uh(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Tc(r){r.dirty=!0,function Vu(r){if(void 0===r.liveConsumerNode)return;const s=ia;ia=!0;try{for(const a of r.liveConsumerNode)a.dirty||Tc(a)}finally{ia=s}}(r),r.consumerMarkedDirty?.(r)}function Uu(r){return r&&(r.nextProducerIndex=0),Di(r)}function Zn(r,s){if(Di(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(aa(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)js(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Uh(r){Ir(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],c=r.producerLastReadVersion[s];if(c!==a.version||(Cc(a),c!==a.version))return!0}return!1}function oa(r){if(Ir(r),aa(r))for(let s=0;s<r.producerNode.length;s++)js(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function js(r,s){if(function Ic(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Ir(r),1===r.liveConsumerNode.length)for(let c=0;c<r.producerNode.length;c++)js(r.producerNode[c],r.producerIndexOfThis[c]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const c=r.liveConsumerIndexOfThis[s],d=r.liveConsumerNode[s];Ir(d),d.producerIndexOfThis[c]=s}}function aa(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Ir(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Gu=null;function Ac(r){const s=Di(null);try{return r()}finally{Di(s)}}const Nc=()=>{},Zp=(()=>({...ra,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Nc}))();class Gh{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function il(){return da}function da(r){return r.type.prototype.ngOnChanges&&(r.setInput=yr),rl}function rl(){const r=ha(this),s=r?.current;if(s){const a=r.previous;if(a===rr)r.previous=s;else for(let c in s)a[c]=s[c];r.current=null,this.ngOnChanges(s)}}function yr(r,s,a,c){const d=this.declaredInputs[a],f=ha(r)||function Yu(r,s){return r[So]=s}(r,{previous:rr,current:null}),m=f.current||(f.current={}),v=f.previous,D=v[d];m[d]=new Gh(D&&D.currentValue,s,v===rr),r[c]=s}il.ngInherit=!0;const So="__ngSimpleChanges__";function ha(r){return r[So]||null}const lr=function(r,s,a){};function hn(r){for(;Array.isArray(r);)r=r[Ln];return r}function Sr(r,s){return hn(s[r])}function Oi(r,s){return hn(s[r.index])}function Rc(r,s){return r.data[s]}function Ci(r,s){const a=s[r];return Ei(a)?a:a[Ln]}function $s(r,s){return null==s?null:r[s]}function Wh(r){r[Gi]=0}function Gs(r){1024&r[Pt]||(r[Pt]|=1024,ei(r,1))}function Kp(r){1024&r[Pt]&&(r[Pt]&=-1025,ei(r,-1))}function ei(r,s){let a=r[Dn];if(null===a)return;a[zr]+=s;let c=a;for(a=a[Dn];null!==a&&(1===s&&1===c[zr]||-1===s&&0===c[zr]);)a[zr]+=s,c=a,a=a[Dn]}const St={lFrame:hl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Yn(){return St.bindingsEnabled}function us(){return null!==St.skipHydrationRootTNode}function xe(){return St.lFrame.lView}function en(){return St.lFrame.tView}function Zi(r){return St.lFrame.contextLView=r,r[Bn]}function xc(r){return St.lFrame.contextLView=null,r}function hi(){let r=cl();for(;null!==r&&64===r.type;)r=r.parent;return r}function cl(){return St.lFrame.currentTNode}function ga(){const r=St.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function Ar(r,s){const a=St.lFrame;a.currentTNode=r,a.isParent=s}function ed(){return St.lFrame.isParent}function kc(){St.lFrame.isParent=!1}function fi(){const r=St.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function Ws(){return St.lFrame.bindingIndex++}function Mr(r){const s=St.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function nd(r){St.lFrame.inI18n=r}function ul(r,s){const a=St.lFrame;a.bindingIndex=a.bindingRootIndex=r,dl(s)}function dl(r){St.lFrame.currentDirectiveIndex=r}function Bc(){return St.lFrame.currentQueryIndex}function id(r){St.lFrame.currentQueryIndex=r}function rd(r){const s=r[et];return 2===s.type?s.declTNode:1===s.type?r[Mi]:null}function Vc(r,s,a){if(a&Xe.SkipSelf){let d=s,f=r;for(;!(d=d.parent,null!==d||a&Xe.Host||(d=rd(f),null===d||(f=f[or],10&d.type))););if(null===d)return!1;s=d,r=f}const c=St.lFrame=ri();return c.currentTNode=s,c.lView=r,!0}function Pn(r){const s=ri(),a=r[et];St.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function ri(){const r=St.lFrame,s=null===r?null:r.child;return null===s?hl(r):s}function hl(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function fl(){const r=St.lFrame;return St.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const pl=fl;function zs(){const r=fl();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Nn(){return St.lFrame.selectedIndex}function pi(r){St.lFrame.selectedIndex=r}function Vt(){const r=St.lFrame;return Rc(r.tView,r.selectedIndex)}let Zs=!0;function Ys(){return Zs}function Pi(r){Zs=r}function ds(r,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=r.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:D,ngAfterViewChecked:I,ngOnDestroy:M}=f;m&&(r.contentHooks??=[]).push(-a,m),v&&((r.contentHooks??=[]).push(a,v),(r.contentCheckHooks??=[]).push(a,v)),D&&(r.viewHooks??=[]).push(-a,D),I&&((r.viewHooks??=[]).push(a,I),(r.viewCheckHooks??=[]).push(a,I)),null!=M&&(r.destroyHooks??=[]).push(a,M)}}function vl(r,s,a){Hc(r,s,3,a)}function Ro(r,s,a,c){(3&r[Pt])===a&&Hc(r,s,a,c)}function jc(r,s){let a=r[Pt];(3&a)===s&&(a&=8191,a+=1,r[Pt]=a)}function Hc(r,s,a,c){const f=c??-1,m=s.length-1;let v=0;for(let D=void 0!==c?65535&r[Gi]:0;D<m;D++)if("number"==typeof s[D+1]){if(v=s[D],null!=c&&v>=c)break}else s[D]<0&&(r[Gi]+=65536),(v<f||-1==f)&&(hs(r,a,s,D),r[Gi]=(4294901760&r[Gi])+D+2),D++}function Or(r,s){lr(4,r,s);const a=Di(null);try{s.call(r)}finally{Di(a),lr(5,r,s)}}function hs(r,s,a,c){const d=a[c]<0,f=a[c+1],v=r[d?-a[c]:a[c]];d?r[Pt]>>13<r[Gi]>>16&&(3&r[Pt])===s&&(r[Pt]+=8192,Or(v,f)):Or(v,f)}const Yi=-1;class qn{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ma(r){return r!==Yi}function Ks(r){return 32767&r}function fs(r,s){let a=function bl(r){return r>>16}(r),c=s;for(;a>0;)c=c[or],a--;return c}let El=!0;function Js(r){const s=El;return El=r,s}const Gc=255,Wc=5;let ld=0;const qi={};function Qs(r,s){const a=Xs(r,s);if(-1!==a)return a;const c=s[et];c.firstCreatePass&&(r.injectorIndex=s.length,Oo(c.data,r),Oo(s,null),Oo(c.blueprint,null));const d=eo(r,s),f=r.injectorIndex;if(ma(d)){const m=Ks(d),v=fs(d,s),D=v[et].data;for(let I=0;I<8;I++)s[f+I]=v[m+I]|D[m+I]}return s[f+8]=d,f}function Oo(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Xs(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function eo(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=dd(d),null===c)return Yi;if(a++,d=d[or],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Yi}function to(r,s,a){!function _a(r,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(_o)&&(c=a[_o]),null==c&&(c=a[_o]=ld++);const d=c&Gc;s.data[r+(d>>Wc)]|=1<<d}(r,s,a)}function ps(r,s,a){if(a&Xe.Optional||void 0!==r)return r;Ge()}function va(r,s,a,c){if(a&Xe.Optional&&void 0===c&&(c=null),!(a&(Xe.Self|Xe.Host))){const d=r[Zr],f=Ot(void 0);try{return d?d.get(s,c,a&Xe.Optional):wn(s,c,a&Xe.Optional)}finally{Ot(f)}}return ps(c,0,a)}function xo(r,s,a,c=Xe.Default,d){if(null!==r){if(2048&s[Pt]&&!(c&Xe.Self)){const m=function v_(r,s,a,c,d){let f=r,m=s;for(;null!==f&&null!==m&&2048&m[Pt]&&!(512&m[Pt]);){const v=wl(f,m,a,c|Xe.Self,qi);if(v!==qi)return v;let D=f.parent;if(!D){const I=m[Ya];if(I){const M=I.get(a,qi,c);if(M!==qi)return M}D=dd(m),m=m[or]}f=D}return d}(r,s,a,c,qi);if(m!==qi)return m}const f=wl(r,s,a,c,qi);if(f!==qi)return f}return va(s,a,c,d)}function wl(r,s,a,c,d){const f=function cd(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(_o)?r[_o]:void 0;return"number"==typeof s?s>=0?s&Gc:Qh:s}(a);if("function"==typeof f){if(!Vc(s,r,c))return c&Xe.Host?ps(d,0,c):va(s,a,c,d);try{let m;if(m=f(c),null!=m||c&Xe.Optional)return m;Ge()}finally{pl()}}else if("number"==typeof f){let m=null,v=Xs(r,s),D=Yi,I=c&Xe.Host?s[Qn][Mi]:null;for((-1===v||c&Xe.SkipSelf)&&(D=-1===v?eo(r,s):s[v+8],D!==Yi&&no(c,!1)?(m=s[et],v=Ks(D),s=fs(D,s)):v=-1);-1!==v;){const M=s[et];if(ko(f,v,M.data)){const j=Ui(v,s,a,m,c,I);if(j!==qi)return j}D=s[v+8],D!==Yi&&no(c,s[et].data[v+8]===I)&&ko(f,v,s)?(m=M,v=Ks(D),s=fs(D,s)):v=-1}}return d}function Ui(r,s,a,c,d,f){const m=s[et],v=m.data[r+8],M=Pr(v,m,a,null==c?Yr(v)&&El:c!=m&&0!=(3&v.type),d&Xe.Host&&f===v);return null!==M?gs(s,m,M,v):qi}function Pr(r,s,a,c,d){const f=r.providerIndexes,m=s.data,v=1048575&f,D=r.directiveStart,M=f>>20,K=d?v+M:r.directiveEnd;for(let se=c?v:v+M;se<K;se++){const Ie=m[se];if(se<D&&a===Ie||se>=D&&Ie.type===a)return se}if(d){const se=m[D];if(se&&Vi(se)&&se.type===a)return D}return null}function gs(r,s,a,c){let d=r[a];const f=s.data;if(function qs(r){return r instanceof qn}(d)){const m=d;m.resolving&&function Be(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new re(-200,`Circular dependency in DI detected for ${r}${a}`)}(function we(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ce(r)}(f[a]));const v=Js(m.canSeeViewProviders);m.resolving=!0;const I=m.injectImpl?Ot(m.injectImpl):null;Vc(r,c,Xe.Default);try{d=r[a]=m.factory(void 0,f,r,c),s.firstCreatePass&&a>=c.directiveStart&&function Vn(r,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const m=da(s);(a.preOrderHooks??=[]).push(r,m),(a.preOrderCheckHooks??=[]).push(r,m)}d&&(a.preOrderHooks??=[]).push(0-r,d),f&&((a.preOrderHooks??=[]).push(r,f),(a.preOrderCheckHooks??=[]).push(r,f))}(a,f[a],s)}finally{null!==I&&Ot(I),Js(v),m.resolving=!1,pl()}}return d}function ko(r,s,a){return!!(a[s+(r>>Wc)]&1<<r)}function no(r,s){return!(r&Xe.Self||r&Xe.Host&&s)}class En{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return xo(this._tNode,this._lView,s,cn(c),a)}}function Qh(){return new En(hi(),xe())}function xr(r){return Hr(()=>{const s=r.prototype.constructor,a=s[$r]||ud(s),c=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==c;){const f=d[$r]||ud(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function ud(r){return qe(r)?()=>{const s=ud(Pe(r));return s&&s()}:qr(r)}function dd(r){const s=r[et],a=s.type;return 2===a?s.declTNode:1===a?r[Mi]:null}function hd(r){return function Po(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(Gr(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(hi(),r)}const Dl="__parameters__";function V(r,s,a){return Hr(()=>{const c=function S(r){return function(...a){if(r){const c=r(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const m=new d(...f);return v.annotation=m,v;function v(D,I,M){const j=D.hasOwnProperty(Dl)?D[Dl]:Object.defineProperty(D,Dl,{value:[]})[Dl];for(;j.length<=M;)j.push(null);return(j[M]=j[M]||[]).push(m),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}function Zc(r,s){r.forEach(a=>Array.isArray(a)?Zc(a,s):s(a))}function j0(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function Tl(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Yc(r,s){const a=[];for(let c=0;c<r;c++)a.push(s);return a}function ji(r,s,a){let c=Sl(r,s);return c>=0?r[1|c]=a:(c=~c,function qc(r,s,a,c){let d=r.length;if(d==s)r.push(a,c);else if(1===d)r.push(c,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=a,r[s+1]=c}}(r,c,s,a)),c}function Il(r,s){const a=Sl(r,s);if(a>=0)return r[1|a]}function Sl(r,s){return function Al(r,s,a){let c=0,d=r.length>>a;for(;d!==c;){const f=c+(d-c>>1),m=r[f<<a];if(s===m)return f<<a;m>s?d=f:c=f+1}return~(d<<a)}(r,s,1)}const fe=_n(V("Optional"),8),nt=_n(V("SkipSelf"),4);function ef(r){return 128==(128&r.flags)}var tf=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(tf||{});const VC=/^>|^->|<!--|-->|--!>|<!-$/g,C_=/(<|>)/g,UC="\u200b$1\u200b";const cg=new Map;let jC=0;const A_="__ngContext__";function Ki(r,s){Ei(s)?(r[A_]=s[os],function T_(r){cg.set(r[os],r)}(s)):r[A_]=s}let dg;function db(r,s){return dg(r,s)}function hg(r){const s=r[Dn];return wi(s)?s[Dn]:s}function WC(r){return ZC(r[mr])}function zC(r){return ZC(r[$i])}function ZC(r){for(;null!==r&&!wi(r);)r=r[$i];return r}function rf(r,s,a,c,d){if(null!=c){let f,m=!1;wi(c)?f=c:Ei(c)&&(m=!0,c=c[Ln]);const v=hn(c);0===r&&null!==a?null==d?gb(s,a,v):Jc(s,a,v,d||null,!0):1===r&&null!==a?Jc(s,a,v,d||null,!0):2===r?function bd(r,s,a){const c=oo(r,s);c&&function _b(r,s,a,c){r.removeChild(s,a,c)}(r,c,s,a)}(s,v,m):3===r&&s.destroyNode(v),null!=f&&function KC(r,s,a,c,d){const f=a[di];f!==hn(a)&&rf(s,r,c,f,d);for(let v=Xn;v<a.length;v++){const D=a[v];eu(D[et],D,r,s,c,f)}}(s,r,f,a,d)}}function N_(r,s){return r.createText(s)}function hb(r,s){return r.createComment(function X0(r){return r.replace(VC,s=>s.replace(C_,UC))}(s))}function fg(r,s,a){return r.createElement(s,a)}function _i(r,s){const a=r[as],c=a.indexOf(s);Kp(s),a.splice(c,1)}function Ml(r,s){if(r.length<=Xn)return;const a=Xn+s,c=r[a];if(c){const d=c[Do];null!==d&&d!==r&&_i(d,c),s>0&&(r[a-1][$i]=c[$i]);const f=Tl(r,Xn+s);!function gA(r,s){eu(r,s,s[bt],2,null,null),s[Ln]=null,s[Mi]=null}(c[et],c);const m=f[Ri];null!==m&&m.detachView(f[et]),c[Dn]=null,c[$i]=null,c[Pt]&=-129}return c}function si(r,s){if(!(256&s[Pt])){const a=s[bt];s[qa]&&oa(s[qa]),s[Wi]&&oa(s[Wi]),a.destroyNode&&eu(r,s,a,3,null,null),function ms(r){let s=r[mr];if(!s)return yd(r[et],r);for(;s;){let a=null;if(Ei(s))a=s[mr];else{const c=s[Xn];c&&(a=c)}if(!a){for(;s&&!s[$i]&&s!==r;)Ei(s)&&yd(s[et],s),s=s[Dn];null===s&&(s=r),Ei(s)&&yd(s[et],s),a=s&&s[$i]}s=a}}(s)}}function yd(r,s){if(!(256&s[Pt])){s[Pt]&=-129,s[Pt]|=256,function so(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof qn)){const f=a[c+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const v=d[f[m]],D=f[m+1];lr(4,v,D);try{D.call(v)}finally{lr(5,v,D)}}else{lr(4,d,f);try{f.call(d)}finally{lr(5,d,f)}}}}}(r,s),function pg(r,s){const a=r.cleanup,c=s[Ls];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const m=a[f+3];m>=0?c[m]():c[-m].unsubscribe(),f+=2}else a[f].call(c[a[f+1]]);null!==c&&(s[Ls]=null);const d=s[Bs];if(null!==d){s[Bs]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(r,s),1===s[et].type&&s[bt].destroy();const a=s[Do];if(null!==a&&wi(s[Dn])){a!==s[Dn]&&_i(a,s);const c=s[Ri];null!==c&&c.detachView(r)}!function tb(r){cg.delete(r[os])}(s)}}function fb(r,s,a){return pb(r,s.parent,a)}function pb(r,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[Ln];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=r.data[c.directiveStart+d];if(f===Tr.None||f===Tr.Emulated)return null}return Oi(c,a)}}function Jc(r,s,a,c,d){r.insertBefore(s,a,c,d)}function gb(r,s,a){r.appendChild(s,a)}function mb(r,s,a,c,d){null!==c?Jc(r,s,a,c,d):gb(r,s,a)}function oo(r,s){return r.parentNode(s)}function vb(r,s,a){return R_(r,s,a)}function yb(r,s,a){return 40&r.type?Oi(r,a):null}let gg,x_,k_,F_,R_=yb;function O_(r,s){R_=r,gg=s}function mg(r,s,a,c){const d=fb(r,c,s),f=s[bt],v=vb(c.parent||s[Mi],c,s);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)mb(f,d,a[D],v,!1);else mb(f,d,a,v,!1);void 0!==gg&&gg(f,c,s,a,d)}function wa(r,s){if(null!==s){const a=s.type;if(3&a)return Oi(s,r);if(4&a)return sf(-1,r[s.index]);if(8&a){const c=s.child;if(null!==c)return wa(r,c);{const d=r[s.index];return wi(d)?sf(-1,d):hn(d)}}if(32&a)return db(s,r)()||hn(r[s.index]);{const c=Qc(r,s);return null!==c?Array.isArray(c)?c[0]:wa(hg(r[Qn]),c):wa(r,s.next)}}return null}function Qc(r,s){return null!==s?r[Qn][Mi].projection[s.projection]:null}function sf(r,s){const a=Xn+r+1;if(a<s.length){const c=s[a],d=c[et].firstChild;if(null!==d)return wa(c,d)}return s[di]}function _g(r,s,a,c,d,f,m){for(;null!=a;){const v=c[a.index],D=a.type;if(m&&0===s&&(v&&Ki(hn(v),c),a.flags|=2),32!=(32&a.flags))if(8&D)_g(r,s,a.child,c,d,f,!1),rf(s,r,d,v,f);else if(32&D){const I=db(a,c);let M;for(;M=I();)rf(s,r,d,M,f);rf(s,r,d,v,f)}else 16&D?qC(r,s,c,a,d,f):rf(s,r,d,v,f);a=m?a.projectionNext:a.next}}function eu(r,s,a,c,d,f){_g(a,c,r.firstChild,s,d,f,!1)}function qC(r,s,a,c,d,f){const m=a[Qn],D=m[Mi].projection[c.projection];if(Array.isArray(D))for(let I=0;I<D.length;I++)rf(s,r,d,D[I],f);else{let I=D;const M=m[Dn];ef(c)&&(I.flags|=128),_g(r,s,I,M,d,f,!0)}}function JC(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function P_(r,s,a){const{mergedAttrs:c,classes:d,styles:f}=a;null!==c&&yo(r,s,c),null!==d&&JC(r,s,d),null!==f&&function Eb(r,s,a){r.setAttribute(s,"style",a)}(r,s,f)}function Ed(r){return function vg(){if(void 0===x_&&(x_=null,Ct.trustedTypes))try{x_=Ct.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return x_}()?.createHTML(r)||r}function Db(r){k_=r}function af(){if(void 0!==k_)return k_;if(typeof document<"u")return document;throw new re(210,!1)}function nT(r){return function Cb(){if(void 0===F_&&(F_=null,Ct.trustedTypes))try{F_=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return F_}()?.createScriptURL(r)||r}class Tb{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}function Rl(r){return r instanceof Tb?r.changingThisBreaksApplicationSecurity:r}function wd(r,s){const a=function L_(r){return r instanceof Tb&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${ot})`)}return a===s}class cT{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Ed(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class EA{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Ed(s),a}}const tu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function B_(r){return(r=String(r)).match(tu)?r:"unsafe:"+r}function Pl(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function Dd(...r){const s={};for(const a of r)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const Ab=Pl("area,br,col,hr,img,wbr"),uT=Pl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dT=Pl("rp,rt"),Nb=Dd(Ab,Dd(uT,Pl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dd(dT,Pl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dd(dT,uT)),V_=Pl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mb=Dd(V_,Pl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Td=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Td||{});function Id(r){const s=xl();return s?s.sanitize(Td.URL,r)||"":wd(r,"URL")?Rl(r):B_(ce(r))}function bg(r){const s=xl();if(s)return nT(s.sanitize(Td.RESOURCE_URL,r)||"");if(wd(r,"ResourceURL"))return nT(Rl(r));throw new re(904,!1)}function Pb(r,s,a){return function wA(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?bg:Id}(s,a)(r)}function xl(){const r=xe();return r&&r[ss].sanitizer}class B{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ft({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const kl=new B("ENVIRONMENT_INITIALIZER"),$_=new B("INJECTOR",-1),G_=new B("INJECTOR_DEF_TYPES");class lf{get(s,a=$e){if(a===$e){const c=new Error(`NullInjectorError: No provider for ${oe(s)}!`);throw c.name="NullInjectorError",c}return a}}function wg(r){return{\u0275providers:r}}function vT(...r){return{\u0275providers:xb(0,r),\u0275fromNgModule:!0}}function xb(r,...s){const a=[],c=new Set;let d;const f=m=>{a.push(m)};return Zc(s,m=>{const v=m;Bo(v,f,[],c)&&(d||=[],d.push(v))}),void 0!==d&&W_(d,f),a}function W_(r,s){for(let a=0;a<r.length;a++){const{ngModule:c,providers:d}=r[a];Fl(d,f=>{s(f,c)})}}function Bo(r,s,a,c){if(!(r=Pe(r)))return!1;let d=null,f=Ce(r);const m=!f&&Kt(r);if(f||m){if(m&&!m.standalone)return!1;d=r}else{const D=r.ngModule;if(f=Ce(D),!f)return!1;d=D}const v=c.has(d);if(m){if(v)return!1;if(c.add(d),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const I of D)Bo(I,s,a,c)}}else{if(!f)return!1;{if(null!=f.imports&&!v){let I;c.add(d);try{Zc(f.imports,M=>{Bo(M,s,a,c)&&(I||=[],I.push(M))})}finally{}void 0!==I&&W_(I,s)}if(!v){const I=qr(d)||(()=>new d);s({provide:d,useFactory:I,deps:Xt},d),s({provide:G_,useValue:d,multi:!0},d),s({provide:kl,useValue:()=>Ke(d),multi:!0},d)}const D=f.providers;if(null!=D&&!v){const I=r;Fl(D,M=>{s(M,I)})}}}return d!==r&&void 0!==r.providers}function Fl(r,s){for(let a of r)Me(a)&&(a=a.\u0275providers),Array.isArray(a)?Fl(a,s):s(a)}const Fb=H({provide:String,useValue:H});function Dg(r){return null!==r&&"object"==typeof r&&Fb in r}function Bl(r){return"function"==typeof r}const Si=new B("Set Injector scope."),Vl={},z_={};let vs;function xi(){return void 0===vs&&(vs=new lf),vs}class Vo{}class iu extends Vo{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ai(s,m=>this.processProvider(m)),this.records.set($_,Nd(void 0,this)),d.has("environment")&&this.records.set(Vo,Nd(void 0,this));const f=this.records.get(Si);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(G_.multi,Xt,Xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=ne(this),c=Ot(void 0);try{return s()}finally{ne(a),Ot(c)}}get(s,a=$e,c=Xe.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(vo))return s[vo](this);c=cn(c);const f=ne(this),m=Ot(void 0);try{if(!(c&Xe.SkipSelf)){let D=this.records.get(s);if(void 0===D){const I=function Bb(r){return"function"==typeof r||"object"==typeof r&&r instanceof B}(s)&&pn(s);D=I&&this.injectableDefInScope(I)?Nd(Z_(s),Vl):null,this.records.set(s,D)}if(null!=D)return this.hydrate(s,D)}return(c&Xe.Self?xi():this.parent).get(s,a=c&Xe.Optional&&a===$e?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[pt]=v[pt]||[]).unshift(oe(s)),f)throw v;return function Fi(r,s,a,c){const d=r[pt];throw s[k]&&d.unshift(s[k]),r.message=function xs(r,s,a,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let d=oe(s);if(Array.isArray(s))d=s.map(oe).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];f.push(m+":"+("string"==typeof v?JSON.stringify(v):oe(v)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${r.replace(z,"\n  ")}`}("\n"+r.message,d,a,c),r.ngTokenPath=d,r[pt]=null,r}(v,s,"R3InjectorError",this.source)}throw v}finally{Ot(m),ne(f)}}resolveInjectorInitializers(){const s=ne(this),a=Ot(void 0);try{const d=this.get(kl.multi,Xt,Xe.Self);for(const f of d)f()}finally{ne(s),Ot(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(oe(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(s){let a=Bl(s=Pe(s))?s:Pe(s&&s.provide);const c=function Da(r){return Dg(r)?Nd(void 0,r.useValue):Nd(jl(r),Vl)}(s);if(Bl(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Nd(void 0,Vl,!0),d.factory=()=>Rt(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===Vl&&(a.value=z_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Y_(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Pe(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Z_(r){const s=pn(r),a=null!==s?s.factory:qr(r);if(null!==a)return a;if(r instanceof B)throw new re(204,!1);if(r instanceof Function)return function Ul(r){const s=r.length;if(s>0)throw Yc(s,"?"),new re(204,!1);const a=function ge(r){return r&&(r[je]||r[rn])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new re(204,!1)}function jl(r,s,a){let c;if(Bl(r)){const d=Pe(r);return qr(d)||Z_(d)}if(Dg(r))c=()=>Pe(r.useValue);else if(function Ll(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...Rt(r.deps||[]));else if(function Ad(r){return!(!r||!r.useExisting)}(r))c=()=>Ke(Pe(r.useExisting));else{const d=Pe(r&&(r.useClass||r.provide));if(!function cf(r){return!!r.deps}(r))return qr(d)||Z_(d);c=()=>new d(...Rt(r.deps))}return c}function Nd(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Ai(r,s){for(const a of r)Array.isArray(a)?Ai(a,s):a&&Me(a)?Ai(a.\u0275providers,s):s(a)}const q_=new B("AppId",{providedIn:"root",factory:()=>yT}),yT="ng",Vb=new B("Platform Initializer"),K_=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bT=new B("CSP nonce",{providedIn:"root",factory:()=>af().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Q_=(r,s,a)=>null;function hf(r,s,a=!1){return Q_(r,s,a)}class NT{}class Hb{}class Gb{resolveComponentFactory(s){throw function MT(r){const s=Error(`No component factory found for ${oe(r)}.`);return s.ngComponent=r,s}(s)}}let Pg=(()=>{class r{static#e=this.NULL=new Gb}return r})();function OT(){return Od(hi(),xe())}function Od(r,s){return new ys(Oi(r,s))}let ys=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=OT}return r})();function nv(r){return r instanceof ys?r.nativeElement:r}class Wb{}let PT=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function xg(){const r=xe(),a=Ci(hi().index,r);return(Ei(a)?a:r)[bt]}()}return r})(),Pd=(()=>{class r{static#e=this.\u0275prov=ft({token:r,providedIn:"root",factory:()=>null})}return r})();class iv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const zb=new iv("16.2.9"),rv={};function Kb(r,s=null,a=null,c){const d=lv(r,s,a,c);return d.resolveInjectorInitializers(),d}function lv(r,s=null,a=null,c,d=new Set){const f=[a||Xt,vT(r)];return c=c||("object"==typeof r?void 0:oe(r)),new iu(f,s||xi(),c||null,d)}let bs=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=$e;static#t=this.NULL=new lf;static create(a,c){if(Array.isArray(a))return Kb({name:""},c,a,"");{const d=a.name??"";return Kb({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=ft({token:r,providedIn:"any",factory:()=>Ke($_)});static#i=this.__NG_ELEMENT_ID__=-1}return r})();function Fg(r){return r.ngOriginalError}class Ta{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Fg(s);for(;a&&Fg(a);)a=Fg(a);return a||null}}function In(r){return s=>{setTimeout(r,void 0,s)}}const Es=class $l extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,f=a||(()=>null),m=c;if(s&&"object"==typeof s){const D=s;d=D.next?.bind(D),f=D.error?.bind(D),m=D.complete?.bind(D)}this.__isAsync&&(f=In(f),d&&(d=In(d)),m&&(m=In(m)));const v=super.subscribe({next:d,error:f,complete:m});return s instanceof $.w0&&s.add(v),v}};function Jb(...r){}class Zt{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Es(!1),this.onMicrotaskEmpty=new Es(!1),this.onStable=new Es(!1),this.onError=new Es(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ff(){const r="function"==typeof Ct.requestAnimationFrame;let s=Ct[r?"requestAnimationFrame":"setTimeout"],a=Ct[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function dv(r){const s=()=>{!function BT(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Ct,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Fr(r),r.isCheckStableRunning=!0,Qi(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Fr(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,m,v)=>{if(function fv(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(v))return a.invokeTask(d,f,m,v);try{return Qb(r),a.invokeTask(d,f,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&s(),Xb(r)}},onInvoke:(a,c,d,f,m,v,D)=>{try{return Qb(r),a.invoke(d,f,m,v,D)}finally{r.shouldCoalesceRunChangeDetection&&s(),Xb(r)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,Fr(r),Qi(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zt.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(Zt.isInAngularZone())throw new re(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,s,tn,Jb,Jb);try{return f.runTask(m,a,c)}finally{f.cancelTask(m)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const tn={};function Qi(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Fr(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Qb(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Xb(r){r._nesting--,Qi(r)}class VT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Es,this.onMicrotaskEmpty=new Es,this.onStable=new Es,this.onError=new Es}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const hv=new B("",{providedIn:"root",factory:Gl});function Gl(){const r=it(Zt);let s=!0;const a=new R.y(d=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{d.next(s),d.complete()})}),c=new R.y(d=>{let f;r.runOutsideAngular(()=>{f=r.onStable.subscribe(()=>{Zt.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const m=r.onUnstable.subscribe(()=>{Zt.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});return(0,ee.T)(a,c.pipe((0,ye.B)()))}function Ia(r){return r instanceof Function?r():r}let Fd=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ft({token:r,providedIn:"root",factory:()=>new r})}return r})();function Ld(r){for(;r;){r[Pt]|=64;const s=hg(r);if(Us(r)&&!s)return r;r=s}return null}const ws=new B("",{providedIn:"root",factory:()=>!1});let Bg=null;function nE(r,s){return r[s]??_f()}function xn(r,s){const a=_f();a.producerNode?.length&&(r[s]=Bg,a.lView=r,Bg=iE())}const zT={...ra,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Ld(r.lView)},lView:null};function iE(){return Object.create(zT)}function _f(){return Bg??=iE(),Bg}const kt={};function cu(r){Uo(en(),xe(),Nn()+r,!1)}function Uo(r,s,a,c){if(!c)if(3==(3&s[Pt])){const f=r.preOrderCheckHooks;null!==f&&vl(s,f,a)}else{const f=r.preOrderHooks;null!==f&&Ro(s,f,0,a)}pi(a)}function jo(r,s=Xe.Default){const a=xe();return null===a?Ke(r,s):xo(hi(),a,Pe(r),s)}function Ut(){throw new Error("invalid")}function Wl(r,s,a,c,d,f,m,v,D,I,M){const j=s.blueprint.slice();return j[Ln]=d,j[Pt]=140|c,(null!==I||r&&2048&r[Pt])&&(j[Pt]|=2048),Wh(j),j[Dn]=j[or]=r,j[Bn]=a,j[ss]=m||r&&r[ss],j[bt]=v||r&&r[bt],j[Zr]=D||r&&r[Zr]||null,j[Mi]=f,j[os]=function fA(){return jC++}(),j[ar]=M,j[Ya]=I,j[Qn]=2==s.type?r[Qn]:j,j}function Bd(r,s,a,c,d){let f=r.data[s];if(null===f)f=jn(r,s,a,c,d),function Qp(){return St.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const m=ga();f.injectorIndex=null===m?-1:m.injectorIndex}return Ar(f,!0),f}function jn(r,s,a,c,d){const f=cl(),m=ed(),D=r.data[s]=function JT(r,s,a,c,d,f){let m=s?s.injectorIndex:-1,v=0;return us()&&(v|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,a,s,c,d);return null===r.firstChild&&(r.firstChild=D),null!==f&&(m?null==f.child&&null!==D.parent&&(f.child=D):null===f.next&&(f.next=D,D.prev=f)),D}function uu(r,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),r.blueprint.push(c),r.data.push(null);return d}function rE(r,s,a,c,d){const f=nE(s,qa),m=Nn(),v=2&c;try{pi(-1),v&&s.length>Wt&&Uo(r,s,Wt,!1),lr(v?2:0,d);const I=v?f:null,M=Uu(I);try{null!==I&&(I.dirty=!1),a(c,d)}finally{Zn(I,M)}}finally{v&&null===s[qa]&&xn(s,qa),pi(m),lr(v?3:1,d)}}function vf(r,s,a){if(bc(s)){const c=Di(null);try{const f=s.directiveEnd;for(let m=s.directiveStart;m<f;m++){const v=r.data[m];v.contentQueries&&v.contentQueries(1,a[m],m)}}finally{Di(c)}}}function Vg(r,s,a){Yn()&&(function wv(r,s,a,c){const d=a.directiveStart,f=a.directiveEnd;Yr(a)&&function Tv(r,s,a){const c=Oi(s,r),d=Vd(a);let m=16;a.signals?m=4096:a.onPush&&(m=64);const v=Hg(r,Wl(r,d,null,m,c,s,null,r[ss].rendererFactory.createRenderer(c,a),null,null,null));r[s.index]=v}(s,a,r.data[d+a.componentOffset]),r.firstCreatePass||Qs(a,s),Ki(c,s);const m=a.initialInputs;for(let v=d;v<f;v++){const D=r.data[v],I=gs(s,r,v,a);Ki(I,s),null!==m&&Ef(0,v-d,I,D,0,m),Vi(D)&&(Ci(a.index,s)[Bn]=gs(s,r,v,a))}}(r,s,a,Oi(a,s)),64==(64&a.flags)&&cE(r,s,a))}function zl(r,s,a=Oi){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const m=c[f+1],v=-1===m?a(s,r):r[m];r[d++]=v}}}function Vd(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=du(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function du(r,s,a,c,d,f,m,v,D,I,M){const j=Wt+c,K=j+d,se=function YT(r,s){const a=[];for(let c=0;c<s;c++)a.push(c<r?null:kt);return a}(j,K),Ie="function"==typeof I?I():I;return se[et]={type:r,blueprint:se,template:a,queries:null,viewQuery:v,declTNode:s,data:se.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:Ie,incompleteFirstPass:!1,ssrId:M}}let sE=r=>null;function jg(r,s,a,c){for(let d in r)if(r.hasOwnProperty(d)){a=null===a?{}:a;const f=r[d];null===c?oE(a,s,d,f):c.hasOwnProperty(d)&&oE(a,s,c[d],f)}return a}function oE(r,s,a,c){r.hasOwnProperty(a)?r[a].push(s,c):r[a]=[s,c]}function cr(r,s,a,c,d,f,m,v){const D=Oi(s,a);let M,I=s.inputs;!v&&null!=I&&(M=I[c])?(Gd(r,a,M,c,d),Yr(s)&&function aE(r,s){const a=Ci(s,r);16&a[Pt]||(a[Pt]|=64)}(a,s.index)):3&s.type&&(c=function QT(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),d=null!=m?m(d,s.value||"",c):d,f.setProperty(D,c,d))}function bv(r,s,a,c){if(Yn()){const d=null===c?null:{"":-1},f=function uE(r,s){const a=r.directiveRegistry;let c=null,d=null;if(a)for(let f=0;f<a.length;f++){const m=a[f];if($a(s,m.selectors,!1))if(c||(c=[]),Vi(m))if(null!==m.findHostDirectiveDefs){const v=[];d=d||new Map,m.findHostDirectiveDefs(m,v,d),c.unshift(...v,m),Dv(r,s,v.length)}else c.unshift(m),Dv(r,s,0);else d=d||new Map,m.findHostDirectiveDefs?.(m,c,d),c.push(m)}return null===c?null:[c,d]}(r,a);let m,v;null===f?m=v=null:[m,v]=f,null!==m&&bf(r,s,a,m,d,v),d&&function eI(r,s,a){if(s){const c=r.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new re(-301,!1);c.push(s[d],f)}}}(a,c,d)}a.mergedAttrs=Qo(a.mergedAttrs,a.attrs)}function bf(r,s,a,c,d,f){for(let I=0;I<c.length;I++)to(Qs(a,s),r,c[I].type);!function Ho(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,c.length);for(let I=0;I<c.length;I++){const M=c[I];M.providersResolver&&M.providersResolver(M)}let m=!1,v=!1,D=uu(r,s,c.length,null);for(let I=0;I<c.length;I++){const M=c[I];a.mergedAttrs=Qo(a.mergedAttrs,M.hostAttrs),Cv(r,a,s,D,M),tI(D,M,d),null!==M.contentQueries&&(a.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=64);const j=M.type.prototype;!m&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),m=!0),!v&&(j.ngOnChanges||j.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),v=!0),D++}!function vv(r,s,a){const d=s.directiveEnd,f=r.data,m=s.attrs,v=[];let D=null,I=null;for(let M=s.directiveStart;M<d;M++){const j=f[M],K=a?a.get(j):null,Ie=K?K.outputs:null;D=jg(j.inputs,M,D,K?K.inputs:null),I=jg(j.outputs,M,I,Ie);const Ve=null===D||null===m||gr(s)?null:Hd(D,M,m);v.push(Ve)}null!==D&&(D.hasOwnProperty("class")&&(s.flags|=8),D.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=v,s.inputs=D,s.outputs=I}(r,a,f)}function cE(r,s,a){const c=a.directiveStart,d=a.directiveEnd,f=a.index,m=function Xp(){return St.lFrame.currentDirectiveIndex}();try{pi(f);for(let v=c;v<d;v++){const D=r.data[v],I=s[v];dl(v),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&XT(D,I)}}finally{pi(-1),dl(m)}}function XT(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Dv(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function tI(r,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=r;Vi(s)&&(a[""]=r)}}function Cv(r,s,a,c,d){r.data[c]=d;const f=d.factory||(d.factory=qr(d.type)),m=new qn(f,Vi(d),jo);r.blueprint[c]=m,a[c]=m,function Ud(r,s,a,c,d){const f=d.hostBindings;if(f){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const v=~s.index;(function Ev(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(m)!=v&&m.push(v),m.push(a,c,f)}}(r,s,c,uu(r,a,d.hostVars,kt),d)}function Ds(r,s,a,c,d,f){const m=Oi(r,s);!function jd(r,s,a,c,d,f,m){if(null==f)r.removeAttribute(s,d,a);else{const v=null==m?ce(f):m(f,c||"",d);r.setAttribute(s,d,v,a)}}(s[bt],m,f,r.value,a,c,d)}function Ef(r,s,a,c,d,f){const m=f[s];if(null!==m)for(let v=0;v<m.length;)Zl(c,a,m[v++],m[v++],m[v++])}function Zl(r,s,a,c,d){const f=Di(null);try{const m=r.inputTransforms;null!==m&&m.hasOwnProperty(c)&&(d=m[c].call(s,d)),null!==r.setInput?r.setInput(s,d,a,c):s[c]=d}finally{Di(f)}}function Hd(r,s,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(r.hasOwnProperty(f)){null===c&&(c=[]);const m=r[f];for(let v=0;v<m.length;v+=2)if(m[v]===s){c.push(f,m[v+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Sa(r,s,a,c){return[r,!0,!1,s,null,0,c,a,null,null,null]}function dE(r,s){const a=r.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const f=a[c+1];if(-1!==f){const m=r.data[f];id(a[c]),m.contentQueries(2,s[f],f)}}}function Hg(r,s){return r[mr]?r[Oh][$i]=s:r[mr]=s,r[Oh]=s,s}function hu(r,s,a){id(0);const c=Di(null);try{s(r,a)}finally{Di(c)}}function hE(r){return r[Ls]||(r[Ls]=[])}function wf(r){return r.cleanup||(r.cleanup=[])}function Iv(r,s){const a=r[Zr],c=a?a.get(Ta,null):null;c&&c.handleError(s)}function Gd(r,s,a,c,d){for(let f=0;f<a.length;){const m=a[f++],v=a[f++];Zl(r.data[m],s[m],c,v,d)}}function Sv(r,s){const a=Ci(s,r),c=a[et];!function nI(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(c,a);const d=a[Ln];null!==d&&null===a[ar]&&(a[ar]=hf(d,a[Zr])),Mn(c,a,a[Bn])}function Mn(r,s,a){Pn(s);try{const c=r.viewQuery;null!==c&&hu(1,c,a);const d=r.template;null!==d&&rE(r,s,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&dE(r,s),r.staticViewQueries&&hu(2,r.viewQuery,a);const f=r.components;null!==f&&function ao(r,s){for(let a=0;a<s.length;a++)Sv(r,s[a])}(s,f)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{s[Pt]&=-5,zs()}}let Wd=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const f=typeof Zone>"u"?null:Zone.current,m=function $h(r,s,a){const c=Object.create(Zp);a&&(c.consumerAllowSignalWrites=!0),c.fn=r,c.schedule=s;const d=m=>{c.cleanupFn=m};return c.ref={notify:()=>Tc(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Uh(c))return;c.hasRun=!0;const m=Uu(c);try{c.cleanupFn(),c.cleanupFn=Nc,c.fn(d)}finally{Zn(c,m)}},cleanup:()=>c.cleanupFn()},c.ref}(a,I=>{this.all.has(I)&&this.queue.set(I,f)},d);let v;this.all.add(m),m.notify();const D=()=>{m.cleanup(),v?.(),this.all.delete(m),this.queue.delete(m)};return v=c?.onDestroy(D),{destroy:D}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ft({token:r,providedIn:"root",factory:()=>new r})}return r})();function Df(r,s,a){let c=a?r.styles:null,d=a?r.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?f=v:1==f?d=Ue(d,v):2==f&&(c=Ue(c,v+": "+s[++m]+";"))}a?r.styles=c:r.stylesWithoutHost=c,a?r.classes=d:r.classesWithoutHost=d}function fu(r,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];null!==f&&c.push(hn(f)),wi(f)&&Yl(f,c);const m=a.type;if(8&m)fu(r,s,a.child,c);else if(32&m){const v=db(a,s);let D;for(;D=v();)c.push(D)}else if(16&m){const v=Qc(s,a);if(Array.isArray(v))c.push(...v);else{const D=hg(s[Qn]);fu(D[et],D,v,c,!0)}}a=d?a.projectionNext:a.next}return c}function Yl(r,s){for(let a=Xn;a<r.length;a++){const c=r[a],d=c[et].firstChild;null!==d&&fu(c[et],c,d,s)}r[di]!==r[Ln]&&s.push(r[di])}function Cf(r,s,a,c=!0){const d=s[ss],f=d.rendererFactory,m=d.afterRenderEventManager;f.begin?.(),m?.begin();try{gu(r,s,r.template,a)}catch(D){throw c&&Iv(s,D),D}finally{f.end?.(),d.effectManager?.flush(),m?.end()}}function gu(r,s,a,c){const d=s[Pt];if(256!=(256&d)){s[ss].effectManager?.flush(),Pn(s);try{Wh(s),function td(r){return St.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&rE(r,s,a,2,c);const m=3==(3&d);if(m){const I=r.preOrderCheckHooks;null!==I&&vl(s,I,null)}else{const I=r.preOrderHooks;null!==I&&Ro(s,I,0,null),jc(s,0)}if(function $g(r){for(let s=WC(r);null!==s;s=zC(s)){if(!s[Co])continue;const a=s[as];for(let c=0;c<a.length;c++){Gs(a[c])}}}(s),Mv(s,2),null!==r.contentQueries&&dE(r,s),m){const I=r.contentCheckHooks;null!==I&&vl(s,I)}else{const I=r.contentHooks;null!==I&&Ro(s,I,1),jc(s,1)}!function ZT(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const c=nE(s,Wi);try{for(let d=0;d<a.length;d++){const f=a[d];if(f<0)pi(~f);else{const m=f,v=a[++d],D=a[++d];ul(v,m),c.dirty=!1;const I=Uu(c);try{D(2,s[m])}finally{Zn(c,I)}}}}finally{null===s[Wi]&&xn(s,Wi),pi(-1)}}(r,s);const v=r.components;null!==v&&pE(s,v,0);const D=r.viewQuery;if(null!==D&&hu(2,D,c),m){const I=r.viewCheckHooks;null!==I&&vl(s,I)}else{const I=r.viewHooks;null!==I&&Ro(s,I,2),jc(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Pt]&=-73,Kp(s)}finally{zs()}}}function Mv(r,s){for(let a=WC(r);null!==a;a=zC(a))for(let c=Xn;c<a.length;c++)fE(a[c],s)}function iI(r,s,a){fE(Ci(s,r),a)}function fE(r,s){if(!function Ku(r){return 128==(128&r[Pt])}(r))return;const a=r[et],c=r[Pt];if(80&c&&0===s||1024&c||2===s)gu(a,r,a.template,r[Bn]);else if(r[zr]>0){Mv(r,1);const d=a.components;null!==d&&pE(r,d,1)}}function pE(r,s,a){for(let c=0;c<s.length;c++)iI(r,s[c],a)}class Tf{get rootNodes(){const s=this._lView,a=s[et];return fu(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(s){this._lView[Bn]=s}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Dn];if(wi(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Ml(s,c),Tl(a,c))}this._attachedToViewContainer=!1}si(this._lView[et],this._lView)}onDestroy(s){!function Ao(r,s){if(256==(256&r[Pt]))throw new re(911,!1);null===r[Bs]&&(r[Bs]=[]),r[Bs].push(s)}(this._lView,s)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){Cf(this._lView[et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ji(r,s){eu(r,s,s[bt],2,null,null)}(this._lView[et],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=s}}class rI extends Tf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Cf(s[et],s,s[Bn],!1)}checkNoChanges(){}get context(){return null}}class gE extends Pg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Kt(s);return new If(a,this.ngModule)}}function mE(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class vE{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=cn(c);const d=this.injector.get(s,rv,c);return d!==rv||a===rv?d:this.parentInjector.get(s,a,c)}}class If extends Hb{get inputs(){const s=this.componentDef,a=s.inputTransforms,c=mE(s.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return mE(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function $p(r){return r.map(Wr).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let f=(d=d||this.ngModule)instanceof Vo?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new vE(s,f):s,v=m.get(Wb,null);if(null===v)throw new re(407,!1);const j={rendererFactory:v,sanitizer:m.get(Pd,null),effectManager:m.get(Wd,null),afterRenderEventManager:m.get(Fd,null)},K=v.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",Ie=c?function _v(r,s,a,c){const f=c.get(ws,!1)||a===Tr.ShadowDom,m=r.selectRootElement(s,f);return function yf(r){sE(r)}(m),m}(K,c,this.componentDef.encapsulation,m):fg(K,se,function _E(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(se)),vt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ke=null;null!==Ie&&(ke=hf(Ie,m,!0));const xt=du(0,null,null,1,0,null,null,null,null,null,null),Jt=Wl(null,xt,null,vt,null,null,j,K,m,null,ke);let Tn,ts;Pn(Jt);try{const lc=this.componentDef;let Sh,Ip=null;lc.findHostDirectiveDefs?(Sh=[],Ip=new Map,lc.findHostDirectiveDefs(lc,Sh,Ip),Sh.push(lc)):Sh=[lc];const uC=function oI(r,s){const a=r[et],c=Wt;return r[c]=s,Bd(a,c,2,"#host",null)}(Jt,Ie),FN=function aI(r,s,a,c,d,f,m){const v=d[et];!function lI(r,s,a,c){for(const d of r)s.mergedAttrs=Qo(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(Df(s,s.mergedAttrs,!0),null!==a&&P_(c,a,s))}(c,r,s,m);let D=null;null!==s&&(D=hf(s,d[Zr]));const I=f.rendererFactory.createRenderer(s,a);let M=16;a.signals?M=4096:a.onPush&&(M=64);const j=Wl(d,Vd(a),null,M,d[r.index],r,f,I,null,null,D);return v.firstCreatePass&&Dv(v,r,c.length-1),Hg(d,j),d[r.index]=j}(uC,Ie,lc,Sh,Jt,j,K);ts=Rc(xt,Wt),Ie&&function Gg(r,s,a,c){if(c)yo(r,a,["ng-version",zb.full]);else{const{attrs:d,classes:f}=function Bi(r){const s=[],a=[];let c=1,d=2;for(;c<r.length;){let f=r[c];if("string"==typeof f)2===d?""!==f&&s.push(f,r[++c]):8===d&&a.push(f);else{if(!Li(d))break;d=f}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&yo(r,a,d),f&&f.length>0&&JC(r,a,f.join(" "))}}(K,lc,Ie,c),void 0!==a&&function Rv(r,s,a){const c=r.projection=[];for(let d=0;d<s.length;d++){const f=a[d];c.push(null!=f?Array.from(f):null)}}(ts,this.ngContentSelectors,a),Tn=function cI(r,s,a,c,d,f){const m=hi(),v=d[et],D=Oi(m,d);bf(v,d,m,a,null,c);for(let M=0;M<a.length;M++)Ki(gs(d,v,m.directiveStart+M,m),d);cE(v,d,m),D&&Ki(D,d);const I=gs(d,v,m.directiveStart+m.componentOffset,m);if(r[Bn]=d[Bn]=I,null!==f)for(const M of f)M(I,s);return vf(v,m,r),I}(FN,lc,Sh,Ip,Jt,[yE]),Mn(xt,Jt,null)}finally{zs()}return new sI(this.componentType,Tn,Od(ts,Jt),Jt,ts)}}class sI extends NT{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new rI(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const f=this._rootLView;Gd(f[et],f,d,s,a),this.previousInputValues.set(s,a),Ld(Ci(this._tNode.index,f))}}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function yE(){const r=hi();ds(xe()[et],r)}function Ov(r){let s=function Sf(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const c=[r];for(;s;){let d;if(Vi(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new re(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const m=r;m.inputs=Af(r.inputs),m.inputTransforms=Af(r.inputTransforms),m.declaredInputs=Af(r.declaredInputs),m.outputs=Af(r.outputs);const v=d.hostBindings;v&&dI(r,v);const D=d.viewQuery,I=d.contentQueries;if(D&&bE(r,D),I&&uI(r,I),Z(r.inputs,d.inputs),Z(r.declaredInputs,d.declaredInputs),Z(r.outputs,d.outputs),null!==d.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),Z(m.inputTransforms,d.inputTransforms)),Vi(d)&&d.data.animation){const M=r.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const v=f[m];v&&v.ngInherit&&v(r),v===Ov&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Pv(r){let s=0,a=null;for(let c=r.length-1;c>=0;c--){const d=r[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Qo(d.hostAttrs,a=Qo(a,d.hostAttrs))}}(c)}function Af(r){return r===rr?{}:r===Xt?[]:r}function bE(r,s){const a=r.viewQuery;r.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function uI(r,s){const a=r.contentQueries;r.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function dI(r,s){const a=r.hostBindings;r.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function wE(r){return s=>{s.findHostDirectiveDefs=DE,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Pe(a),inputs:rr,outputs:rr}:{directive:Pe(a.directive),inputs:CE(a.inputs),outputs:CE(a.outputs)})}}function DE(r,s,a){if(null!==r.hostDirectives)for(const c of r.hostDirectives){const d=Jn(c.directive);TE(d.declaredInputs,c.inputs),DE(d,s,a),a.set(d,c),s.push(d)}}function CE(r){if(void 0===r||0===r.length)return rr;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function TE(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function Fv(r){const s=r.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}r.inputTransforms=a}function Nf(r){return!!Bv(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Bv(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function $o(r,s,a){return r[s]=a}function ur(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function mu(r,s,a,c){const d=ur(r,s,a);return ur(r,s+1,c)||d}function zg(r,s,a,c){const d=xe();return ur(d,Ws(),s)&&(en(),Ds(Vt(),d,r,s,a,c)),zg}function zd(r,s,a,c){return ur(r,Ws(),a)?s+ce(a)+c:kt}function OE(r,s,a,c,d,f,m,v){const D=xe(),I=en(),M=r+Wt,j=I.firstCreatePass?function RE(r,s,a,c,d,f,m,v,D){const I=s.consts,M=Bd(s,r,4,m||null,$s(I,v));bv(s,a,M,$s(I,D)),ds(s,M);const j=M.tView=du(2,M,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I,null);return null!==s.queries&&(s.queries.template(s,M),j.queries=s.queries.embeddedTView(M)),M}(M,I,D,s,a,c,d,f,m):I.data[M];Ar(j,!1);const K=PE(I,D,j,r);Ys()&&mg(I,D,K,j),Ki(K,D),Hg(D,D[M]=Sa(K,D,K,j)),zi(j)&&Vg(I,D,j),null!=m&&zl(D,j,v)}let PE=function Yv(r,s,a,c){return Pi(!0),s[bt].createComment("")};function Lf(r){return function Hs(r,s){return r[s]}(function Yh(){return St.lFrame.contextLView}(),Wt+r)}function Ra(r,s,a){const c=xe();return ur(c,Ws(),s)&&cr(en(),Vt(),c,r,s,c[bt],a,!1),Ra}function Bf(r,s,a,c,d){const m=d?"class":"style";Gd(r,a,s.inputs[m],m,c)}function Qg(r,s,a,c){const d=xe(),f=en(),m=Wt+r,v=d[bt],D=f.firstCreatePass?function xE(r,s,a,c,d,f){const m=s.consts,D=Bd(s,r,2,c,$s(m,d));return bv(s,a,D,$s(m,f)),null!==D.attrs&&Df(D,D.attrs,!1),null!==D.mergedAttrs&&Df(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(m,f,d,s,a,c):f.data[m],I=kE(f,d,D,v,s,r);d[m]=I;const M=zi(D);return Ar(D,!0),P_(v,I,D),32!=(32&D.flags)&&Ys()&&mg(f,d,I,D),0===function ll(){return St.lFrame.elementDepthCount}()&&Ki(I,d),function ti(){St.lFrame.elementDepthCount++}(),M&&(Vg(f,d,D),vf(f,D,d)),null!==c&&zl(d,D),Qg}function Eu(){let r=hi();ed()?kc():(r=r.parent,Ar(r,!1));const s=r;(function No(r){return St.skipHydrationRootTNode===r})(s)&&function Xu(){St.skipHydrationRootTNode=null}(),function zh(){St.lFrame.elementDepthCount--}();const a=en();return a.firstCreatePass&&(ds(a,r),bc(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function qh(r){return 0!=(8&r.flags)}(s)&&Bf(a,s,xe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function od(r){return 0!=(16&r.flags)}(s)&&Bf(a,s,xe(),s.stylesWithoutHost,!1),Eu}function Xg(r,s,a,c){return Qg(r,s,a,c),Eu(),Xg}let kE=(r,s,a,c,d,f)=>(Pi(!0),fg(c,d,function _l(){return St.lFrame.currentNamespace}()));function em(r,s,a){const c=xe(),d=en(),f=r+Wt,m=d.firstCreatePass?function wI(r,s,a,c,d){const f=s.consts,m=$s(f,c),v=Bd(s,r,8,"ng-container",m);return null!==m&&Df(v,m,!0),bv(s,a,v,$s(f,d)),null!==s.queries&&s.queries.elementStart(s,v),v}(f,d,c,s,a):d.data[f];Ar(m,!0);const v=Uf(d,c,m,r);return c[f]=v,Ys()&&mg(d,c,v,m),Ki(v,c),zi(m)&&(Vg(d,c,m),vf(d,m,c)),null!=a&&zl(c,m),em}function tm(){let r=hi();const s=en();return ed()?kc():(r=r.parent,Ar(r,!1)),s.firstCreatePass&&(ds(s,r),bc(r)&&s.queries.elementEnd(r)),tm}let Uf=(r,s,a,c)=>(Pi(!0),hb(s[bt],""));function nh(){return xe()}function Ts(r){return!!r&&"function"==typeof r.then}function ih(r){return!!r&&"function"==typeof r.subscribe}function Xv(r,s,a,c){const d=xe(),f=en(),m=hi();return function rh(r,s,a,c,d,f,m){const v=zi(c),I=r.firstCreatePass&&wf(r),M=s[Bn],j=hE(s);let K=!0;if(3&c.type||m){const Ve=Oi(c,s),rt=m?m(Ve):Ve,vt=j.length,ke=m?Jt=>m(hn(Jt[c.index])):c.index;let xt=null;if(!m&&v&&(xt=function ty(r,s,a,c){const d=r.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===a&&d[f+1]===c){const v=s[Ls],D=d[f+2];return v.length>D?v[D]:null}"string"==typeof m&&(f+=2)}return null}(r,s,d,c.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=f,xt.__ngLastListenerFn__=f,K=!1;else{f=LE(c,s,M,f,!1);const Jt=a.listen(rt,d,f);j.push(f,Jt),I&&I.push(d,ke,vt,vt+1)}}else f=LE(c,s,M,f,!1);const se=c.outputs;let Ie;if(K&&null!==se&&(Ie=se[d])){const Ve=Ie.length;if(Ve)for(let rt=0;rt<Ve;rt+=2){const Tn=s[Ie[rt]][Ie[rt+1]].subscribe(f),ts=j.length;j.push(f,Tn),I&&I.push(d,c.index,ts,-(ts+1))}}}(f,d,d[bt],m,r,s,c),Xv}function sh(r,s,a,c){try{return lr(6,s,a),!1!==a(c)}catch(d){return Iv(r,d),!1}finally{lr(7,s,a)}}function LE(r,s,a,c,d){return function f(m){if(m===Function)return c;Ld(r.componentOffset>-1?Ci(r.index,s):s);let D=sh(s,a,c,m),I=f.__ngNextListenerFn__;for(;I;)D=sh(s,a,I,m)&&D,I=I.__ngNextListenerFn__;return d&&!1===D&&m.preventDefault(),D}}function Xr(r=1){return function Mo(r){return(St.lFrame.contextLView=function gl(r,s){for(;r>0;)s=s[or],r--;return s}(r,St.lFrame.contextLView))[Bn]}(r)}function BE(r,s){let a=null;const c=function Mh(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===c?$a(r,f,!0):fc(c,f))return d}else a=d}return a}function VE(r){const s=xe()[Qn][Mi];if(!s.projection){const c=s.projection=Yc(r?r.length:1,null),d=c.slice();let f=s.child;for(;null!==f;){const m=r?BE(f,r):0;null!==m&&(d[m]?d[m].projectionNext=f:c[m]=f,d[m]=f),f=f.next}}}function jf(r,s=0,a){const c=xe(),d=en(),f=Bd(d,Wt+r,16,null,a||null);null===f.projection&&(f.projection=s),kc(),(!c[ar]||us())&&32!=(32&f.flags)&&function bb(r,s,a){qC(s[bt],0,s,a,fb(r,a,s),vb(a.parent||s[Mi],a,s))}(d,c,f)}function im(r,s,a){return dr(r,"",s,"",a),im}function dr(r,s,a,c,d){const f=xe(),m=zd(f,s,a,c);return m!==kt&&cr(en(),Vt(),f,r,m,f[bt],d,!1),dr}function Hf(r,s){return r<<17|s<<2}function Oa(r){return r>>17&32767}function ah(r){return 2|r}function wu(r){return(131068&r)>>2}function $f(r,s){return-131069&r|s<<2}function oy(r){return 1|r}function GE(r,s,a,c,d){const f=r[a+1],m=null===s;let v=c?Oa(f):wu(f),D=!1;for(;0!==v&&(!1===D||m);){const M=r[v+1];ay(r[v],s)&&(D=!0,r[v+1]=c?oy(M):ah(M)),v=c?Oa(M):wu(M)}D&&(r[a+1]=c?ah(f):oy(f))}function ay(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Sl(r,s)>=0}const Ni={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function WE(r){return r.substring(Ni.key,Ni.keyEnd)}function zE(r,s){const a=Ni.textEnd;return a===s?-1:(s=Ni.keyEnd=function NI(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,Ni.key=s,a),lo(r,s,a))}function lo(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function uy(r,s){return function uo(r,s,a,c){const d=xe(),f=en(),m=Mr(2);f.firstUpdatePass&&sm(f,r,m,c),s!==kt&&ur(d,m,s)&&MI(f,f.data[Nn()],d,d[bt],r,d[m+1]=function py(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=oe(Rl(r)))),r}(s,a),c,m)}(r,s,null,!0),uy}function JE(r){!function Is(r,s,a,c){const d=en(),f=Mr(2);d.firstUpdatePass&&sm(d,null,f,c);const m=xe();if(a!==kt&&ur(m,f,a)){const v=d.data[Nn()];if(tw(v,c)&&!hy(d,f)){let D=c?v.classesWithoutHost:v.stylesWithoutHost;null!==D&&(a=Ue(D,a||"")),Bf(d,v,m,a,c)}else!function Cu(r,s,a,c,d,f,m,v){d===kt&&(d=Xt);let D=0,I=0,M=0<d.length?d[0]:null,j=0<f.length?f[0]:null;for(;null!==M||null!==j;){const K=D<d.length?d[D+1]:void 0,se=I<f.length?f[I+1]:void 0;let Ve,Ie=null;M===j?(D+=2,I+=2,K!==se&&(Ie=j,Ve=se)):null===j||null!==M&&M<j?(D+=2,Ie=M):(I+=2,Ie=j,Ve=se),null!==Ie&&MI(r,s,a,c,Ie,Ve,m,v),M=D<d.length?d[D]:null,j=I<f.length?f[I]:null}}(d,v,m,m[bt],m[f+1],m[f+1]=function Du(r,s,a){if(null==a||""===a)return Xt;const c=[],d=Rl(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)r(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&r(c,f,d[f]);else"string"==typeof d&&s(c,d);return c}(r,s,a),c,f)}}(XE,co,r,!0)}function co(r,s){for(let a=function Jl(r){return function ZE(r){Ni.key=0,Ni.keyEnd=0,Ni.value=0,Ni.valueEnd=0,Ni.textEnd=r.length}(r),zE(r,lo(r,0,Ni.textEnd))}(s);a>=0;a=zE(s,a))ji(r,WE(s),!0)}function hy(r,s){return s>=r.expandoStartIndex}function sm(r,s,a,c){const d=r.data;if(null===d[a+1]){const f=d[Nn()],m=hy(r,a);tw(f,c)&&null===s&&!m&&(s=!1),s=function QE(r,s,a,c){const d=function Lc(r){const s=St.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=hr(a=ch(null,r,s,a,c),s.attrs,c),f=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==d)if(a=ch(d,r,s,a,c),null===f){let D=function Br(r,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==wu(c))return r[Oa(c)]}(r,s,c);void 0!==D&&Array.isArray(D)&&(D=ch(null,r,s,D[1],c),D=hr(D,s.attrs,c),function om(r,s,a,c){r[Oa(a?s.classBindings:s.styleBindings)]=c}(r,s,c,D))}else f=function Ql(r,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=hr(c,r[f].hostAttrs,a);return hr(c,s.attrs,a)}(r,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function SI(r,s,a,c,d,f){let m=f?s.classBindings:s.styleBindings,v=Oa(m),D=wu(m);r[c]=a;let M,I=!1;if(Array.isArray(a)?(M=a[1],(null===M||Sl(a,M)>0)&&(I=!0)):M=a,d)if(0!==D){const K=Oa(r[v+1]);r[c+1]=Hf(K,v),0!==K&&(r[K+1]=$f(r[K+1],c)),r[v+1]=function sy(r,s){return 131071&r|s<<17}(r[v+1],c)}else r[c+1]=Hf(v,0),0!==v&&(r[v+1]=$f(r[v+1],c)),v=c;else r[c+1]=Hf(D,0),0===v?v=c:r[D+1]=$f(r[D+1],c),D=c;I&&(r[c+1]=ah(r[c+1])),GE(r,M,c,!0),GE(r,M,c,!1),function AI(r,s,a,c,d){const f=d?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof s&&Sl(f,s)>=0&&(a[c+1]=oy(a[c+1]))}(s,M,r,c,f),m=Hf(v,D),f?s.classBindings=m:s.styleBindings=m}(d,f,s,a,m,c)}}function ch(r,s,a,c,d){let f=null;const m=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<m&&(f=s[v],c=hr(c,f.hostAttrs,d),f!==r);)v++;return null!==r&&(a.directiveStylingLast=v),c}function hr(r,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?d=m:d===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ji(r,m,!!a||s[++f]))}return void 0===r?null:r}function XE(r,s,a){const c=String(s);""!==c&&!c.includes(" ")&&ji(r,c,a)}function MI(r,s,a,c,d,f,m,v){if(!(3&s.type))return;const D=r.data,I=D[v+1],M=function TI(r){return 1==(1&r)}(I)?ew(D,s,a,d,wu(I),m):void 0;am(M)||(am(f)||function CI(r){return 2==(2&r)}(I)&&(f=ew(D,null,a,d,v,m)),function _A(r,s,a,c,d){if(s)d?r.addClass(a,c):r.removeClass(a,c);else{let f=-1===c.indexOf("-")?void 0:tf.DashCase;null==d?r.removeStyle(a,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=tf.Important),r.setStyle(a,c,d,f))}}(c,m,Sr(Nn(),a),d,f))}function ew(r,s,a,c,d,f){const m=null===s;let v;for(;d>0;){const D=r[d],I=Array.isArray(D),M=I?D[1]:D,j=null===M;let K=a[d+1];K===kt&&(K=j?Xt:void 0);let se=j?Il(K,c):M===c?K:void 0;if(I&&!am(se)&&(se=Il(D,c)),am(se)&&(v=se,m))return v;const Ie=r[d+1];d=m?Oa(Ie):wu(Ie)}if(null!==s){let D=f?s.residualClasses:s.residualStyles;null!=D&&(v=Il(D,c))}return v}function am(r){return void 0!==r}function tw(r,s){return 0!=(r.flags&(s?8:16))}function nw(r,s=""){const a=xe(),c=en(),d=r+Wt,f=c.firstCreatePass?Bd(c,d,1,s,null):c.data[d],m=iw(c,a,f,s,r);a[d]=m,Ys()&&mg(c,a,m,f),Ar(f,!1)}let iw=(r,s,a,c,d)=>(Pi(!0),N_(s[bt],c));function uh(r){return Xl("",r,""),uh}function Xl(r,s,a){const c=xe(),d=zd(c,r,s,a);return d!==kt&&function Er(r,s,a){const c=Sr(s,r);!function YC(r,s,a){r.setValue(s,a)}(r[bt],c,a)}(c,Nn(),d),Xl}function Dy(r,s,a){const c=xe();return ur(c,Ws(),s)&&cr(en(),Vt(),c,r,s,c[bt],a,!0),Dy}const Tu=void 0;var dw=["en",[["a","p"],["AM","PM"],Tu],[["AM","PM"],Tu,Tu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tu,"{1} 'at' {0}",Tu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qI(r){const a=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let dh={};function hw(r){const s=function JI(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=pw(s);if(a)return a;const c=s.split("-")[0];if(a=pw(c),a)return a;if("en"===c)return dw;throw new re(701,!1)}function fw(r){return hw(r)[hh.PluralCase]}function pw(r){return r in dh||(dh[r]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[r]),dh[r]}var hh=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(hh||{});const fh="en-US",Cy={marker:"element"},Ty={marker:"ICU"};var Vr=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Vr||{});let gw=fh;function Iy(r){(function Qe(r,s){null==r&&We(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(gw=r.toLowerCase().replace(/_/g,"-"))}function mw(r,s,a){const c=s.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?yb(r,0,a):hn(a[d])}function _w(r,s,a,c,d){const f=s.insertBeforeIndex;if(Array.isArray(f)){let m=c,v=null;if(3&s.type||(v=m,m=d),null!==m&&-1===s.componentOffset)for(let D=1;D<f.length;D++)Jc(r,m,a[f[D]],v,!1)}}function vw(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const c=r[a];Pa(c)||Xi(c,s)&&null===es(c)&&Zf(c,s.index)}}function Pa(r){return!(64&r.type)}function Xi(r,s){return Pa(s)||r.index>s.index}function es(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function Zf(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(O_(mw,_w),r.insertBeforeIndex=s)}function r1(r,s,a){const c=jn(r,a,64,null,null);return vw(s,c),c}function hm(){const r=[];let a,c,s=-1;function f(v,D){s=0;const I=function Rn(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(v,D);c=null!==I?v.remove[I]:Xt}function m(){if(s<c.length){const v=c[s++];return v>0?a[v]:(r.push(s,c),f(a[et].data[~v],a),m())}return 0===r.length?null:(c=r.pop(),s=r.pop(),m())}return function d(v,D){for(a=D;r.length;)r.pop();return f(v.value,D),m}}const Ay=/\ufffd(\d+):?\d*\ufffd/gi,a1=/\ufffd(\d+)\ufffd/,l1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,fm="\ufffd",UA=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,jA=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,HA=/\uE500/g;function pm(r,s,a,c,d,f,m){const v=uu(r,c,1,null);let D=v<<Vr.SHIFT,I=ga();s===I&&(I=null),null===I&&(D|=Vr.APPEND_EAGERLY),m&&(D|=Vr.COMMENT,function pA(r){void 0===dg&&(dg=r())}(hm)),d.push(D,null===f?"":f);const M=jn(r,v,m?32:1,null===f?"":f,null);vw(a,M);const j=M.index;return Ar(M,!1),null!==I&&s!==I&&function i1(r,s){let a=r.insertBeforeIndex;null===a?(O_(mw,_w),a=r.insertBeforeIndex=[null,s]):(function un(r,s,a){r!=s&&We(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(I,j),M}function Ny(r,s,a,c,d,f,m){const v=m.match(Ay),D=pm(r,s,a,f,c,v?null:m,!1);v&&Jf(d,m,D.index,null,0,null)}function Jf(r,s,a,c,d,f){const m=r.length,v=m+1;r.push(null,null);const D=m+2,I=s.split(Ay);let M=0;for(let j=0;j<I.length;j++){const K=I[j];if(1&j){const se=d+parseInt(K,10);r.push(-1-se),M|=Sw(se)}else""!==K&&r.push(K)}return r.push(a<<2|(c?1:0)),c&&r.push(c,f),r[m]=M,r[v]=r.length-D,M}function Sw(r){return 1<<Math.min(r,31)}function mm(r){let s,f,a="",c=0,d=!1;for(;null!==(s=UA.exec(r));)d?s[0]===`${fm}/*${f}${fm}`&&(c=s.index,d=!1):(a+=r.substring(c,s.index+s[0].length),f=s[1],d=!0);return a+=r.slice(c),a}function Aw(r,s,a,c,d,f){let m=0;const v={type:d.type,currentCaseLViewIndex:uu(r,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function tr(r,s,a){r.push(Sw(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,f),function n1(r,s,a){const c=r.data[s];null===c?r.data[s]=a:c.value=a}(r,f,v);const D=d.values;for(let I=0;I<D.length;I++){const M=D[I],j=[];for(let K=0;K<M.length;K++){const se=M[K];if("string"!=typeof se){const Ie=j.push(se)-1;M[K]=`\x3c!--\ufffd${Ie}\ufffd--\x3e`}}m=d1(r,v,s,a,c,d.cases[I],M.join(""),j)|m}m&&function vm(r,s,a){r.push(s,1,a<<2|3)}(a,m,f)}function u1(r){const s=[],a=[];let c=1,d=0;const f=_m(r=r.replace(l1,function(m,v,D){return c="select"===D?0:1,d=parseInt(v.slice(1),10),""}));for(let m=0;m<f.length;){let v=f[m++].trim();1===c&&(v=v.replace(/\s*(?:=)?(\w+)\s*/,"$1")),v.length&&s.push(v);const D=_m(f[m++]);s.length>a.length&&a.push(D)}return{type:c,mainBinding:d,cases:s,values:a}}function _m(r){if(!r)return[];let s=0;const a=[],c=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(r);){const v=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const D=r.substring(s,v);l1.test(D)?c.push(u1(D)):c.push(D),s=v+1}}else{if(0==a.length){const D=r.substring(s,v);c.push(D),s=v+1}a.push("{")}}const m=r.substring(s);return c.push(m),c}function d1(r,s,a,c,d,f,m,v){const D=[],I=[],M=[];s.cases.push(f),s.create.push(D),s.remove.push(I),s.update.push(M);const K=function Sb(r){const s=new EA(r);return function Ol(){try{return!!(new window.DOMParser).parseFromString(Ed(""),"text/html")}catch{return!1}}()?new cT(s):s}(af()).getInertBodyElement(m),se=function Cd(r){return"content"in r&&function Rb(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}(K)||K;return se?Nw(r,s,a,c,D,I,M,se,d,v,0):0}function Nw(r,s,a,c,d,f,m,v,D,I,M){let j=0,K=v.firstChild;for(;K;){const se=uu(r,a,1,null);switch(K.nodeType){case Node.ELEMENT_NODE:const Ie=K,Ve=Ie.tagName.toLowerCase();if(Nb.hasOwnProperty(Ve)){Qf(d,Cy,Ve,D,se),r.data[se]=Ve;const xt=Ie.attributes;for(let Jt=0;Jt<xt.length;Jt++){const Tn=xt.item(Jt),ts=Tn.name.toLowerCase();Tn.value.match(Ay)?Mb.hasOwnProperty(ts)&&Jf(m,Tn.value,se,Tn.name,0,V_[ts]?B_:null):My(d,se,Tn)}j=Nw(r,s,a,c,d,f,m,K,se,I,M+1)|j,Mw(f,se,M)}break;case Node.TEXT_NODE:const rt=K.textContent||"",vt=rt.match(Ay);Qf(d,null,vt?"":rt,D,se),Mw(f,se,M),vt&&(j=Jf(m,rt,se,null,0,null)|j);break;case Node.COMMENT_NODE:const ke=a1.exec(K.textContent||"");if(ke){const Jt=I[parseInt(ke[1],10)];Qf(d,Ty,"",D,se),Aw(r,a,c,D,Jt,se),h1(f,se,M)}}K=K.nextSibling}return j}function Mw(r,s,a){0===a&&r.push(s)}function h1(r,s,a){0===a&&(r.push(~s),r.push(s))}function Qf(r,s,a,c,d){null!==s&&r.push(s),r.push(a,d,function Ew(r,s,a){return r|s<<17|a<<1}(0,c,d))}function My(r,s,a){r.push(s<<1|1,a.name,a.value)}function Oy(r,s,a=-1){const c=en(),d=xe(),f=Wt+r,m=$s(c.consts,s),v=ga();c.firstCreatePass&&function GA(r,s,a,c,d,f){const m=ga(),v=[],D=[],I=[[]];d=function c1(r,s){if(function gm(r){return-1===r}(s))return mm(r);{const a=r.indexOf(`:${s}${fm}`)+2+s.toString().length,c=r.search(new RegExp(`${fm}\\/\\*\\d+:${s}${fm}`));return mm(r.substring(a,c))}}(d,f);const M=function $A(r){return r.replace(HA," ")}(d).split(jA);for(let j=0;j<M.length;j++){let K=M[j];if(1&j){const se=47===K.charCodeAt(0),Ve=(K.charCodeAt(se?1:0),Wt+Number.parseInt(K.substring(se?2:1)));if(se)I.shift(),Ar(ga(),!1);else{const rt=r1(r,I[0],Ve);I.unshift([]),Ar(rt,!0)}}else{const se=_m(K);for(let Ie=0;Ie<se.length;Ie++){let Ve=se[Ie];if(1&Ie){const rt=Ve;if("object"!=typeof rt)throw new Error(`Unable to parse ICU expression in "${d}" message.`);Aw(r,a,D,s,rt,pm(r,m,I[0],a,v,"",!0).index)}else""!==Ve&&Ny(r,m,I[0],v,D,a,Ve)}}}r.data[c]={create:v,update:D}}(c,null===v?0:v.index,d,f,m,a),2===c.type?d[Qn][Pt]|=32:d[Pt]|=32;const D=c.data[f],M=pb(c,v===d[Mi]?null:v,d);(function um(r,s,a,c){const d=r[bt];for(let f=0;f<s.length;f++){const m=s[f++],v=s[f],I=(m&Vr.APPEND_EAGERLY)===Vr.APPEND_EAGERLY,M=m>>>Vr.SHIFT;let j=r[M];null===j&&(j=r[M]=(m&Vr.COMMENT)===Vr.COMMENT?d.createComment(v):N_(d,v)),I&&null!==a&&Jc(d,a,j,c,!1)}})(d,D.create,M,v&&8&v.type?d[v.index]:null),nd(!0)}function Py(r,s,a){Oy(r,s,a),function tp(){nd(!1)}()}function bm(r,s,a,c,d){if(r=Pe(r),Array.isArray(r))for(let f=0;f<r.length;f++)bm(r[f],s,a,c,d);else{const f=en(),m=xe(),v=hi();let D=Bl(r)?r:Pe(r.provide);const I=jl(r),M=1048575&v.providerIndexes,j=v.directiveStart,K=v.providerIndexes>>20;if(Bl(r)||!r.multi){const se=new qn(I,d,jo),Ie=Iu(D,s,d?M:M+K,j);-1===Ie?(to(Qs(v,m),f,D),np(f,r,s.length),s.push(D),v.directiveStart++,v.directiveEnd++,d&&(v.providerIndexes+=1048576),a.push(se),m.push(se)):(a[Ie]=se,m[Ie]=se)}else{const se=Iu(D,s,M+K,j),Ie=Iu(D,s,M,M+K),rt=Ie>=0&&a[Ie];if(d&&!rt||!d&&!(se>=0&&a[se])){to(Qs(v,m),f,D);const vt=function E1(r,s,a,c,d){const f=new qn(r,a,jo);return f.multi=[],f.index=s,f.componentProviders=0,ky(f,d,c&&!a),f}(d?Fy:b1,a.length,d,c,I);!d&&rt&&(a[Ie].providerFactory=vt),np(f,r,s.length,0),s.push(D),v.directiveStart++,v.directiveEnd++,d&&(v.providerIndexes+=1048576),a.push(vt),m.push(vt)}else np(f,r,se>-1?se:Ie,ky(a[d?Ie:se],I,!d&&c));!d&&c&&rt&&a[Ie].componentProviders++}}}function np(r,s,a,c){const d=Bl(s),f=function Lb(r){return!!r.useClass}(s);if(d||f){const D=(f?Pe(s.useClass):s).prototype.ngOnDestroy;if(D){const I=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const M=I.indexOf(a);-1===M?I.push(a,[c,D]):I[M+1].push(c,D)}else I.push(a,D)}}}function ky(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Iu(r,s,a,c){for(let d=a;d<c;d++)if(s[d]===r)return d;return-1}function b1(r,s,a,c){return ip(this.multi,[])}function Fy(r,s,a,c){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=gs(a,a[et],this.providerFactory.index,c);f=v.slice(0,m),ip(d,f);for(let D=m;D<v.length;D++)f.push(v[D])}else f=[],ip(d,f);return f}function ip(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function Em(r,s=[]){return a=>{a.providersResolver=(c,d)=>function xy(r,s,a){const c=en();if(c.firstCreatePass){const d=Vi(r);bm(a,c.data,c.blueprint,d,!0),bm(s,c.data,c.blueprint,d,!1)}}(c,d?d(r):r,s)}}class ka{}class wm{}function Ly(r,s){return new By(r,s??null,[])}class By extends ka{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gE(this);const d=ui(s);this._bootstrapComponents=Ia(d.bootstrap),this._r3Injector=lv(s,a,[{provide:ka,useValue:this},{provide:Pg,useValue:this.componentFactoryResolver},...c],oe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Vy extends wm{constructor(s){super(),this.moduleType=s}create(s){return new By(this.moduleType,s,[])}}class Cm extends ka{constructor(s){super(),this.componentFactoryResolver=new gE(this),this.instance=null;const a=new iu([...s.providers,{provide:ka,useValue:this},{provide:Pg,useValue:this.componentFactoryResolver}],s.parent||xi(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Uy(r,s,a=null){return new Cm({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let jy=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=xb(0,a.type),d=c.length>0?Uy([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ft({token:r,providedIn:"environment",factory:()=>new r(Ke(Vo))})}return r})();function Tm(r){r.getStandaloneInjector=s=>s.get(jy).getOrCreateStandaloneInjector(r)}function Sm(r,s,a,c){return function Zw(r,s,a,c,d,f){const m=s+a;return ur(r,m,d)?$o(r,m+1,f?c.call(f,d):c(d)):Am(r,m+1)}(xe(),fi(),r,s,a,c)}function Uw(r,s,a,c,d){return function A1(r,s,a,c,d,f,m){const v=s+a;return mu(r,v,d,f)?$o(r,v+2,m?c.call(m,d,f):c(d,f)):Am(r,v+2)}(xe(),fi(),r,s,a,c,d)}function jw(r,s,a,c,d,f){return function N1(r,s,a,c,d,f,m,v){const D=s+a;return function Rf(r,s,a,c,d){const f=mu(r,s,a,c);return ur(r,s+2,d)||f}(r,D,d,f,m)?$o(r,D+3,v?c.call(v,d,f,m):c(d,f,m)):Am(r,D+3)}(xe(),fi(),r,s,a,c,d,f)}function Am(r,s){const a=r[s];return a===kt?void 0:a}function P1(){return this._results[Symbol.iterator]()}class qw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Es)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=qw.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=P1)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function mi(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Kr(r,s,a){if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++){let d=r[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function QA(r,s,a,c=!0){const d=s[et];if(function vd(r,s,a,c){const d=Xn+c,f=a.length;c>0&&(a[d-1][$i]=s),c<f-Xn?(s[$i]=a[d],j0(a,Xn+c,s)):(a.push(s),s[$i]=null),s[Dn]=a;const m=s[Do];null!==m&&a!==m&&function br(r,s){const a=r[as];s[Qn]!==s[Dn][Dn][Qn]&&(r[Co]=!0),null===a?r[as]=[s]:a.push(s)}(m,s);const v=s[Ri];null!==v&&v.insertView(r),s[Pt]|=128}(d,s,r,a),c){const f=sf(a,r),m=s[bt],v=oo(m,r[di]);null!==v&&function Tt(r,s,a,c,d,f){c[Ln]=d,c[Mi]=s,eu(r,c,a,1,d,f)}(d,r[Mi],m,s,v,f)}}let sp=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=tN}return r})();const XA=sp,eN=class extends XA{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,c){const d=function x1(r,s,a,c){const d=s.tView,v=Wl(r,d,a,4096&r[Pt]?4096:16,null,s,null,null,null,c?.injector??null,c?.hydrationInfo??null);v[Do]=r[s.index];const I=r[Ri];return null!==I&&(v[Ri]=I.createEmbeddedView(d)),Mn(d,v,a),v}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:c});return new Tf(d)}};function tN(){return Zy(hi(),xe())}function Zy(r,s){return 4&r.type?new eN(s,r,Od(r,s)):null}let ph=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=nN}return r})();function nN(){return Jy(hi(),xe())}const L1=ph,tD=class extends L1{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Od(this._hostTNode,this._hostLView)}get injector(){return new En(this._hostTNode,this._hostLView)}get parentInjector(){const s=eo(this._hostTNode,this._hostLView);if(ma(s)){const a=fs(s,this._hostLView),c=Ks(s);return new En(a[et].data[c+8],a)}return new En(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Ky(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Xn}createEmbeddedView(s,a,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const v=s.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(v,d,false),v}createComponent(s,a,c,d,f){const m=s&&!function gi(r){return"function"==typeof r}(s);let v;if(m)v=a;else{const Ve=a||{};v=Ve.index,c=Ve.injector,d=Ve.projectableNodes,f=Ve.environmentInjector||Ve.ngModuleRef}const D=m?s:new If(Kt(s)),I=c||this.parentInjector;if(!f&&null==D.ngModule){const rt=(m?I:this.parentInjector).get(Vo,null);rt&&(f=rt)}Kt(D.componentType??{});const se=D.create(I,d,null,f);return this.insertImpl(se.hostView,v,false),se}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const d=s._lView;if(function ol(r){return wi(r[Dn])}(d)){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const I=d[Dn],M=new tD(I,I[Mi],I[Dn]);M.detach(M.indexOf(s))}}const m=this._adjustIndex(a),v=this._lContainer;return QA(v,d,m,!c),s.attachToViewContainerRef(),j0(Rm(v),m,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Ky(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Ml(this._lContainer,a);c&&(Tl(Rm(this._lContainer),a),si(c[et],c))}detach(s){const a=this._adjustIndex(s,-1),c=Ml(this._lContainer,a);return c&&null!=Tl(Rm(this._lContainer),a)?new Tf(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function Ky(r){return r[8]}function Rm(r){return r[8]||(r[8]=[])}function Jy(r,s){let a;const c=s[r.index];return wi(c)?a=c:(a=Sa(c,s,null,r),s[r.index]=a,Hg(s,a)),gh(a,s,r,c),new tD(a,r,s)}let gh=function iD(r,s,a,c){if(r[di])return;let d;d=8&a.type?hn(c):function nD(r,s){const a=r[bt],c=a.createComment(""),d=Oi(s,r);return Jc(a,oo(a,d),c,function mA(r,s){return r.nextSibling(s)}(a,d),!1),c}(s,a),r[di]=d};class Qy{constructor(s){this.queryList=s,this.matches=null}clone(){return new Qy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Om{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const m=a.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new Om(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==km(s,a).matches&&this.queries[a].setDirty()}}class Xy{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class Pm{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new Pm(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class e0{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new e0(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,V1(a,f)),this.matchTNodeWithReadOption(s,a,Pr(a,s,f,!1,!1))}else c===sp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Pr(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ys||d===ph||d===sp&&4&a.type)this.addMatch(a.index,-2);else{const f=Pr(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function V1(r,s){const a=r.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function sD(r,s,a,c){return-1===a?function U1(r,s){return 11&r.type?Od(r,s):4&r.type?Zy(r,s):null}(s,r):-2===a?function j1(r,s,a){return a===ys?Od(s,r):a===sp?Zy(s,r):a===ph?Jy(s,r):void 0}(r,s,c):gs(r,r[et],a,s)}function oD(r,s,a,c){const d=s[Ri].queries[c];if(null===d.matches){const f=r.data,m=a.matches,v=[];for(let D=0;D<m.length;D+=2){const I=m[D];v.push(I<0?null:sD(s,f[I],m[D+1],a.metadata.read))}d.matches=v}return d.matches}function xm(r,s,a,c){const d=r.queries.getByIndex(a),f=d.matches;if(null!==f){const m=oD(r,s,d,a);for(let v=0;v<f.length;v+=2){const D=f[v];if(D>0)c.push(m[v/2]);else{const I=f[v+1],M=s[-D];for(let j=Xn;j<M.length;j++){const K=M[j];K[Do]===K[Dn]&&xm(K[et],K,I,c)}if(null!==M[as]){const j=M[as];for(let K=0;K<j.length;K++){const se=j[K];xm(se[et],se,I,c)}}}}}return c}function aD(r){const s=xe(),a=en(),c=Bc();id(c+1);const d=km(a,c);if(r.dirty&&function Oc(r){return 4==(4&r[Pt])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const f=d.crossesNgTemplate?xm(a,s,c,[]):oD(a,s,d,c);r.reset(f,nv),r.notifyOnChanges()}return!0}return!1}function lD(r,s,a){const c=en();c.firstCreatePass&&(Ns(c,new Xy(r,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),uD(c,xe(),s)}function cD(r,s,a,c){const d=en();if(d.firstCreatePass){const f=hi();Ns(d,new Xy(s,a,c),f.index),function $1(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}uD(d,xe(),a)}function t0(){return function H1(r,s){return r[Ri].queries[s].queryList}(xe(),Bc())}function uD(r,s,a){const c=new qw(4==(4&a));(function KT(r,s,a,c){const d=hE(s);d.push(a),r.firstCreatePass&&wf(r).push(c,d.length-1)})(r,s,c,c.destroy),null===s[Ri]&&(s[Ri]=new Om),s[Ri].queries.push(new Qy(c))}function Ns(r,s,a){null===r.queries&&(r.queries=new Pm),r.queries.track(new e0(s,a))}function km(r,s){return r.queries.getByIndex(s)}function dD(r,s){return Zy(r,s)}function lp(r){return!!ui(r)}const DD=new B("Application Initializer");let jm=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=it(DD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const f=d();if(Ts(f))a.push(f);else if(ih(f)){const m=new Promise((v,D)=>{f.subscribe({complete:v,error:D})});a.push(m)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),l0=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const Zo=new B("LocaleId",{providedIn:"root",factory:()=>it(Zo,Xe.Optional|Xe.SkipSelf)||function eS(){return typeof $localize<"u"&&$localize.locale||fh}()}),tS=new B("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let bh=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ae.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class c0{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let CD=(()=>{class r{compileModuleSync(a){return new Vy(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),f=Ia(ui(a).declarations).reduce((m,v)=>{const D=Kt(v);return D&&m.push(new If(D)),m},[]);return new c0(c,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const OD=new B(""),PD=new B("");let kD,xD=(()=>{class r{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kD||(function h0(r){kD=r}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}static#e=this.\u0275fac=function(c){return new(c||r)(Ke(Zt),Ke(Ym),Ke(PD))};static#t=this.\u0275prov=ft({token:r,factory:r.\u0275fac})}return r})(),Ym=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return kD?.findTestabilityInTree(this,a,c)??null}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),ic=null;const wh=new B("AllowMultipleToken"),qm=new B("PlatformDestroyListeners"),vp=new B("appBootstrapListener");class LD{constructor(s,a){this.name=s,this.token=a}}function yp(r,s,a=[]){const c=`Platform: ${s}`,d=new B(c);return(f=[])=>{let m=bp();if(!m||m.injector.get(wh,!1)){const v=[...a,...f,{provide:d,useValue:!0}];r?r(v):function cS(r){if(ic&&!ic.get(wh,!1))throw new re(400,!1);(function Ou(){!function Wu(r){Gu=r}(()=>{throw new re(600,!1)})})(),ic=r;const s=r.get(Jm);(function p0(r){r.get(Vb,null)?.forEach(a=>a())})(r)}(function Km(r=[],s){return bs.create({name:s,providers:[{provide:Si,useValue:"platform"},{provide:qm,useValue:new Set([()=>ic=null])},...r]})}(v,c))}return function BD(r){const s=bp();if(!s)throw new re(401,!1);return s}()}}function bp(){return ic?.get(Jm)??null}let Jm=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function dS(r="zone.js",s){return"noop"===r?new VT:"zone.js"===r?new Zt(s):r}(c?.ngZone,function Qm(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function Dm(r,s,a){return new By(r,s,a)}(a.moduleType,this.injector,function HD(r){return[{provide:Zt,useFactory:r},{provide:kl,multi:!0,useFactory:()=>{const s=it(jD,{optional:!0});return()=>s.initialize()}},{provide:UD,useFactory:m0},{provide:hv,useFactory:Gl}]}(()=>d)),m=f.injector.get(Ta,null);return d.runOutsideAngular(()=>{const v=d.onError.subscribe({next:D=>{m.handleError(D)}});f.onDestroy(()=>{sc(this._modules,f),v.unsubscribe()})}),function Ep(r,s,a){try{const c=a();return Ts(c)?c.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>r.handleError(c)),c}}(m,d,()=>{const v=f.injector.get(jm);return v.runInitializers(),v.donePromise.then(()=>(Iy(f.injector.get(Zo,fh)||fh),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,c=[]){const d=g0({},c);return function f0(r,s,a){const c=new Vy(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(Ch);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new re(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(qm,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||r)(Ke(bs))};static#t=this.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function g0(r,s){return Array.isArray(s)?s.reduce(g0,r):{...r,...s}}let Ch=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=it(UD),this.zoneIsStable=it(hv),this.componentTypes=[],this.components=[],this.isStable=it(bh).hasPendingTasks.pipe((0,Se.w)(a=>a?(0,de.of)(!1):this.zoneIsStable),(0,pe.x)(),(0,ye.B)()),this._injector=it(Vo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof Hb;if(!this._injector.get(jm).done)throw!d&&Eo(a),new re(405,!1);let m;m=d?a:this._injector.get(Pg).resolveComponentFactory(a),this.componentTypes.push(m.componentType);const v=function FD(r){return r.isBoundToModule}(m)?void 0:this._injector.get(ka),I=m.create(bs.NULL,[],c||m.selector,v),M=I.location.nativeElement,j=I.injector.get(OD,null);return j?.registerApplication(M),I.onDestroy(()=>{this.detachView(I.hostView),sc(this.components,I),j?.unregisterApplication(M)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;sc(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(vp,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>sc(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new re(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function sc(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const UD=new B("",{providedIn:"root",factory:()=>it(Ta).handleError.bind(void 0)});function m0(){const r=it(Zt),s=it(Ta);return a=>r.runOutsideAngular(()=>s.handleError(a))}let jD=(()=>{class r{constructor(){this.zone=it(Zt),this.applicationRef=it(Ch)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function GD(){return!1}let _N=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=pS}return r})();function pS(r){return function vN(r,s,a){if(Yr(r)&&!a){const c=Ci(r.index,s);return new Tf(c,c)}return 47&r.type?new Tf(s[Qn],s):null}(hi(),xe(),16==(16&r))}class ZD{constructor(){}supports(s){return Nf(s)}create(s){return new vS(s)}}const _S=(r,s)=>s;class vS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||_S}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const m=!c||a&&a.currentIndex<w0(c,d,f)?a:c,v=w0(m,d,f),D=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{f||(f=[]);const I=v-d,M=D-d;if(I!=M){for(let K=0;K<I;K++){const se=K<f.length?f[K]:f[K]=0,Ie=se+K;M<=Ie&&Ie<I&&(f[K]=se+1)}f[m.previousIndex]=M-I}}v!==D&&s(m,v,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Nf(s))throw new re(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,m,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],m=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,m)?(c&&(a=this._verifyReinsertion(a,f,m,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,m,v),c=!0),a=a._next}else d=0,function fI(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,v=>{m=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,m)?(c&&(a=this._verifyReinsertion(a,v,m,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,m,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new yS(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new YD),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YD),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class yS{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CN{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class YD{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new CN,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function w0(r,s,a){const c=r.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class Cp{constructor(){}supports(s){return s instanceof Map||Bv(s)}create(){return new Th}}class Th{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Bv(s)))throw new re(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const c=new bS(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class bS{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qD(){return new D0([new ZD])}let D0=(()=>{class r{static#e=this.\u0275prov=ft({token:r,providedIn:"root",factory:qD});constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||qD()),deps:[[r,new nt,new fe]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new re(901,!1)}}return r})();function KD(){return new C0([new Cp])}let C0=(()=>{class r{static#e=this.\u0275prov=ft({token:r,providedIn:"root",factory:KD});constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||KD()),deps:[[r,new nt,new fe]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new re(901,!1)}}return r})();const CS=yp(null,"core",[]);let e_=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(c){return new(c||r)(Ke(Ch))};static#t=this.\u0275mod=gc({type:r});static#n=this.\u0275inj=bn({})}return r})();function MS(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function RS(r,s){const a=Kt(r),c=s.elementInjector||xi();return new If(a).create(c,s.projectableNodes,s.hostElement,s.environmentInjector)}function cC(r){const s=Kt(r);if(!s)return null;const a=new If(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(lt,De,x)=>{x.d(De,{Z:()=>ze});var l=x(9058),$=x(4537),R=x(7592),ee=x(7879);class ae{constructor(qe,Me){this._delegate=qe,this.firebase=Me,(0,R._addComponent)(qe,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(qe,Me=R._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(qe);return!ot.isInitialized()&&"EXPLICIT"===(null===(ht=ot.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:Me})}_removeServiceInstance(qe,Me=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(Me)}_addComponent(qe){(0,R._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,R._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ye=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function pe(){const Pe=function Se(Pe){const qe={},Me={__esModule:!0,initializeApp:function re(Be,G={}){const Ne=R.initializeApp(Be,G);if((0,l.r3)(qe,Ne.name))return qe[Ne.name];const Ge=new Pe(Ne,Me);return qe[Ne.name]=Ge,Ge},app:ot,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function ce(Be){const G=Be.name,Ne=G.replace("-compat","");if(R._registerComponent(Be)&&"PUBLIC"===Be.type){const Ge=(mt=ot())=>{if("function"!=typeof mt[Ne])throw ye.create("invalid-app-argument",{appName:G});return mt[Ne]()};void 0!==Be.serviceProps&&(0,l.ZB)(Ge,Be.serviceProps),Me[Ne]=Ge,Pe.prototype[Ne]=function(...mt){return this._getService.bind(this,G).apply(this,Be.multipleInstances?mt:[])}}return"PUBLIC"===Be.type?Me[Ne]:null},removeApp:function ht(Be){delete qe[Be]},useAsService:function we(Be,G){return"serverAuth"===G?null:G},modularAPIs:R}};function ot(Be){if(!(0,l.r3)(qe,Be=Be||R._DEFAULT_ENTRY_NAME))throw ye.create("no-app",{appName:Be});return qe[Be]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function be(){return Object.keys(qe).map(Be=>qe[Be])}}),ot.App=Pe,Me}(ae);return Pe.INTERNAL=Object.assign(Object.assign({},Pe.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function qe(Me){(0,l.ZB)(Pe,Me)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Pe}(),Z=new ee.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pe=self.firebase.SDK_VERSION;Pe&&Pe.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=H;!function Oe(Pe){(0,R.registerVersion)("@firebase/app-compat","0.2.13",Pe)}()},7592:(lt,De,x)=>{x.r(De),x.d(De,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>bn,_DEFAULT_ENTRY_NAME:()=>le,_addComponent:()=>Te,_addOrOverwriteComponent:()=>He,_apps:()=>me,_clearComponents:()=>yt,_components:()=>ue,_getProvider:()=>We,_registerComponent:()=>Qe,_removeServiceInstance:()=>Qt,deleteApp:()=>ge,getApp:()=>X,getApps:()=>J,initializeApp:()=>pn,onLog:()=>Ze,registerVersion:()=>je,setLogLevel:()=>rn});var l=x(5861),$=x(4537),R=x(7879),ee=x(9058),ae=x(1878);class de{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function ye(_e){const Y=_e.getComponent();return"VERSION"===Y?.type}(Ee)){const $e=Ee.getImmediate();return`${$e.library}/${$e.version}`}return null}).filter(Ee=>Ee).join(" ")}}const Se="@firebase/app",H=new R.Yd("@firebase/app"),le="[DEFAULT]",he={[Se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},me=new Map,ue=new Map;function Te(_e,Y){try{_e.container.addComponent(Y)}catch(Ee){H.debug(`Component ${Y.name} failed to register with FirebaseApp ${_e.name}`,Ee)}}function He(_e,Y){_e.container.addOrOverwriteComponent(Y)}function Qe(_e){const Y=_e.name;if(ue.has(Y))return H.debug(`There were multiple attempts to register component ${Y}.`),!1;ue.set(Y,_e);for(const Ee of me.values())Te(Ee,_e);return!0}function We(_e,Y){const Ee=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),_e.container.getProvider(Y)}function Qt(_e,Y,Ee=le){We(_e,Y).clearInstance(Ee)}function yt(){ue.clear()}const ft=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qt{constructor(Y,Ee,$e){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=$e,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}const bn="9.23.0";function pn(_e,Y={}){let Ee=_e;"object"!=typeof Y&&(Y={name:Y});const $e=Object.assign({name:le,automaticDataCollectionEnabled:!1},Y),at=$e.name;if("string"!=typeof at||!at)throw ft.create("bad-app-name",{appName:String(at)});if(Ee||(Ee=(0,ee.aH)()),!Ee)throw ft.create("no-options");const pt=me.get(at);if(pt){if((0,ee.vZ)(Ee,pt.options)&&(0,ee.vZ)($e,pt.config))return pt;throw ft.create("duplicate-app",{appName:at})}const an=new $.H0(at);for(const W of ue.values())an.addComponent(W);const z=new qt(Ee,$e,an);return me.set(at,z),z}function X(_e=le){const Y=me.get(_e);if(!Y&&_e===le&&(0,ee.aH)())return pn();if(!Y)throw ft.create("no-app",{appName:_e});return Y}function J(){return Array.from(me.values())}function ge(_e){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(_e){const Y=_e.name;me.has(Y)&&(me.delete(Y),yield Promise.all(_e.container.getProviders().map(Ee=>Ee.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function je(_e,Y,Ee){var $e;let at=null!==($e=he[_e])&&void 0!==$e?$e:_e;Ee&&(at+=`-${Ee}`);const pt=at.match(/\s|\//),an=Y.match(/\s|\//);if(pt||an){const z=[`Unable to register library "${at}" with version "${Y}":`];return pt&&z.push(`library name "${at}" contains illegal characters (whitespace or "/")`),pt&&an&&z.push("and"),an&&z.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void H.warn(z.join(" "))}Qe(new $.wA(`${at}-version`,()=>({library:at,version:Y}),"VERSION"))}function Ze(_e,Y){if(null!==_e&&"function"!=typeof _e)throw ft.create("invalid-log-argument");(0,R.Am)(_e,Y)}function rn(_e){(0,R.Ub)(_e)}const jt="firebase-heartbeat-database",Xe=1,st="firebase-heartbeat-store";let wt=null;function Ot(){return wt||(wt=(0,ae.X3)(jt,Xe,{upgrade:(_e,Y)=>{0===Y&&_e.createObjectStore(st)}}).catch(_e=>{throw ft.create("idb-open",{originalErrorMessage:_e.message})})),wt}function An(){return(An=(0,l.Z)(function*(_e){try{return yield(yield Ot()).transaction(st).objectStore(st).get(sn(_e))}catch(Y){if(Y instanceof ee.ZR)H.warn(Y.message);else{const Ee=ft.create("idb-get",{originalErrorMessage:Y?.message});H.warn(Ee.message)}}})).apply(this,arguments)}function Ct(_e,Y){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(_e,Y){try{const $e=(yield Ot()).transaction(st,"readwrite");yield $e.objectStore(st).put(Y,sn(_e)),yield $e.done}catch(Ee){if(Ee instanceof ee.ZR)H.warn(Ee.message);else{const $e=ft.create("idb-set",{originalErrorMessage:Ee?.message});H.warn($e.message)}}})).apply(this,arguments)}function sn(_e){return`${_e.name}!${_e.options.appId}`}class Lt{constructor(Y){this.container=Y,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new Hi(Ee),this._heartbeatsCachePromise=this._storage.read().then($e=>(this._heartbeatsCache=$e,$e))}triggerHeartbeat(){var Y=this;return(0,l.Z)(function*(){const $e=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=mn();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==at&&!Y._heartbeatsCache.heartbeats.some(pt=>pt.date===at))return Y._heartbeatsCache.heartbeats.push({date:at,agent:$e}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(pt=>{const an=new Date(pt.date).valueOf();return Date.now()-an<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,l.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const Ee=mn(),{heartbeatsToSend:$e,unsentEntries:at}=function ki(_e,Y=1024){const Ee=[];let $e=_e.slice();for(const at of _e){const pt=Ee.find(an=>an.agent===at.agent);if(pt){if(pt.dates.push(at.date),Wn(Ee)>Y){pt.dates.pop();break}}else if(Ee.push({agent:at.agent,dates:[at.date]}),Wn(Ee)>Y){Ee.pop();break}$e=$e.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:$e}}(Y._heartbeatsCache.heartbeats),pt=(0,ee.L)(JSON.stringify({version:2,heartbeats:$e}));return Y._heartbeatsCache.lastSentHeartbeatDate=Ee,at.length>0?(Y._heartbeatsCache.heartbeats=at,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),pt})()}}function mn(){return(new Date).toISOString().substring(0,10)}class Hi{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,l.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function wn(_e){return An.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var Ee=this;return(0,l.Z)(function*(){var $e;if(yield Ee._canUseIndexedDBPromise){const pt=yield Ee.read();return Ct(Ee.app,{lastSentHeartbeatDate:null!==($e=Y.lastSentHeartbeatDate)&&void 0!==$e?$e:pt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var Ee=this;return(0,l.Z)(function*(){var $e;if(yield Ee._canUseIndexedDBPromise){const pt=yield Ee.read();return Ct(Ee.app,{lastSentHeartbeatDate:null!==($e=Y.lastSentHeartbeatDate)&&void 0!==$e?$e:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...Y.heartbeats]})}})()}}function Wn(_e){return(0,ee.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function kn(_e){Qe(new $.wA("platform-logger",Y=>new de(Y),"PRIVATE")),Qe(new $.wA("heartbeat",Y=>new Lt(Y),"PRIVATE")),je(Se,"0.9.13",_e),je(Se,"0.9.13","esm2017"),je("fire-js","")}("")},4097:(lt,De,x)=>{x.d(De,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=x(7592);(0,l.registerVersion)("firebase","9.23.0","app")},120:(lt,De,x)=>{x.d(De,{Z:()=>l.Z});var l=x(3399);l.Z.registerVersion("firebase","9.23.0","app-compat")},8661:(lt,De,x)=>{x.r(De);var l=x(5861),$=x(3399),R=x(6710),ee=x(9058),ye=(x(7592),x(7879),x(4537));function Se(){return window}function Z(){return Z=(0,l.Z)(function*(k,F,O){var ne;const{BuildInfo:Re}=Se();(0,R.as)(F.sessionId,"AuthEvent did not contain a session ID");const Ke=yield function Me(k){return ht.apply(this,arguments)}(F.sessionId),At={};return(0,R.at)()?At.ibi=Re.packageName:(0,R.au)()?At.apn=Re.packageName:(0,R.av)(k,"operation-not-supported-in-this-environment"),Re.displayName&&(At.appDisplayName=Re.displayName),At.sessionId=Ke,(0,R.aw)(k,O,F.type,void 0,null!==(ne=F.eventId)&&void 0!==ne?ne:void 0,At)}),Z.apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(k){const{BuildInfo:F}=Se(),O={};(0,R.at)()?O.iosBundleId=F.packageName:(0,R.au)()?O.androidPackageName=F.packageName:(0,R.av)(k,"operation-not-supported-in-this-environment"),yield(0,R.ax)(k,O)})).apply(this,arguments)}function Pe(){return(Pe=(0,l.Z)(function*(k,F,O){const{cordova:ne}=Se();let Re=()=>{};try{yield new Promise((Ke,At)=>{let it=null;function cn(){var Bt;Ke();const Fi=null===(Bt=ne.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof Fi&&Fi(),"function"==typeof O?.close&&O.close()}function Rt(){it||(it=window.setTimeout(()=>{At((0,R.az)(k,"redirect-cancelled-by-user"))},2e3))}function _n(){"visible"===document?.visibilityState&&Rt()}F.addPassiveListener(cn),document.addEventListener("resume",Rt,!1),(0,R.au)()&&document.addEventListener("visibilitychange",_n,!1),Re=()=>{F.removePassiveListener(cn),document.removeEventListener("resume",Rt,!1),document.removeEventListener("visibilitychange",_n,!1),it&&window.clearTimeout(it)}})}finally{Re()}})).apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(k){const F=function ot(k){if((0,R.as)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const F=new ArrayBuffer(k.length),O=new Uint8Array(F);for(let ne=0;ne<k.length;ne++)O[ne]=k.charCodeAt(ne);return O}(k),O=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(O)).map(Re=>Re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class be extends R.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(F)),super.onEvent(F)}initialized(){var F=this;return(0,l.Z)(function*(){yield F.initPromise})()}}function Be(k){return G.apply(this,arguments)}function G(){return(G=(0,l.Z)(function*(k){const F=yield mt()._get($t(k));return F&&(yield mt()._remove($t(k))),F})).apply(this,arguments)}function Ge(){const k=[];for(let O=0;O<20;O++){const ne=Math.floor(62*Math.random());k.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ne))}return k.join("")}function mt(){return(0,R.aC)(R.b)}function $t(k){return(0,R.aD)("authEvent",k.config.apiKey,k.name)}function un(k){if(!k?.includes("?"))return{};const[F,...O]=k.split("?");return(0,ee.zd)(O.join("?"))}const le=class Gn{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(F){var O=this;return(0,l.Z)(function*(){const ne=F._key();let Re=O.eventManagers.get(ne);return Re||(Re=new be(F),O.eventManagers.set(ne,Re),O.attachCallbackListeners(F,Re)),Re})()}_openPopup(F){(0,R.av)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,O,ne,Re){var Ke=this;return(0,l.Z)(function*(){!function qe(k){var F,O,ne,Re,Ke,At,it,cn,Rt,_n;const Bt=Se();(0,R.aA)("function"==typeof(null===(F=Bt?.universalLinks)||void 0===F?void 0:F.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.aA)(typeof(null===(O=Bt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.aA)("function"==typeof(null===(Ke=null===(Re=null===(ne=Bt?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===Ke?void 0:Ke.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(cn=null===(it=null===(At=Bt?.cordova)||void 0===At?void 0:At.plugins)||void 0===it?void 0:it.browsertab)||void 0===cn?void 0:cn.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.aA)("function"==typeof(null===(_n=null===(Rt=Bt?.cordova)||void 0===Rt?void 0:Rt.InAppBrowser)||void 0===_n?void 0:_n.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const At=yield Ke._initialize(F);yield At.initialized(),At.resetRedirect(),(0,R.aG)(),yield Ke._originValidation(F);const it=function ce(k,F,O=null){return{type:F,eventId:O,urlResponse:null,sessionId:Ge(),postBody:null,tenantId:k.tenantId,error:(0,R.az)(k,"no-auth-event")}}(F,ne,Re);yield function we(k,F){return mt()._set($t(k),F)}(F,it);const cn=yield function H(k,F,O){return Z.apply(this,arguments)}(F,it,O),Rt=yield function Oe(k){const{cordova:F}=Se();return new Promise(O=>{F.plugins.browsertab.isAvailable(ne=>{let Re=null;ne?F.plugins.browsertab.openUrl(k):Re=F.InAppBrowser.open(k,(0,R.ay)()?"_blank":"_system","location=yes"),O(Re)})})}(cn);return function ze(k,F,O){return Pe.apply(this,arguments)}(F,At,Rt)})()}_isIframeWebStorageSupported(F,O){throw new Error("Method not implemented.")}_originValidation(F){const O=F._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function oe(k){return Ue.apply(this,arguments)}(F)),this.originValidationPromises[O]}attachCallbackListeners(F,O){const{universalLinks:ne,handleOpenURL:Re,BuildInfo:Ke}=Se(),At=setTimeout((0,l.Z)(function*(){yield Be(F),O.onEvent(he())}),500),it=function(){var _n=(0,l.Z)(function*(Bt){clearTimeout(At);const Fi=yield Be(F);let xs=null;Fi&&Bt?.url&&(xs=function Ne(k,F){var O,ne;const Re=function fn(k){const F=un(k),O=F.link?decodeURIComponent(F.link):void 0,ne=un(O).link,Re=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return un(Re).link||Re||ne||O||k}(F);if(Re.includes("/__/auth/callback")){const Ke=un(Re),At=Ke.firebaseError?function gn(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(Ke.firebaseError)):null,it=null===(ne=null===(O=At?.code)||void 0===O?void 0:O.split("auth/"))||void 0===ne?void 0:ne[1],cn=it?(0,R.az)(it):null;return cn?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:cn,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:Re,postBody:null}}return null}(Fi,Bt.url)),O.onEvent(xs||he())});return function(Fi){return _n.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,it);const cn=Re,Rt=`${Ke.packageName.toLowerCase()}://`;Se().handleOpenURL=function(){var _n=(0,l.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Rt)&&it({url:Bt}),"function"==typeof cn)try{cn(Bt)}catch(Fi){console.error(Fi)}});return function(Bt){return _n.apply(this,arguments)}}()}};function he(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.az)("no-auth-event")}}function Qe(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function Qt(k=(0,ee.z$)()){return!("file:"!==Qe()&&"ionic:"!==Qe()&&"capacitor:"!==Qe()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function bn(){try{const k=self.localStorage,F=R.aL();if(k)return k.setItem(F,"1"),k.removeItem(F),!function qt(k=(0,ee.z$)()){return function Gt(){return(0,ee.w1)()&&11===document?.documentMode}()||function ft(k=(0,ee.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,ee.hl)()}catch{return pn()&&(0,ee.hl)()}return!1}function pn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function X(){return(function We(){return"http:"===Qe()||"https:"===Qe()}()||(0,ee.ru)()||Qt())&&!function yt(){return(0,ee.b$)()||(0,ee.UG)()}()&&bn()&&!pn()}function J(){return Qt()&&typeof document<"u"}function Ce(){return(Ce=(0,l.Z)(function*(){return!!J()&&new Promise(k=>{const F=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),k(!0)})})})).apply(this,arguments)}const Ze={LOCAL:"local",NONE:"none",SESSION:"session"},rn=R.aA,jt="persistence";function st(k){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(k){yield k._initializationPromise;const F=wn(),O=R.aD(jt,k.config.apiKey,k.name);F&&F.setItem(O,k._getPersistence())})).apply(this,arguments)}function wn(){var k;try{return(null===(k=function je(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const An=R.aA;class Ct{constructor(){this.browserResolver=R.aC(R.k),this.cordovaResolver=R.aC(le),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aE,this._overrideRedirectResult=R.aF}_initialize(F){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,O,ne,Re){var Ke=this;return(0,l.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openPopup(F,O,ne,Re)})()}_openRedirect(F,O,ne,Re){var Ke=this;return(0,l.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openRedirect(F,O,ne,Re)})()}_isIframeWebStorageSupported(F,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,O)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return J()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return An(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,l.Z)(function*(){if(F.underlyingResolver)return;const O=yield function ge(){return Ce.apply(this,arguments)}();F.underlyingResolver=O?F.cordovaResolver:F.browserResolver})()}}function dn(k){return k.unwrap()}function Ft(k){return Lt(k)}function Lt(k){const{_tokenResponse:F}=k instanceof ee.ZR?k.customData:k;if(!F)return null;if(!(k instanceof ee.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return R.P.credentialFromResult(k);const O=F.providerId;if(!O||O===R.p.PASSWORD)return null;let ne;switch(O){case R.p.GOOGLE:ne=R.V;break;case R.p.FACEBOOK:ne=R.U;break;case R.p.GITHUB:ne=R.W;break;case R.p.TWITTER:ne=R.Z;break;default:const{oauthIdToken:Re,oauthAccessToken:Ke,oauthTokenSecret:At,pendingToken:it,nonce:cn}=F;return Ke||At||Re||it?it?O.startsWith("saml.")?R.aO._create(O,it):R.L._fromParams({providerId:O,signInMethod:O,pendingToken:it,idToken:Re,accessToken:Ke}):new R.X(O).credential({idToken:Re,accessToken:Ke,rawNonce:cn}):null}return k instanceof ee.ZR?ne.credentialFromError(k):ne.credentialFromResult(k)}function mn(k,F){return F.catch(O=>{throw O instanceof ee.ZR&&function ii(k,F){var O;const ne=null===(O=F.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new Wn(k,R.aq(k,F));else if(ne){const Re=Lt(F),Ke=F;Re&&(Ke.credential=Re,Ke.tenantId=ne.tenantId||void 0,Ke.email=ne.email||void 0,Ke.phoneNumber=ne.phoneNumber||void 0)}}(k,O),O}).then(O=>{const Re=O.user;return{operationType:O.operationType,credential:Ft(O),additionalUserInfo:R.ao(O),user:kn.getOrCreate(Re)}})}function ki(k,F){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(k,F){const O=yield F;return{verificationId:O.verificationId,confirm:ne=>mn(k,O.confirm(ne))}})).apply(this,arguments)}class Wn{constructor(F,O){this.resolver=O,this.auth=function sn(k){return k.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return mn(dn(this.auth),this.resolver.resolveSignIn(F))}}class kn{constructor(F){this._delegate=F,this.multiFactor=R.ar(F)}static getOrCreate(F){return kn.USER_MAP.has(F)||kn.USER_MAP.set(F,new kn(F)),kn.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var O=this;return(0,l.Z)(function*(){return mn(O.auth,R.a0(O._delegate,F))})()}linkWithPhoneNumber(F,O){var ne=this;return(0,l.Z)(function*(){return ki(ne.auth,R.l(ne._delegate,F,O))})()}linkWithPopup(F){var O=this;return(0,l.Z)(function*(){return mn(O.auth,R.d(O._delegate,F,Ct))})()}linkWithRedirect(F){var O=this;return(0,l.Z)(function*(){return yield st(R.aH(O.auth)),R.g(O._delegate,F,Ct)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var O=this;return(0,l.Z)(function*(){return mn(O.auth,R.a1(O._delegate,F))})()}reauthenticateWithPhoneNumber(F,O){return ki(this.auth,R.r(this._delegate,F,O))}reauthenticateWithPopup(F){return mn(this.auth,R.e(this._delegate,F,Ct))}reauthenticateWithRedirect(F){var O=this;return(0,l.Z)(function*(){return yield st(R.aH(O.auth)),R.h(O._delegate,F,Ct)})()}sendEmailVerification(F){return R.ae(this._delegate,F)}unlink(F){var O=this;return(0,l.Z)(function*(){return yield R.an(O._delegate,F),O})()}updateEmail(F){return R.aj(this._delegate,F)}updatePassword(F){return R.ak(this._delegate,F)}updatePhoneNumber(F){return R.u(this._delegate,F)}updateProfile(F){return R.ai(this._delegate,F)}verifyBeforeUpdateEmail(F,O){return R.af(this._delegate,F,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}kn.USER_MAP=new WeakMap;const _e=R.aA;let Y=(()=>{class k{constructor(O,ne){if(this.app=O,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Re}=O.options;_e(Re,"invalid-api-key",{appName:O.name}),_e(Re,"invalid-api-key",{appName:O.name});const Ke=typeof window<"u"?Ct:void 0;this._delegate=ne.initialize({options:{persistence:$e(Re,O.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(R.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?kn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,ne){R.I(this._delegate,O,ne)}applyActionCode(O){return R.a5(this._delegate,O)}checkActionCode(O){return R.a6(this._delegate,O)}confirmPasswordReset(O,ne){return R.a4(this._delegate,O,ne)}createUserWithEmailAndPassword(O,ne){var Re=this;return(0,l.Z)(function*(){return mn(Re._delegate,R.a8(Re._delegate,O,ne))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return R.ad(this._delegate,O)}isSignInWithEmailLink(O){return R.ab(this._delegate,O)}getRedirectResult(){var O=this;return(0,l.Z)(function*(){_e(X(),O._delegate,"operation-not-supported-in-this-environment");const ne=yield R.j(O._delegate,Ct);return ne?mn(O._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function me(k,F){(0,R.aH)(k)._logFramework(F)}(this._delegate,O)}onAuthStateChanged(O,ne,Re){const{next:Ke,error:At,complete:it}=Ee(O,ne,Re);return this._delegate.onAuthStateChanged(Ke,At,it)}onIdTokenChanged(O,ne,Re){const{next:Ke,error:At,complete:it}=Ee(O,ne,Re);return this._delegate.onIdTokenChanged(Ke,At,it)}sendSignInLinkToEmail(O,ne){return R.aa(this._delegate,O,ne)}sendPasswordResetEmail(O,ne){return R.a3(this._delegate,O,ne||void 0)}setPersistence(O){var ne=this;return(0,l.Z)(function*(){let Re;switch(function Xe(k,F){rn(Object.values(Ze).includes(F),k,"invalid-persistence-type"),(0,ee.b$)()?rn(F!==Ze.SESSION,k,"unsupported-persistence-type"):(0,ee.UG)()?rn(F===Ze.NONE,k,"unsupported-persistence-type"):pn()?rn(F===Ze.NONE||F===Ze.LOCAL&&(0,ee.hl)(),k,"unsupported-persistence-type"):rn(F===Ze.NONE||bn(),k,"unsupported-persistence-type")}(ne._delegate,O),O){case Ze.SESSION:Re=R.a;break;case Ze.LOCAL:Re=(yield R.aC(R.i)._isAvailable())?R.i:R.b;break;case Ze.NONE:Re=R.N;break;default:return R.av("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(Re)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return mn(this._delegate,R._(this._delegate))}signInWithCredential(O){return mn(this._delegate,R.$(this._delegate,O))}signInWithCustomToken(O){return mn(this._delegate,R.a2(this._delegate,O))}signInWithEmailAndPassword(O,ne){return mn(this._delegate,R.a9(this._delegate,O,ne))}signInWithEmailLink(O,ne){return mn(this._delegate,R.ac(this._delegate,O,ne))}signInWithPhoneNumber(O,ne){return ki(this._delegate,R.s(this._delegate,O,ne))}signInWithPopup(O){var ne=this;return(0,l.Z)(function*(){return _e(X(),ne._delegate,"operation-not-supported-in-this-environment"),mn(ne._delegate,R.c(ne._delegate,O,Ct))})()}signInWithRedirect(O){var ne=this;return(0,l.Z)(function*(){return _e(X(),ne._delegate,"operation-not-supported-in-this-environment"),yield st(ne._delegate),R.f(ne._delegate,O,Ct)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return R.a7(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=Ze,k})();function Ee(k,F,O){let ne=k;"function"!=typeof k&&({next:ne,error:F,complete:O}=k);const Re=ne;return{next:At=>Re(At&&kn.getOrCreate(At)),error:F,complete:O}}function $e(k,F){const O=function Ot(k,F){const O=wn();if(!O)return[];const ne=R.aD(jt,k,F);switch(O.getItem(ne)){case Ze.NONE:return[R.N];case Ze.LOCAL:return[R.i,R.a];case Ze.SESSION:return[R.a];default:return[]}}(k,F);if(typeof self<"u"&&!O.includes(R.i)&&O.push(R.i),typeof window<"u")for(const ne of[R.b,R.a])O.includes(ne)||O.push(ne);return O.includes(R.N)||O.push(R.N),O}class at{constructor(){this.providerId="phone",this._delegate=new R.P(dn($.Z.auth()))}static credential(F,O){return R.P.credential(F,O)}verifyPhoneNumber(F,O){return this._delegate.verifyPhoneNumber(F,O)}unwrap(){return this._delegate}}at.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,at.PROVIDER_ID=R.P.PROVIDER_ID;const pt=R.aA;class an{constructor(F,O,ne=$.Z.app()){var Re;pt(null===(Re=ne.options)||void 0===Re?void 0:Re.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new R.R(F,O,ne.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function W(k){k.INTERNAL.registerComponent(new ye.wA("auth-compat",F=>{const O=F.getProvider("app-compat").getImmediate(),ne=F.getProvider("auth");return new Y(O,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.Q,FacebookAuthProvider:R.U,GithubAuthProvider:R.W,GoogleAuthProvider:R.V,OAuthProvider:R.X,SAMLAuthProvider:R.Y,PhoneAuthProvider:at,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:an,TwitterAuthProvider:R.Z,Auth:Y,AuthCredential:R.J,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.4.2")}($.Z)},2614:()=>{const lt=":";const qt=function(X,...J){if(qt.translate){const Ce=qt.translate(X,J);X=Ce[0],J=Ce[1]}let ge=pn(X[0],X.raw[0]);for(let Ce=1;Ce<X.length;Ce++)ge+=J[Ce-1]+pn(X[Ce],X.raw[Ce]);return ge},bn=":";function pn(X,J){return J.charAt(0)===bn?X.substring(function he(X,J){for(let ge=1,Ce=1;ge<X.length;ge++,Ce++)if("\\"===J[Ce])Ce++;else if(X[ge]===lt)return ge;throw new Error(`Unterminated $localize metadata block in "${J}".`)}(X,J)+1):X}globalThis.$localize=qt},4303:(lt,De,x)=>{x.d(De,{Jn:()=>bn,KN:()=>je,Xd:()=>Qe,qX:()=>We});var l=x(5861),$=x(4537),R=x(7879),ee=x(9058),ae=x(1878);class de{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function ye(_e){const Y=_e.getComponent();return"VERSION"===Y?.type}(Ee)){const $e=Ee.getImmediate();return`${$e.library}/${$e.version}`}return null}).filter(Ee=>Ee).join(" ")}}const Se="@firebase/app",H=new R.Yd("@firebase/app"),he={[Se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},me=new Map,ue=new Map;function Te(_e,Y){try{_e.container.addComponent(Y)}catch(Ee){H.debug(`Component ${Y.name} failed to register with FirebaseApp ${_e.name}`,Ee)}}function Qe(_e){const Y=_e.name;if(ue.has(Y))return H.debug(`There were multiple attempts to register component ${Y}.`),!1;ue.set(Y,_e);for(const Ee of me.values())Te(Ee,_e);return!0}function We(_e,Y){const Ee=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),_e.container.getProvider(Y)}const ft=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),bn="10.5.0";function je(_e,Y,Ee){var $e;let at=null!==($e=he[_e])&&void 0!==$e?$e:_e;Ee&&(at+=`-${Ee}`);const pt=at.match(/\s|\//),an=Y.match(/\s|\//);if(pt||an){const z=[`Unable to register library "${at}" with version "${Y}":`];return pt&&z.push(`library name "${at}" contains illegal characters (whitespace or "/")`),pt&&an&&z.push("and"),an&&z.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void H.warn(z.join(" "))}Qe(new $.wA(`${at}-version`,()=>({library:at,version:Y}),"VERSION"))}const jt="firebase-heartbeat-database",Xe=1,st="firebase-heartbeat-store";let wt=null;function Ot(){return wt||(wt=(0,ae.X3)(jt,Xe,{upgrade:(_e,Y)=>{0===Y&&_e.createObjectStore(st)}}).catch(_e=>{throw ft.create("idb-open",{originalErrorMessage:_e.message})})),wt}function An(){return(An=(0,l.Z)(function*(_e){try{return yield(yield Ot()).transaction(st).objectStore(st).get(sn(_e))}catch(Y){if(Y instanceof ee.ZR)H.warn(Y.message);else{const Ee=ft.create("idb-get",{originalErrorMessage:Y?.message});H.warn(Ee.message)}}})).apply(this,arguments)}function Ct(_e,Y){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(_e,Y){try{const $e=(yield Ot()).transaction(st,"readwrite");yield $e.objectStore(st).put(Y,sn(_e)),yield $e.done}catch(Ee){if(Ee instanceof ee.ZR)H.warn(Ee.message);else{const $e=ft.create("idb-set",{originalErrorMessage:Ee?.message});H.warn($e.message)}}})).apply(this,arguments)}function sn(_e){return`${_e.name}!${_e.options.appId}`}class Lt{constructor(Y){this.container=Y,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new Hi(Ee),this._heartbeatsCachePromise=this._storage.read().then($e=>(this._heartbeatsCache=$e,$e))}triggerHeartbeat(){var Y=this;return(0,l.Z)(function*(){const $e=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=mn();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==at&&!Y._heartbeatsCache.heartbeats.some(pt=>pt.date===at))return Y._heartbeatsCache.heartbeats.push({date:at,agent:$e}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(pt=>{const an=new Date(pt.date).valueOf();return Date.now()-an<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,l.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const Ee=mn(),{heartbeatsToSend:$e,unsentEntries:at}=function ki(_e,Y=1024){const Ee=[];let $e=_e.slice();for(const at of _e){const pt=Ee.find(an=>an.agent===at.agent);if(pt){if(pt.dates.push(at.date),Wn(Ee)>Y){pt.dates.pop();break}}else if(Ee.push({agent:at.agent,dates:[at.date]}),Wn(Ee)>Y){Ee.pop();break}$e=$e.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:$e}}(Y._heartbeatsCache.heartbeats),pt=(0,ee.L)(JSON.stringify({version:2,heartbeats:$e}));return Y._heartbeatsCache.lastSentHeartbeatDate=Ee,at.length>0?(Y._heartbeatsCache.heartbeats=at,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),pt})()}}function mn(){return(new Date).toISOString().substring(0,10)}class Hi{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,l.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function wn(_e){return An.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var Ee=this;return(0,l.Z)(function*(){var $e;if(yield Ee._canUseIndexedDBPromise){const pt=yield Ee.read();return Ct(Ee.app,{lastSentHeartbeatDate:null!==($e=Y.lastSentHeartbeatDate)&&void 0!==$e?$e:pt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var Ee=this;return(0,l.Z)(function*(){var $e;if(yield Ee._canUseIndexedDBPromise){const pt=yield Ee.read();return Ct(Ee.app,{lastSentHeartbeatDate:null!==($e=Y.lastSentHeartbeatDate)&&void 0!==$e?$e:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...Y.heartbeats]})}})()}}function Wn(_e){return(0,ee.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function kn(_e){Qe(new $.wA("platform-logger",Y=>new de(Y),"PRIVATE")),Qe(new $.wA("heartbeat",Y=>new Lt(Y),"PRIVATE")),je(Se,"0.9.20",_e),je(Se,"0.9.20","esm2017"),je("fire-js","")}("")},4537:(lt,De,x)=>{x.d(De,{H0:()=>Se,wA:()=>R,zt:()=>ae});var l=x(5861),$=x(9058);class R{constructor(H,Z,oe){this.name=H,this.instanceFactory=Z,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ee="[DEFAULT]";class ae{constructor(H,Z){this.name=H,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const Z=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(Z)){const oe=new $.BH;if(this.instancesDeferred.set(Z,oe),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:Z});Ue&&oe.resolve(Ue)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(H){var Z;const oe=this.normalizeInstanceIdentifier(H?.identifier),Ue=null!==(Z=H?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Oe){if(Ue)return null;throw Oe}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ye(pe){return"EAGER"===pe.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[Z,oe]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(Z);try{const Oe=this.getOrInitializeService({instanceIdentifier:Ue});oe.resolve(Oe)}catch{}}}}clearInstance(H=ee){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,l.Z)(function*(){const Z=Array.from(H.instances.values());yield Promise.all([...Z.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...Z.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ee){return this.instances.has(H)}getOptions(H=ee){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:Z={}}=H,oe=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:oe,options:Z});for(const[Oe,ze]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Oe)&&ze.resolve(Ue);return Ue}onInit(H,Z){var oe;const Ue=this.normalizeInstanceIdentifier(Z),Oe=null!==(oe=this.onInitCallbacks.get(Ue))&&void 0!==oe?oe:new Set;Oe.add(H),this.onInitCallbacks.set(Ue,Oe);const ze=this.instances.get(Ue);return ze&&H(ze,Ue),()=>{Oe.delete(H)}}invokeOnInitCallbacks(H,Z){const oe=this.onInitCallbacks.get(Z);if(oe)for(const Ue of oe)try{Ue(H,Z)}catch{}}getOrInitializeService({instanceIdentifier:H,options:Z={}}){let oe=this.instances.get(H);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=H,pe===ee?void 0:pe),options:Z}),this.instances.set(H,oe),this.instancesOptions.set(H,Z),this.invokeOnInitCallbacks(oe,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,oe)}catch{}var pe;return oe||null}normalizeInstanceIdentifier(H=ee){return this.component?this.component.multipleInstances?H:ee:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const Z=this.getProvider(H.name);if(Z.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);Z.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const Z=new ae(H,this);return this.providers.set(H,Z),Z}getProviders(){return Array.from(this.providers.values())}}},7879:(lt,De,x)=>{x.d(De,{Am:()=>pe,Ub:()=>Se,Yd:()=>ye,in:()=>$});const l=[];var $=function(H){return H[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",H}($||{});const R={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ee=$.INFO,ae={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},de=(H,Z,...oe)=>{if(Z<H.logLevel)return;const Ue=(new Date).toISOString(),Oe=ae[Z];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Oe](`[${Ue}]  ${H.name}:`,...oe)};class ye{constructor(Z){this.name=Z,this._logLevel=ee,this._logHandler=de,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in $))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?R[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...Z),this._logHandler(this,$.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...Z),this._logHandler(this,$.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,$.INFO,...Z),this._logHandler(this,$.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,$.WARN,...Z),this._logHandler(this,$.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...Z),this._logHandler(this,$.ERROR,...Z)}}function Se(H){l.forEach(Z=>{Z.setLogLevel(H)})}function pe(H,Z){for(const oe of l){let Ue=null;Z&&Z.level&&(Ue=R[Z.level]),oe.userLogHandler=null===H?null:(Oe,ze,...Pe)=>{const qe=Pe.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");ze>=(Ue??Oe.logLevel)&&H({level:$[ze].toLowerCase(),message:qe,args:Pe,type:Oe.name})}}}},1878:(lt,De,x)=>{x.d(De,{X3:()=>ot});var l=x(5861);const $=(G,Ne)=>Ne.some(Ge=>G instanceof Ge);let R,ee;const ye=new WeakMap,Se=new WeakMap,pe=new WeakMap,H=new WeakMap,Z=new WeakMap;let Oe={get(G,Ne,Ge){if(G instanceof IDBTransaction){if("done"===Ne)return Se.get(G);if("objectStoreNames"===Ne)return G.objectStoreNames||pe.get(G);if("store"===Ne)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return Me(G[Ne])},set:(G,Ne,Ge)=>(G[Ne]=Ge,!0),has:(G,Ne)=>G instanceof IDBTransaction&&("done"===Ne||"store"===Ne)||Ne in G};function qe(G){return"function"==typeof G?function Pe(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...Ne){return G.apply(ht(this),Ne),Me(ye.get(this))}:function(...Ne){return Me(G.apply(ht(this),Ne))}:function(Ne,...Ge){const mt=G.call(ht(this),Ne,...Ge);return pe.set(mt,Ne.sort?Ne.sort():[Ne]),Me(mt)}}(G):(G instanceof IDBTransaction&&function Ue(G){if(Se.has(G))return;const Ne=new Promise((Ge,mt)=>{const $t=()=>{G.removeEventListener("complete",gn),G.removeEventListener("error",fn),G.removeEventListener("abort",fn)},gn=()=>{Ge(),$t()},fn=()=>{mt(G.error||new DOMException("AbortError","AbortError")),$t()};G.addEventListener("complete",gn),G.addEventListener("error",fn),G.addEventListener("abort",fn)});Se.set(G,Ne)}(G),$(G,function ae(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,Oe):G)}function Me(G){if(G instanceof IDBRequest)return function oe(G){const Ne=new Promise((Ge,mt)=>{const $t=()=>{G.removeEventListener("success",gn),G.removeEventListener("error",fn)},gn=()=>{Ge(Me(G.result)),$t()},fn=()=>{mt(G.error),$t()};G.addEventListener("success",gn),G.addEventListener("error",fn)});return Ne.then(Ge=>{Ge instanceof IDBCursor&&ye.set(Ge,G)}).catch(()=>{}),Z.set(Ne,G),Ne}(G);if(H.has(G))return H.get(G);const Ne=qe(G);return Ne!==G&&(H.set(G,Ne),Z.set(Ne,G)),Ne}const ht=G=>Z.get(G);function ot(G,Ne,{blocked:Ge,upgrade:mt,blocking:$t,terminated:gn}={}){const fn=indexedDB.open(G,Ne),un=Me(fn);return mt&&fn.addEventListener("upgradeneeded",ln=>{mt(Me(fn.result),ln.oldVersion,ln.newVersion,Me(fn.transaction),ln)}),Ge&&fn.addEventListener("blocked",ln=>Ge(ln.oldVersion,ln.newVersion,ln)),un.then(ln=>{gn&&ln.addEventListener("close",()=>gn()),$t&&ln.addEventListener("versionchange",Gn=>$t(Gn.oldVersion,Gn.newVersion,Gn))}).catch(()=>{}),un}const be=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],we=new Map;function Be(G,Ne){if(!(G instanceof IDBDatabase)||Ne in G||"string"!=typeof Ne)return;if(we.get(Ne))return we.get(Ne);const Ge=Ne.replace(/FromIndex$/,""),mt=Ne!==Ge,$t=ce.includes(Ge);if(!(Ge in(mt?IDBIndex:IDBObjectStore).prototype)||!$t&&!be.includes(Ge))return;const gn=function(){var fn=(0,l.Z)(function*(un,...ln){const Gn=this.transaction(un,$t?"readwrite":"readonly");let le=Gn.store;return mt&&(le=le.index(ln.shift())),(yield Promise.all([le[Ge](...ln),$t&&Gn.done]))[0]});return function(ln){return fn.apply(this,arguments)}}();return we.set(Ne,gn),gn}!function ze(G){Oe=G(Oe)}(G=>({...G,get:(Ne,Ge,mt)=>Be(Ne,Ge)||G.get(Ne,Ge,mt),has:(Ne,Ge)=>!!Be(Ne,Ge)||G.has(Ne,Ge)}))},5861:(lt,De,x)=>{function l(R,ee,ae,de,ye,Se,pe){try{var H=R[Se](pe),Z=H.value}catch(oe){return void ae(oe)}H.done?ee(Z):Promise.resolve(Z).then(de,ye)}function $(R){return function(){var ee=this,ae=arguments;return new Promise(function(de,ye){var Se=R.apply(ee,ae);function pe(Z){l(Se,de,ye,pe,H,"next",Z)}function H(Z){l(Se,de,ye,pe,H,"throw",Z)}pe(void 0)})}}x.d(De,{Z:()=>$})},7582:(lt,De,x)=>{function ee(le,he){var me={};for(var ue in le)Object.prototype.hasOwnProperty.call(le,ue)&&he.indexOf(ue)<0&&(me[ue]=le[ue]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(ue=Object.getOwnPropertySymbols(le);Te<ue.length;Te++)he.indexOf(ue[Te])<0&&Object.prototype.propertyIsEnumerable.call(le,ue[Te])&&(me[ue[Te]]=le[ue[Te]])}return me}function oe(le,he,me,ue){return new(me||(me=Promise))(function(He,Qe){function We(Gt){try{yt(ue.next(Gt))}catch(ft){Qe(ft)}}function Qt(Gt){try{yt(ue.throw(Gt))}catch(ft){Qe(ft)}}function yt(Gt){Gt.done?He(Gt.value):function Te(He){return He instanceof me?He:new me(function(Qe){Qe(He)})}(Gt.value).then(We,Qt)}yt((ue=ue.apply(le,he||[])).next())})}function re(le){return this instanceof re?(this.v=le,this):new re(le)}function be(le,he,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ue=me.apply(le,he||[]),He=[];return Te={},Qe("next"),Qe("throw"),Qe("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function Qe(qt){ue[qt]&&(Te[qt]=function(bn){return new Promise(function(pn,X){He.push([qt,bn,pn,X])>1||We(qt,bn)})})}function We(qt,bn){try{!function Qt(qt){qt.value instanceof re?Promise.resolve(qt.value.v).then(yt,Gt):ft(He[0][2],qt)}(ue[qt](bn))}catch(pn){ft(He[0][3],pn)}}function yt(qt){We("next",qt)}function Gt(qt){We("throw",qt)}function ft(qt,bn){qt(bn),He.shift(),He.length&&We(He[0][0],He[0][1])}}function we(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,he=le[Symbol.asyncIterator];return he?he.call(le):(le=function Pe(le){var he="function"==typeof Symbol&&Symbol.iterator,me=he&&le[he],ue=0;if(me)return me.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&ue>=le.length&&(le=void 0),{value:le&&le[ue++],done:!le}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),me={},ue("next"),ue("throw"),ue("return"),me[Symbol.asyncIterator]=function(){return this},me);function ue(He){me[He]=le[He]&&function(Qe){return new Promise(function(We,Qt){!function Te(He,Qe,We,Qt){Promise.resolve(Qt).then(function(yt){He({value:yt,done:We})},Qe)}(We,Qt,(Qe=le[He](Qe)).done,Qe.value)})}}}x.d(De,{FC:()=>be,KL:()=>we,_T:()=>ee,mG:()=>oe,qq:()=>re}),"function"==typeof SuppressedError&&SuppressedError}},lt=>{var De=l=>lt(lt.s=l);De(2614),De(2829)}]);